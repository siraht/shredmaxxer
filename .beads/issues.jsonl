{"id":"shredmaxxer-1rv","title":"Roster edit helpers","description":"# Summary\nAdd pure helper functions for editing roster items (labels, tags, aliases, pinned/archived) to support the roster management UI.\n\n# Scope\n- Update label with normalization and timestamps.\n- Update tags/aliases with trimming + de-dupe.\n- Toggle pinned/archived with timestamp updates.\n\n# Acceptance\n- Helpers are pure and unit-tested.\n- Timestamps update consistently.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:37:02.467297986Z","created_by":"ubuntu","updated_at":"2026-01-13T01:37:49.787717611Z","closed_at":"2026-01-13T01:37:49.787717611Z","close_reason":"Added roster edit helpers + tests"}
{"id":"shredmaxxer-22j","title":"Diagnostics: snapshot count","description":"# Summary\\nAdd snapshot count to Diagnostics panel and wire listSnapshots.\\n\\n# Scope\\n- Add diag row in index.html\\n- Wire element + async count in ui/legacy.js\\n- Expose listSnapshots action in app.js\\n\\n# Acceptance\\n- Diagnostics shows snapshot count without errors","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:27:55.959948214Z","created_by":"ubuntu","updated_at":"2026-01-13T02:28:49.120286269Z","closed_at":"2026-01-13T02:28:49.120286269Z","close_reason":"Snapshot count wired in diagnostics"}
{"id":"shredmaxxer-4ci","title":"Migration helper (v3 -\u003e v4)","description":"# Summary\nProvide a pure migration helper that converts v3 localStorage state into v4 schema (IDs, tags, revs, meta).\n\n# Scope\n- Convert roster label arrays to v4 RosterItem objects with stable IDs.\n- Map logged label arrays to item IDs (create missing roster items on the fly).\n- Fill required v4 fields (settings, meta, revs, timestamps) with safe defaults.\n\n# Acceptance\n- Migration preserves all logged items and toggles.\n- Labels are mapped to IDs deterministically and without loss.\n- Unit tests cover key cases (missing roster items, boolean collision flags, empty rosters).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:30:09.085856124Z","created_by":"ubuntu","updated_at":"2026-01-13T01:31:55.285934479Z","closed_at":"2026-01-13T01:31:55.285934479Z","close_reason":"Added v3-\u003ev4 migration helper + tests"}
{"id":"shredmaxxer-4hq","title":"Diagnostics panel wiring (storage + persist status)","description":"# Summary\\nWire the Diagnostics panel in History view to state meta (storage mode, persist status, app version, install ID).\\n\\n# Scope\\n- Add elements to ui/elements.js\\n- Render meta values in ui/legacy.js\\n- Minimal styling in style.css\\n\\n# Acceptance\\n- Diagnostics shows real values after load\\n- No console errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:25:35.730310401Z","created_by":"ubuntu","updated_at":"2026-01-13T02:26:43.950984691Z","closed_at":"2026-01-13T02:26:43.950984691Z","close_reason":"Diagnostics panel wired to meta + styling"}
{"id":"shredmaxxer-6t9","title":"Copy yesterday segments","description":"Add a copy-yesterday control that overwrites current day segments with previous day, with confirmation and undo support.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:37:27.968779823Z","created_by":"ubuntu","updated_at":"2026-01-13T02:37:32.909524684Z","closed_at":"2026-01-13T02:37:32.909524684Z","close_reason":"Implemented copy-yesterday button + action"}
{"id":"shredmaxxer-8as","title":"Solar Log v4 — Program Plan","description":"# Summary\nEstablish the full, self‑documenting implementation roadmap for Solar Log v4 and act as the parent epic for all v4 work.\n\n# Background\nSolar Log v4 is a local‑first PWA that evolves the current v3 prototype into a durable, explainable, and ultra‑fast logging tool for the segmented‑day protocol (FTN → Lunch → Dinner → Late). The v4 spec emphasizes a formal time model, IndexedDB‑first persistence, roster IDs/tags, computed‑plus‑override flags, and a Review/Insights loop—all without introducing a build chain or backend.\n\n# Intent / Why this exists\nThis epic exists to keep the entire v4 effort coherent. Every sub‑issue should map to a spec requirement, and the dependency graph should reflect what must be solved first (time model, storage, roster identity) versus what can be layered later (insights, privacy hardening).\n\n# Scope\n- Owns the full dependency graph for v4 implementation work.\n- Ensures each child issue includes rationale, considerations, and acceptance criteria for future‑self clarity.\n\n# Non‑goals\n- It does not implement features by itself; it orchestrates the work.\n\n# Acceptance\n- All v4 work is represented as child issues with explicit dependencies.\n- Dependencies reflect spec priorities (P0 → P1 → P2).\n- Future readers can understand the *why* and *how* from issue descriptions alone.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:17:36.260201066Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:44.446535257Z","closed_at":"2026-01-13T03:15:44.446535257Z","close_reason":"All child epics closed; v4 program plan complete."}
{"id":"shredmaxxer-8as.1","title":"Architecture \u0026 App Skeleton","description":"# Summary\nSplit the v3 monolith into v4‑ready ES modules (domain/storage/ui/app) with a tiny unidirectional store, while preserving the no‑build‑chain constraint.\n\n# Background\nThe current prototype is a single `app.js`. v4 needs clearer boundaries to support time semantics, IndexedDB, migration, and review logic without turning the file into an unmaintainable blob.\n\n# Intent / Why this exists\nA small, explicit architecture improves correctness and keeps future features (insights, privacy, review) from tangled UI logic. This epic lays the rails for all other work.\n\n# Scope\n- ES module entrypoint and app bootstrap.\n- Tiny store and reducer pattern (pure updates + persistence hooks).\n- Domain utilities separated from UI.\n\n# Considerations\n- Must remain framework‑free and load directly in the browser.\n- Prefer `// @ts-check` + JSDoc for type safety without a build step.\n\n# Acceptance\n- Project compiles in the browser with `\u003cscript type=\"module\"\u003e`.\n- New modules are discoverable by domain (time, storage, ui, app).\n- No feature regressions in basic logging.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:17:43.905243057Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.674384243Z","closed_at":"2026-01-13T03:15:41.674384243Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.1","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:17:43.906462222Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.1","title":"Create ES module entrypoint + boot flow","description":"# Summary\nIntroduce an ES module entry (`app/boot.js` or similar) that initializes state, storage adapter, and UI rendering.\n\n# Background\nThe v3 prototype uses a single script tag. v4 needs a module entrypoint to support imports and modular separation while staying build‑less.\n\n# Rationale\nA clear boot path is necessary for deterministic init (load settings, select storage, request persistence, render UI) and enables future diagnostics and update flows.\n\n# Scope\n- Define boot sequence order: load state → init storage → render UI → bind events → start timers.\n- Ensure compatibility with static hosting (no bundler).\n\n# Acceptance\n- `index.html` loads a single module entrypoint.\n- App initializes without errors in a fresh browser profile.\n- Boot path is documented in code comments or a short README note.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:17:50.53570387Z","created_by":"ubuntu","updated_at":"2026-01-13T01:01:32.163957716Z","closed_at":"2026-01-13T01:01:32.163957716Z","close_reason":"Added app/boot.js module entry and switched index.html to module script","dependencies":[{"issue_id":"shredmaxxer-8as.1.1","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:17:50.537055299Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.2","title":"Implement tiny store + reducer contract","description":"# Summary\nCreate a small unidirectional state container (store) with reducer‑style updates and persistence hooks.\n\n# Background\nv4 introduces more complex state (ID‑based rosters, per‑segment revisions, snapshots). A minimal store keeps changes predictable and makes merge logic testable.\n\n# Rationale\nSeparating state transitions from UI events improves correctness and makes import/merge logic safer.\n\n# Scope\n- Define `dispatch(action)` → `reducer(state, action)` flow.\n- Keep reducer pure; side‑effects handled in thin middleware/handlers.\n- Add selectors for common derived UI data (segment counts, effective flags, etc.).\n\n# Acceptance\n- All UI event handlers dispatch actions rather than mutating state directly.\n- Persistence layer writes only deltas (settings, rosters, day logs) after actions.\n- No framework or external dependencies.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:17:56.12727909Z","created_by":"ubuntu","updated_at":"2026-01-13T01:00:36.484605637Z","closed_at":"2026-01-13T01:00:36.484605637Z","close_reason":"Added tiny store (app/store.js), reducer skeleton (app/reducer.js), and selectors (domain/selectors.js)","dependencies":[{"issue_id":"shredmaxxer-8as.1.2","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:17:56.128549127Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.2","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:02.551664737Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.3","title":"Define v4 schema + JSDoc typedefs","description":"# Summary\nIntroduce a single source of truth for v4 data structures using JSDoc typedefs (TrackerState, DayLog, SegmentLog, RosterItem, Settings, Meta, Snapshot).\n\n# Background\nThe spec defines a detailed v4 schema but the codebase currently uses implicit shapes. JSDoc gives editor safety without TypeScript tooling.\n\n# Rationale\nThis keeps data contracts explicit and reduces schema drift during migration and import/export work.\n\n# Scope\n- Add a `domain/schema.js` (or similar) containing `@typedef` blocks.\n- Reference typedefs throughout domain/storage/ui modules via `// @ts-check`.\n\n# Acceptance\n- `TrackerState` and related types are centrally documented.\n- Editors show type hints in key files.\n- Types match the spec (including tri‑state, IDs, revisions).\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:01.544482571Z","created_by":"ubuntu","updated_at":"2026-01-13T00:56:11.97426516Z","closed_at":"2026-01-13T00:56:11.97426516Z","close_reason":"Added domain/schema.js with v4 JSDoc typedefs","dependencies":[{"issue_id":"shredmaxxer-8as.1.3","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:18:01.545760915Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.4","title":"Split UI rendering + event bindings into ui/","description":"# Summary\nMove DOM rendering and event wiring into dedicated `ui/` modules to isolate presentation from domain logic.\n\n# Background\nCurrently, view logic and data operations are interleaved. v4 adds more screens (Review, Diagnostics), making separation crucial.\n\n# Rationale\nThis keeps UI changes from breaking storage or domain logic and makes it easier to test selectors and reducers.\n\n# Scope\n- Render functions for Today/History/Review/Settings.\n- Event bindings translate UI interactions into store actions.\n- Minimal templating via DOM helpers.\n\n# Acceptance\n- UI modules do not mutate state directly.\n- Domain modules are UI‑agnostic.\n- All existing screens still render.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:18:06.548424932Z","created_by":"ubuntu","updated_at":"2026-01-13T01:14:29.330867887Z","closed_at":"2026-01-13T01:14:29.330867887Z","close_reason":"Split UI rendering + event bindings into ui/ modules (elements + legacy)","dependencies":[{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:18:06.55069786Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1.1","type":"blocks","created_at":"2026-01-13T00:24:02.626411465Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:02.700496757Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.5","title":"Extend Settings schema + defaults (phase, sunMode, privacy, weekStart)","description":"# Summary\nExpand Settings to include v4 fields: phase, sunMode, sunrise/sunset auto data, privacy options, and week start for review.\n\n# Background\nThe v4 schema defines these fields but v3 only tracks basic times and focus mode.\n\n# Rationale\nThese fields are prerequisites for time model correctness, review targeting, and privacy features.\n\n# Scope\n- Add defaults for `phase`, `sunMode`, `privacy`, `lastKnownLat/Lon`, and `weekStart` (if added).\n- Update schema typedefs accordingly.\n\n# Acceptance\n- Default state includes all v4 settings fields.\n- Settings can be persisted without breaking migration.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:23.625700258Z","created_by":"ubuntu","updated_at":"2026-01-13T01:29:06.785958613Z","closed_at":"2026-01-13T01:29:06.785958613Z","close_reason":"Added v4 settings defaults + weekStart + persistence merge","dependencies":[{"issue_id":"shredmaxxer-8as.1.5","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:27:23.627295526Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.5","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:34.977496731Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.6","title":"Revision + timestamp semantics for logs","description":"# Summary\nImplement consistent `rev`, `tsFirst`, and `tsLast` rules for DayLog and SegmentLog updates.\n\n# Background\nv4 merge semantics rely on per‑segment `rev` and `tsLast`. v3 only tracked timestamps ad‑hoc.\n\n# Rationale\nDeterministic revisioning prevents merge conflicts and ensures last‑write wins behavior is reliable.\n\n# Scope\n- `tsFirst` set only on first user touch.\n- `tsLast` set on every change.\n- `rev` increments only when a change occurs (per segment and per day).\n\n# Acceptance\n- Revisions are monotonic and stable.\n- Import merge can compare `(rev, tsLast)` safely.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:28:01.550907272Z","created_by":"ubuntu","updated_at":"2026-01-13T01:37:43.846573008Z","closed_at":"2026-01-13T01:37:43.846573008Z","close_reason":"Added revision helpers + wired day/segment rev/ts updates","dependencies":[{"issue_id":"shredmaxxer-8as.1.6","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:28:01.55225792Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.6","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:28:35.05791394Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10","title":"QA, Acceptance, and Docs","description":"# Summary\nDocument acceptance checks, test fixtures, and operational guidance for v4.\n\n# Background\nThe spec includes a QA checklist; as the project grows, explicit verification steps reduce regressions.\n\n# Intent / Why this exists\nA small, explicit QA layer keeps v4 behavior stable across time model changes, imports, and UI additions.\n\n# Scope\n- QA checklist mapped to manual test steps\n- Fixture data for migration/import tests\n- Performance checks for load time and logging speed\n\n# Acceptance\n- QA checklist is actionable and stored in repo.\n- Critical flows have repeatable manual tests.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-13T00:22:29.325178778Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.802689222Z","closed_at":"2026-01-13T03:15:41.802689222Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.10","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:22:29.326413253Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.1","title":"QA checklist → manual test plan","description":"# Summary\nTranslate the spec’s QA checklist into a concrete manual test plan.\n\n# Background\nThe spec lists acceptance bullets for time model, logging, review, backup, and PWA reliability.\n\n# Rationale\nTurning bullets into a repeatable checklist reduces regressions during iterative work.\n\n# Scope\n- Document step‑by‑step tests for each QA category.\n- Include expected outcomes and edge cases.\n\n# Acceptance\n- QA plan is stored in repo (e.g., `docs/qa.md`).\n- Tests cover all P0 flows.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:35.105396969Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:36.286133256Z","closed_at":"2026-01-13T03:04:36.286133256Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.1","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:35.106659701Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.2","title":"Migration/import fixture data","description":"# Summary\nCreate fixture datasets to verify v3→v4 migration, merge logic, and snapshot restore paths.\n\n# Background\nImport/merge code is easy to break without representative data.\n\n# Rationale\nFixtures allow deterministic verification of migration and merge outcomes.\n\n# Scope\n- Sample v3 export with collisions, seed oils, and varied segments.\n- Sample v4 export with rev/tsLast conflicts for merge testing.\n\n# Acceptance\n- Fixtures cover key edge cases (wrap‑around day, missing roster items).\n- Fixtures are documented with expected outcomes.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:50.026983157Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:39.429639402Z","closed_at":"2026-01-13T03:04:39.429639402Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.2","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:50.02870051Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.3","title":"Performance budget checks","description":"# Summary\nDefine and validate performance targets (Today load \u003c1s, logging flow \u003c10s).\n\n# Background\nThe UX success metric in the spec is speed; we need explicit checks.\n\n# Rationale\nPerformance regression is easy in feature‑rich PWA apps; a budget keeps scope aligned.\n\n# Scope\n- Document timing expectations for initial load and primary logging flow.\n- Add a simple manual measurement checklist (e.g., devtools timing + stopwatch).\n\n# Acceptance\n- Performance budget is documented and referenced during QA.\n- Any regression is noted as a release blocker for P0.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:56.637176131Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:44.041237411Z","closed_at":"2026-01-13T03:04:44.041237411Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.3","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:56.638529114Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.4","title":"Docs: README + implementation notes","description":"# Summary\nKeep README and implementation notes aligned with v4 progress and module layout.\n\n# Background\nAs modules are added, the README must remain the on‑ramp for new contributors.\n\n# Rationale\nClear docs reduce re‑discovery cost and prevent spec drift.\n\n# Scope\n- Update README structure as modules land.\n- Add short notes for time model and storage behavior.\n\n# Acceptance\n- README accurately reflects current architecture and status.\n- Any spec deviations are documented explicitly.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:23:02.724734062Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:49.949280549Z","closed_at":"2026-01-13T03:04:49.949280549Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.4","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:23:02.726615635Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11","title":"Supplements Module (Optional)","description":"# Summary\nImplement the optional supplements tracking module, off by default, to support experimentation without daily overhead.\n\n# Background\nThe spec includes a supplements module as an optional feature. It should not add friction for users who don’t use it.\n\n# Intent / Why this exists\nSome users want to track supplements alongside protocol adherence. Keeping it optional preserves the minimalist core.\n\n# Scope\n- Settings toggle for supplements mode (none/essential/advanced).\n- Optional supplements roster (or tag‑based reuse).\n- Simple logging UI + notes.\n\n# Acceptance\n- Module is fully disabled by default.\n- Enabling does not affect core logging performance.\n- Data cleanly round‑trips via export/import.\n","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-13T00:27:06.67030354Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.829280184Z","closed_at":"2026-01-13T03:15:41.829280184Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.11","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:27:06.671649578Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11.1","title":"Supplements settings + data model","description":"# Summary\nAdd supplements mode to Settings and extend schema to include SupplementsLog.\n\n# Background\nThe v4 schema includes `supplements` on DayLog and a `supplements` roster category.\n\n# Rationale\nSchema support is required before UI and export/import can round‑trip the module.\n\n# Scope\n- Add `settings.supplementsMode` or reuse `supplements.mode` default.\n- Extend schema typedefs and defaults.\n\n# Acceptance\n- Supplements fields exist in default state when enabled.\n- Export/import includes supplements fields.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:27:11.352465617Z","created_by":"ubuntu","updated_at":"2026-01-13T02:54:45.388288588Z","closed_at":"2026-01-13T02:54:45.388288588Z","close_reason":"Added supplements mode setting + defaults; schema/validation/migration and roster defaults now include supplements","dependencies":[{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.11","type":"parent-child","created_at":"2026-01-13T00:27:11.353861094Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:36.150770322Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:36.230432177Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11.2","title":"Supplements roster + logging UI","description":"# Summary\nCreate a lightweight UI to select supplements and add notes when the module is enabled.\n\n# Background\nSupplements are optional and should not clutter the core segment sheet.\n\n# Rationale\nA separate, minimal panel preserves the main logging ritual.\n\n# Scope\n- Supplements roster management (if separate category).\n- Simple checklist UI for daily supplements.\n- Notes field for exceptions.\n\n# Acceptance\n- UI appears only when supplements mode is enabled.\n- Logging is fast and does not affect segment flow.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:27:15.945853313Z","created_by":"ubuntu","updated_at":"2026-01-13T03:02:51.050230573Z","closed_at":"2026-01-13T03:02:51.050230573Z","close_reason":"Added supplements panel in Today (chips + notes) gated by supplementsMode; roster block in Settings; actions wired","dependencies":[{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.11","type":"parent-child","created_at":"2026-01-13T00:27:15.947186014Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.11.1","type":"blocks","created_at":"2026-01-13T00:28:36.308652813Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:36.387332909Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2","title":"Protocol Day Time Model","description":"# Summary\nImplement the formal protocol‑day time model with wrap‑around support, activeDay resolution, and deterministic DST handling.\n\n# Background\nv4 introduces a protocol day anchored to `dayStart` and `dayEnd`, which may cross midnight. This underpins segment windows, the now marker, and solar arc behavior.\n\n# Intent / Why this exists\nIncorrect time semantics will silently corrupt logs (e.g., after midnight) and break the core ritual flow. This epic ensures correctness and clarity.\n\n# Scope\n- Time parsing and boundary lifting\n- Segment window computation for wrap‑around days\n- activeDay(now) mapping to DateKey\n- DST clamp policy and diagnostics surfacing\n\n# Acceptance\n- After midnight, logs map to the correct protocol day.\n- Segment windows are monotonic even when `dayEnd \u003c= dayStart`.\n- DST edge cases are deterministic and visible in diagnostics.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:18:12.065923567Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.701014705Z","closed_at":"2026-01-13T03:15:41.701014705Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.2","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:18:12.067190588Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.1","title":"Implement time utilities + DST clamp policy","description":"# Summary\nAdd core time utilities for HH:MM parsing, minute math, and deterministic DST clamping.\n\n# Background\nWall‑clock times can be invalid/ambiguous during DST transitions. The spec requires a deterministic clamp so segment boundaries remain monotonic.\n\n# Rationale\nWithout a deterministic policy, protocol day boundaries could reorder or collapse, producing subtle logging errors.\n\n# Scope\n- `parseTimeToMinutes`, `minutesToTime`, and safe normalization.\n- DST clamp routine: detect invalid/ambiguous local times and clamp in a consistent direction.\n- Expose clamp metadata for diagnostics display.\n\n# Acceptance\n- Utility functions are pure and unit‑testable.\n- DST clamp behavior is documented and stable.\n- Diagnostics can display when a clamp occurred.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:18.013378462Z","created_by":"ubuntu","updated_at":"2026-01-13T00:57:49.292940547Z","closed_at":"2026-01-13T00:57:49.292940547Z","close_reason":"Added domain/time.js with parse/minutes utilities and DST clamp policy","dependencies":[{"issue_id":"shredmaxxer-8as.2.1","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:18.014619381Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.2","title":"Compute protocol day boundaries + segment windows","description":"# Summary\nCompute a monotonic timeline for the protocol day, including wrap‑around handling and segment windows (FTN, Lunch, Dinner, Late).\n\n# Background\nv4 defines the protocol day as `[dayStart, dayEnd)` with wrap‑around if `dayEnd \u003c= dayStart`. Segment boundaries must be lifted into a monotonic range.\n\n# Rationale\nAll timeline rendering, logging, and active segment detection depends on these windows.\n\n# Scope\n- Boundary lifting algorithm (`if b \u003c start then b += 1440`).\n- Ensure `end \u003e start` by lifting dayEnd when wrap‑around.\n- Return segment windows with start/end minutes in a monotonic frame.\n\n# Acceptance\n- Segments are strictly ordered and cover the full protocol day.\n- Wrap‑around days produce correct windows without negative spans.\n- Unit tests cover same‑day and wrap‑around cases.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:23.702734581Z","created_by":"ubuntu","updated_at":"2026-01-13T00:58:42.503739787Z","closed_at":"2026-01-13T00:58:42.503739787Z","close_reason":"Added protocol boundary lifting + segment window helpers in domain/time.js","dependencies":[{"issue_id":"shredmaxxer-8as.2.2","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:23.70402096Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.2","depends_on_id":"shredmaxxer-8as.2.1","type":"blocks","created_at":"2026-01-13T00:24:02.15935178Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.3","title":"Implement activeDay(now) + DateKey mapping","description":"# Summary\nDetermine the protocol day that contains a given wall‑clock time, and map it to a canonical DateKey (local date of dayStart).\n\n# Background\nWhen the protocol day wraps midnight, the active day after midnight should map to the prior calendar date. This is central to correct logging.\n\n# Rationale\nIncorrect DateKey selection causes data to land in the wrong day, breaking history and review analytics.\n\n# Scope\n- `activeDay(now, settings)` returning DateKey.\n- Helpers for local date math without UTC drift.\n- Tests for edge cases around midnight and wrap‑around windows.\n\n# Acceptance\n- After midnight (before dayEnd), activeDay returns yesterday’s DateKey.\n- For non‑wrap days, activeDay matches the current calendar date.\n- Verified with deterministic test cases.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:28.77339688Z","created_by":"ubuntu","updated_at":"2026-01-13T01:03:07.988112441Z","closed_at":"2026-01-13T01:03:07.988112441Z","close_reason":"Implemented activeDayKey + tests","dependencies":[{"issue_id":"shredmaxxer-8as.2.3","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:28.774712308Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.3","depends_on_id":"shredmaxxer-8as.2.2","type":"blocks","created_at":"2026-01-13T00:24:02.234791226Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.4","title":"Clamp timeline visuals to protocol day","description":"# Summary\nEnsure the UI timeline, now marker, and solar arc are clamped to the computed protocol day window.\n\n# Background\nThe timeline uses start/end bounds. With wrap‑around days, sunrise/sunset and now marker can fall outside the visible range.\n\n# Rationale\nVisuals must never break or show inverted arcs; the UI should stay stable even with unusual settings.\n\n# Scope\n- Clamp now marker position inside `[start, end)`.\n- Clamp sunrise/sunset to the visible timeline.\n- Ensure segment highlight uses activeDay + window map.\n\n# Acceptance\n- No UI breakage with wrap‑around settings.\n- Now marker never renders outside the timeline.\n- Solar arc always renders inside bounds.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:33.550142106Z","created_by":"ubuntu","updated_at":"2026-01-13T01:09:18.675231504Z","closed_at":"2026-01-13T01:09:18.675231504Z","close_reason":"Clamp now marker + solar arc with wrap-around support","dependencies":[{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:33.551462283Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2.2","type":"blocks","created_at":"2026-01-13T00:24:02.310426565Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:24:02.384735735Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.5","title":"Optional: auto sunrise/sunset via geolocation","description":"# Summary\nImplement optional on‑device sunrise/sunset calculation when `sunMode=auto`, driven by user‑initiated geolocation.\n\n# Background\nThe spec allows auto solar times without network calls, using device location and local calculation.\n\n# Rationale\nKeeps the visual “solar ritual” accurate without manual updates, while honoring privacy (explicit permission only).\n\n# Scope\n- Request geolocation only on explicit user action.\n- Compute sunrise/sunset on‑device (no network).\n- Store last‑known lat/lon locally; fallback to manual if denied.\n\n# Acceptance\n- Auto mode updates sunrise/sunset when permission granted.\n- Manual mode remains the fallback and default.\n- No location data leaves the device.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:18:38.73592545Z","created_by":"ubuntu","updated_at":"2026-01-13T03:02:28.583459439Z","closed_at":"2026-01-13T03:02:28.583459439Z","close_reason":"Already implemented: sun auto button wires geolocation + on-device sunrise/sunset","dependencies":[{"issue_id":"shredmaxxer-8as.2.5","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:38.737224365Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.5","depends_on_id":"shredmaxxer-8as.2.1","type":"blocks","created_at":"2026-01-13T00:24:02.474333288Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.6","title":"Settings UI for wrap‑around day + phase + sun mode","description":"# Summary\nUpdate the Settings UI to support wrap‑around day boundaries, phase selection, and sun mode (manual/auto).\n\n# Background\nv3 enforced same‑day start/end and lacks phase/sunMode controls. v4 requires more flexible time semantics.\n\n# Rationale\nThe time model cannot work correctly without user‑configurable boundaries and the ability to opt into auto solar times.\n\n# Scope\n- Remove “dayEnd must be after dayStart” restriction.\n- Add phase selector (strict/maintenance/advanced).\n- Add sunMode selector with sunrise/sunset inputs enabled/disabled accordingly.\n\n# Acceptance\n- Users can set wrap‑around day windows (e.g., 18:00 → 04:00).\n- Phase and sun mode persist across sessions.\n- Validation is deterministic and does not block logging.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:29.921482842Z","created_by":"ubuntu","updated_at":"2026-01-13T02:17:37.104634475Z","closed_at":"2026-01-13T02:17:37.104634475Z","close_reason":"Added sun mode + phase selectors; removed same-day dayEnd restriction","dependencies":[{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:27:29.9235366Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:35.13574292Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:49.052934018Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.7","title":"Today view uses activeDay DateKey","description":"# Summary\nMake the Today view and date navigation use `activeDay(now)` rather than raw calendar date.\n\n# Background\nWith wrap‑around days, the active protocol day after midnight is still “yesterday.”\n\n# Rationale\nIf Today view uses calendar date, late‑night logs will land in the wrong day.\n\n# Scope\n- Set initial date to `activeDay(now)`.\n- Ensure “next/prev” day navigation follows DateKey sequence.\n\n# Acceptance\n- After midnight, Today points to the correct protocol day.\n- Date picker remains consistent with activeDay semantics.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:28:06.652501304Z","created_by":"ubuntu","updated_at":"2026-01-13T01:25:46.088671279Z","closed_at":"2026-01-13T01:25:46.088671279Z","close_reason":"Today view now keyed by activeDay","dependencies":[{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:28:06.653901661Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:28:35.214776756Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:35.292123289Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3","title":"Storage \u0026 Persistence (IndexedDB‑first)","description":"# Summary\nImplement the v4 storage adapter with IndexedDB primary, localStorage fallback, and persistence metadata.\n\n# Background\nv3 stores everything in localStorage. v4 requires higher durability and transactional safety, plus snapshots before imports/migrations.\n\n# Intent / Why this exists\nA reliable storage layer underpins data integrity, import/merge safety, and long‑term use without data loss.\n\n# Scope\n- IndexedDB schema + adapter\n- localStorage fallback\n- persistence hooks (saveDay/settings/rosters)\n- persist() status tracking\n\n# Acceptance\n- IndexedDB used by default where available.\n- Data survives reloads and large logs.\n- Diagnostics can report storage mode and persist status.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:18:43.515999684Z","created_by":"ubuntu","updated_at":"2026-01-13T02:48:24.697950143Z","closed_at":"2026-01-13T02:48:24.697950143Z","close_reason":"All storage subtasks closed: IDB adapter, local fallback, adapter selection + persist status, meta init, app wiring","dependencies":[{"issue_id":"shredmaxxer-8as.3","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:18:43.517212506Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.1","title":"Implement IndexedDB schema + adapter","description":"# Summary\nCreate an IndexedDB database with stores for meta, settings, rosters, logs, and snapshots, and expose a clean adapter API.\n\n# Background\nThe spec defines an IndexedDB‑first approach with transactional writes and per‑day storage.\n\n# Rationale\nIndexedDB provides better quotas and performance for per‑day logs, and supports transactional safety for imports.\n\n# Scope\n- Stores: `meta`, `settings`, `rosters`, `logs` (keyed by DateKey), `snapshots`.\n- Adapter methods: `loadState`, `saveDay`, `saveSettings`, `saveRosters`, `listSnapshots`, `saveSnapshot`, `restoreSnapshot`.\n\n# Acceptance\n- DB opens with versioned schema and upgrades cleanly.\n- `saveDay` writes are isolated to the specific date.\n- Adapter surfaces meaningful errors for diagnostics.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:49.90584611Z","created_by":"ubuntu","updated_at":"2026-01-13T01:06:14.965996214Z","closed_at":"2026-01-13T01:06:14.965996214Z","close_reason":"IndexedDB adapter scaffolded","dependencies":[{"issue_id":"shredmaxxer-8as.3.1","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:49.907253753Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:35.370415107Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.2","title":"Implement localStorage fallback adapter","description":"# Summary\nProvide a compatible fallback adapter for browsers where IndexedDB fails or is unavailable.\n\n# Background\nLocalStorage is required for legacy/compat modes, but should be treated as a fallback only.\n\n# Rationale\nFallback keeps the app usable in constrained environments and supports a safe migration path.\n\n# Scope\n- Mirror the StorageAdapter API with localStorage backing.\n- Store `meta`, `settings`, `rosters`, `logs`, `snapshots` under a single key or scoped keys.\n\n# Acceptance\n- Adapter can load and save v4 state without data loss.\n- Storage mode reflects fallback in diagnostics.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:18:54.450328489Z","created_by":"ubuntu","updated_at":"2026-01-13T02:30:47.19610997Z","closed_at":"2026-01-13T02:30:47.19610997Z","close_reason":"localStorage fallback adapter implemented in storage/local.js with meta/settings/rosters/logs/snapshots support.","dependencies":[{"issue_id":"shredmaxxer-8as.3.2","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:54.45170055Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.3","title":"Storage adapter selection + persist status","description":"# Summary\nSelect the best available storage adapter at boot and record persist status in meta.\n\n# Background\nThe spec requires attempting `navigator.storage.persist()` and surfacing results in Diagnostics.\n\n# Rationale\nPersistent storage reduces eviction risk and makes the app trustworthy for long‑term logs.\n\n# Scope\n- Adapter selection logic (prefer IndexedDB).\n- Call `navigator.storage.persist()` when possible.\n- Store `meta.storageMode` and `meta.persistStatus`.\n\n# Acceptance\n- Diagnostics shows whether persistent storage is granted/denied/unknown.\n- Storage mode is accurate across sessions.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:58.960409456Z","created_by":"ubuntu","updated_at":"2026-01-13T02:31:16.520824566Z","closed_at":"2026-01-13T02:31:16.520824566Z","close_reason":"Storage adapter now requests persistent storage on load, records persistStatus in meta, and diagnostics surfaces storage mode/status.","dependencies":[{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:58.96162403Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:02.777565759Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3.2","type":"blocks","created_at":"2026-01-13T00:24:02.852839884Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.1.1","type":"blocks","created_at":"2026-01-13T00:28:48.894177787Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.4","title":"Meta initialization (installId, appVersion, storageMode)","description":"# Summary\nInitialize and persist `meta` fields including installId, appVersion, storageMode, and persist status.\n\n# Background\nThe v4 schema includes a Meta section used by diagnostics and exports. v3 lacks this layer.\n\n# Rationale\nA stable installId supports merge dedupe and debugging; appVersion aids support and diagnostics.\n\n# Scope\n- Generate `installId` once per install.\n- Set `appVersion` from a build constant or manual string.\n- Keep `storageMode` and `persistStatus` up to date.\n\n# Acceptance\n- Meta is present in state and included in exports.\n- installId is stable across sessions.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:28:57.074591785Z","created_by":"ubuntu","updated_at":"2026-01-13T01:31:56.205641922Z","closed_at":"2026-01-13T01:31:56.205641922Z","close_reason":"Added meta initialization + persist status in storage adapter","dependencies":[{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:28:57.075993964Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:29:02.983384056Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:29:03.064092525Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4","title":"Migration + Import/Export","description":"# Summary\nBuild v4 migration, import validation/merge, and export formats (JSON, encrypted JSON, CSV), including snapshot safety.\n\n# Background\nv4 introduces ID‑based rosters and a new storage layout; imports must be safe and merge‑aware.\n\n# Intent / Why this exists\nUser data is the product. Migration and import/export must be trustworthy, reversible, and explainable.\n\n# Scope\n- v3 → v4 migration (labels → IDs)\n- Pre‑migration and pre‑import snapshots\n- Merge vs replace behavior with deterministic conflict resolution\n- JSON / Encrypted JSON / CSV exports\n\n# Acceptance\n- Migration preserves all data and avoids duplicate labels.\n- Import validates schema before writing.\n- Merge rules prefer higher `(rev, tsLast)` with optional union logic.\n- Snapshots allow recovery from import mistakes.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:19:04.605628939Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.726687696Z","closed_at":"2026-01-13T03:15:41.726687696Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.4","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:19:04.606905159Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.1","title":"Implement v3 → v4 data migration","description":"# Summary\nConvert v3 logs and rosters (label‑based) into v4 ID‑based structures with stable UUIDs.\n\n# Background\nv3 stores arrays of labels; v4 requires `RosterItem` objects with IDs and metadata.\n\n# Rationale\nStable IDs prevent future renames from breaking history and enable tags/aliases.\n\n# Scope\n- Build label→id map (case‑insensitive).\n- Create missing roster items for any label seen in logs.\n- Convert per‑segment arrays from labels to IDs.\n- Set `rev` and timestamp fields for migrated segments/days.\n\n# Acceptance\n- No data loss during conversion.\n- Logs referencing unknown labels get new roster items.\n- Migration results pass schema validation.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:11.827897278Z","created_by":"ubuntu","updated_at":"2026-01-13T01:56:14.114352699Z","closed_at":"2026-01-13T01:56:14.114352699Z","close_reason":"v3→v4 migration implemented in storage/migrate.js; tests pass","dependencies":[{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:11.829385352Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:02.9256604Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:02.997951996Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.073946586Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.1.6","type":"blocks","created_at":"2026-01-13T00:28:35.449259353Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.2","title":"Snapshot before migration/import","description":"# Summary\nAutomatically create a snapshot before any migration or import operation.\n\n# Background\nMigration and import are the highest‑risk operations for data loss. The spec mandates pre‑migration and pre‑import snapshots.\n\n# Rationale\nSnapshots provide a one‑tap restore path if migration or import produces unexpected results.\n\n# Scope\n- Snapshot format: serialized plain JSON export.\n- Ring buffer retention (e.g., keep last 7).\n- Label snapshots as `Pre‑migration` / `Pre‑import`.\n\n# Acceptance\n- Migration and import both create snapshots before write.\n- Snapshots appear in Diagnostics with timestamps and labels.\n- Restore works without corrupting current state.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:16.520818778Z","created_by":"ubuntu","updated_at":"2026-01-13T01:18:39.521311814Z","closed_at":"2026-01-13T01:18:39.521311814Z","close_reason":"Added pre-import/pre-migration snapshot helpers + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.2","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:16.522010648Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.2","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.15022291Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.3","title":"Import validation + schema checks","description":"# Summary\nValidate imported JSON against v4 schema requirements before any writes occur.\n\n# Background\nImport must be non‑destructive and schema‑aware to prevent corrupt state.\n\n# Rationale\nA strict validator prevents silent failures and ensures downstream features (review, insights) can rely on invariants.\n\n# Scope\n- Validate version, required fields, and type shapes.\n- Provide user‑readable errors for invalid payloads.\n- Allow legacy payloads only via explicit migration path.\n\n# Acceptance\n- Invalid imports never write data.\n- Errors clearly describe what failed.\n- Valid imports proceed to merge/replace flow.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:21.144983484Z","created_by":"ubuntu","updated_at":"2026-01-13T01:05:44.701641978Z","closed_at":"2026-01-13T01:05:44.701641978Z","close_reason":"Added v4 import validator + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.3","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:21.146202307Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.3","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.22384847Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.4","title":"Implement merge semantics for import","description":"# Summary\nMerge imported data into existing state with deterministic conflict resolution at the day/segment level.\n\n# Background\nThe spec requires merge‑by‑default with resolution based on `(rev, tsLast)` and optional union of disjoint selections.\n\n# Rationale\nThis allows combining logs from multiple devices without accidental data loss.\n\n# Scope\n- Per‑day merge by DateKey.\n- Per‑segment resolution: higher `(rev, tsLast)` wins.\n- Optional union of arrays when both sides are touched and disjoint (configurable).\n- Roster merge by ID with optional label dedupe.\n\n# Acceptance\n- Merge results are deterministic.\n- Conflicts are resolved predictably and documented.\n- Import UI clearly communicates merge vs replace.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:25.995943032Z","created_by":"ubuntu","updated_at":"2026-01-13T01:38:12.901533226Z","closed_at":"2026-01-13T01:38:12.901533226Z","close_reason":"storage/merge.js implements rev/tsLast merge with optional union + roster dedupe","dependencies":[{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:25.997405094Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.4.3","type":"blocks","created_at":"2026-01-13T00:24:03.299342937Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.1.6","type":"blocks","created_at":"2026-01-13T00:28:35.526494072Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:29:09.403285372Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.5","title":"Export plain JSON (v4)","description":"# Summary\nExport the full v4 state as portable JSON with `exportedAt` and `appVersion` metadata.\n\n# Background\nJSON export is the primary portability and backup mechanism.\n\n# Rationale\nA clean export format enables manual backups and cross‑device migration without a backend.\n\n# Scope\n- Serialize `TrackerState` + metadata.\n- Ensure stable DateKey ordering for readability.\n\n# Acceptance\n- Export produces valid JSON that re‑imports successfully.\n- Metadata fields are included and accurate.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:30.138871275Z","created_by":"ubuntu","updated_at":"2026-01-13T01:32:56.974616974Z","closed_at":"2026-01-13T01:32:56.974616974Z","close_reason":"storage/export.js builds JSON export with exportedAt/appVersion and sorted logs","dependencies":[{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:30.140399961Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.372117711Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.446970101Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.3.4","type":"blocks","created_at":"2026-01-13T00:29:09.483445923Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.6","title":"Encrypted JSON export (AES‑GCM)","description":"# Summary\nAdd optional encrypted export using WebCrypto AES‑GCM with PBKDF2‑derived keys.\n\n# Background\nThe spec allows privacy hardening for users who want encrypted backups.\n\n# Rationale\nEncrypted export provides stronger privacy without adding servers or external dependencies.\n\n# Scope\n- Derive key from passphrase via PBKDF2 + salt.\n- AES‑GCM encrypt serialized JSON.\n- Export includes algorithm params, salt, iv, ciphertext.\n\n# Acceptance\n- Encrypted export decrypts correctly with the passphrase.\n- Wrong passphrase fails safely.\n- Export format is documented for future compatibility.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:19:36.53305678Z","created_by":"ubuntu","updated_at":"2026-01-13T01:42:07.303846641Z","closed_at":"2026-01-13T01:42:07.303846641Z","close_reason":"Added AES-GCM encrypted export helper + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.6","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:36.534348058Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.6","depends_on_id":"shredmaxxer-8as.4.5","type":"blocks","created_at":"2026-01-13T00:24:03.52157793Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.7","title":"CSV export for analysis","description":"# Summary\nProvide a CSV export suitable for Sheets analysis, one row per day with computed flags.\n\n# Background\nCSV allows lightweight analysis without custom tooling.\n\n# Rationale\nKeeps power users happy and enables weekly reviews outside the app if desired.\n\n# Scope\n- Columns: date, phase, signals, toggles, issue counts.\n- Per‑segment item labels delimited (e.g., `|`).\n- Include effective flags (collision/high‑fat meal).\n\n# Acceptance\n- CSV opens cleanly in Sheets/Excel.\n- Column order is documented and stable.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:19:40.790572241Z","created_by":"ubuntu","updated_at":"2026-01-13T01:43:46.448395754Z","closed_at":"2026-01-13T01:43:46.448395754Z","close_reason":"Added CSV export helper + tests with effective flags","dependencies":[{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:40.792615788Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.4.5","type":"blocks","created_at":"2026-01-13T00:24:03.59461553Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:03.66848036Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.8","title":"Import UI: validate → merge/replace","description":"# Summary\nUpdate the import UI to validate payloads, show a merge/replace choice, and apply the chosen strategy.\n\n# Background\nv3 import is a direct replacement. v4 requires validation and merge‑by‑default.\n\n# Rationale\nUsers need clarity on whether their existing logs will be overwritten.\n\n# Scope\n- Flow: parse → validate → snapshot → choose Merge/Replace.\n- Default to Merge; require explicit confirmation for Replace.\n- Surface errors and completion status.\n\n# Acceptance\n- Users can import safely without losing existing logs.\n- Replace path is guarded and explicit.\n- Merge path is the default and non‑destructive.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:45.48973624Z","created_by":"ubuntu","updated_at":"2026-01-13T01:55:30.581249972Z","closed_at":"2026-01-13T01:55:30.581249972Z","close_reason":"Implemented import UI merge/replace flow with validation + pre-import snapshot","dependencies":[{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:45.491061497Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.3","type":"blocks","created_at":"2026-01-13T00:24:03.74625074Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.4","type":"blocks","created_at":"2026-01-13T00:24:03.818699611Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.2","type":"blocks","created_at":"2026-01-13T00:24:03.890997209Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:48.973501258Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5","title":"Roster System (IDs, Tags, Recents, Search)","description":"# Summary\nImplement the v4 roster system with stable IDs, metadata, and fast selection UX (pinned, recents, search).\n\n# Background\nv3 rosters are plain strings. v4 requires stable IDs, tags for heuristics, aliases for search, and visibility controls.\n\n# Intent / Why this exists\nA robust roster system enables computed flags, collision heuristics, and effortless logging without scrolling.\n\n# Scope\n- RosterItem model: id, label, aliases, tags, pinned, archived, timestamps.\n- Recents and pinned UX in segment sheets.\n- Search/typeahead and inline item creation.\n\n# Acceptance\n- Roster items have stable IDs and metadata.\n- UI surfaces pinned + recents without performance lag.\n- Tags power conservative collision/high‑fat heuristics.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:19:51.047058548Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.751922179Z","closed_at":"2026-01-13T03:15:41.751922179Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.5","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:19:51.048310428Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.1","title":"RosterItem model + ID generation","description":"# Summary\nRepresent roster items as objects with stable IDs and metadata fields.\n\n# Background\nv4 rosters require `id`, `label`, `aliases`, `tags`, `pinned`, `archived`, and timestamps.\n\n# Rationale\nIDs decouple display labels from history, enabling rename without data loss.\n\n# Scope\n- ID generation (UUID).\n- Timestamp management (`tsCreated`, `tsUpdated`).\n- Utilities to normalize labels and ensure uniqueness.\n\n# Acceptance\n- Every roster item has a stable ID.\n- Renaming updates `label` without breaking historical logs.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:56.292160023Z","created_by":"ubuntu","updated_at":"2026-01-13T01:00:48.48201103Z","closed_at":"2026-01-13T01:00:48.48201103Z","close_reason":"Implemented roster ID utilities","dependencies":[{"issue_id":"shredmaxxer-8as.5.1","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:19:56.293404428Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.96534657Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.2","title":"Ship sensible default tags for rosters","description":"# Summary\nAssign initial tag sets to default roster items (e.g., carb:starch vs carb:fruit, fat:dense).\n\n# Background\nHeuristics for collision and high‑fat meals depend on tags; sensible defaults reduce manual setup.\n\n# Rationale\nUsers should get useful computed flags out of the box.\n\n# Scope\n- Tag default items in base rosters.\n- Keep tags minimal and conservative (avoid over‑flagging).\n\n# Acceptance\n- Default roster items have tags aligned to spec conventions.\n- Users can edit tags later without breaking heuristics.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:01.096669191Z","created_by":"ubuntu","updated_at":"2026-01-13T01:07:11.315847163Z","closed_at":"2026-01-13T01:07:11.315847163Z","close_reason":"Added default roster templates with conservative tags","dependencies":[{"issue_id":"shredmaxxer-8as.5.2","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:01.097961873Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.2","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.041511331Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.3","title":"Roster management UI (tags, aliases, archive)","description":"# Summary\nExpand the settings roster editor to support tags, aliases, pinned, and archived states.\n\n# Background\nv4 requires richer roster metadata for heuristics and search. The UI must expose this without adding friction.\n\n# Rationale\nUsers need a way to tune tags/aliases and manage visibility while preserving history.\n\n# Scope\n- Edit label, tags, aliases.\n- Toggle pinned and archived.\n- Maintain stable IDs and timestamps.\n\n# Acceptance\n- All metadata fields are editable in Settings.\n- Archiving hides items from selection but preserves history.\n- No data loss when editing labels/tags.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:06.167425768Z","created_by":"ubuntu","updated_at":"2026-01-13T02:16:16.971943013Z","closed_at":"2026-01-13T02:16:16.971943013Z","close_reason":"Roster editor now supports label/tags/aliases + pin/archive","dependencies":[{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:06.168628981Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.116058909Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.191991684Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.4","title":"Pinned item interactions (long‑press/context)","description":"# Summary\nAllow users to pin/unpin roster items directly from the segment sheet (long‑press or context menu).\n\n# Background\nPinned items should be fastest to access; the spec suggests long‑press or context toggles.\n\n# Rationale\nPinning should be frictionless and not require navigating to Settings.\n\n# Scope\n- Long‑press or context action on chip.\n- Visual feedback for pinned state.\n- Update roster metadata + timestamps.\n\n# Acceptance\n- Pinned items appear in the pinned row immediately.\n- Pinning persists across sessions.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:11.073251654Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:44.894756111Z","closed_at":"2026-01-13T03:05:44.894756111Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.5.4","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:11.074521038Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.4","depends_on_id":"shredmaxxer-8as.5.3","type":"blocks","created_at":"2026-01-13T00:24:04.268610004Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.5","title":"Recents computation + caching","description":"# Summary\nCompute recent items per category from the last N uses and surface them in segment sheets.\n\n# Background\nFast logging depends on recents to reduce scanning time.\n\n# Rationale\nRecents reduce friction and reinforce consistent habits without forcing pinning.\n\n# Scope\n- Track recent selections by category (per segment or global).\n- Store recents in derived state (not necessarily persisted).\n- Limit to a small row (e.g., 6–8 items).\n\n# Acceptance\n- Recents update immediately after logging.\n- Recents are stable and deterministic across sessions when derived from logs.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:15.643175051Z","created_by":"ubuntu","updated_at":"2026-01-13T01:17:50.434909238Z","closed_at":"2026-01-13T01:17:50.434909238Z","close_reason":"Added recents computation helpers + tests","dependencies":[{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:15.644519146Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.343679308Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:04.418320024Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.6","title":"Search/typeahead + inline add","description":"# Summary\nAdd search/typeahead for roster items in segment sheets, with inline “Add item” when no match.\n\n# Background\nRoster sizes grow over time; scanning a long list slows logging.\n\n# Rationale\nSearch keeps the 10‑second logging rule viable for larger rosters.\n\n# Scope\n- Fast client‑side search across label + aliases.\n- Inline add flow that creates a new roster item.\n- Respect archived items (hidden unless manage mode).\n\n# Acceptance\n- Typing filters items instantly.\n- New items can be created from the search UI.\n- Search includes aliases.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:20.519111828Z","created_by":"ubuntu","updated_at":"2026-01-13T02:15:21.612634351Z","closed_at":"2026-01-13T02:15:21.612634351Z","close_reason":"Search inputs + inline add implemented in sheet","dependencies":[{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:20.520356173Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.490560597Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.565368277Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6","title":"Segment Logging UX + Computed Flags","description":"# Summary\nDeliver the v4 logging flow: segment status, computed/override flags, undo/repeat, and fast one‑hand ergonomics.\n\n# Background\nThe core value of Solar Log is frictionless logging. v4 adds computed flags (collision/high‑fat) and speed features (recents, undo).\n\n# Intent / Why this exists\nThis epic ensures the day‑to‑day ritual is fast, safe, and explainable, while preserving the minimalist vibe.\n\n# Scope\n- Segment status (unlogged/none/logged)\n- Collision/high‑fat meal computed with override tri‑state\n- Seed‑oil hints from tags\n- Undo and repeat last segment\n- Copy yesterday functionality\n\n# Acceptance\n- Logging feels fast and safe (undo available).\n- Computed flags are explainable and conservative.\n- Segment sheets show pinned + recents + search.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:20:26.100681695Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.776591057Z","closed_at":"2026-01-13T03:15:41.776591057Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.6","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:20:26.101885138Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.1","title":"Segment status (unlogged/none/logged)","description":"# Summary\nAdd explicit segment status tracking and UI controls for “none” (no food) vs “unlogged.”\n\n# Background\nv4 distinguishes between no food and not logged; this improves interpretability and review accuracy.\n\n# Rationale\nWithout explicit status, empty segments are ambiguous and can be misread in insights.\n\n# Scope\n- Add `status` field to SegmentLog.\n- UI controls to set status to Unlogged/None/Logged.\n- Clearing selections should set status appropriately.\n\n# Acceptance\n- Users can mark “None” explicitly.\n- Status survives reloads and exports.\n- Review metrics use status to interpret missing data.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:31.937302635Z","created_by":"ubuntu","updated_at":"2026-01-13T02:18:15.210728594Z","closed_at":"2026-01-13T02:18:15.210728594Z","close_reason":"Status UI class hints + coverage metrics helper","dependencies":[{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:31.938585587Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:04.63973874Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.71440715Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.2","title":"Computed collision + high‑fat meal (tri‑state override)","description":"# Summary\nImplement computed collision and high‑fat meal logic with Auto/Yes/No overrides.\n\n# Background\nv4 defines a conservative collision rule (fat:dense + carb:starch) and optional high‑fat meal auto detection.\n\n# Rationale\nComputed flags reduce manual work while preserving user control when heuristics are wrong.\n\n# Scope\n- Tri‑state fields (`auto|yes|no`) with defaults.\n- Effective value resolution (override wins; else compute).\n- UI toggles to switch between Auto/Yes/No.\n\n# Acceptance\n- Auto computation is conservative (no fruit+fat collision).\n- Overrides are respected and visible.\n- Effective flags are used in history/review summaries.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:20:38.101867694Z","created_by":"ubuntu","updated_at":"2026-01-13T01:24:38.992518157Z","closed_at":"2026-01-13T01:24:38.992518157Z","close_reason":"Implemented tri-state collision/high-fat auto logic + UI toggles + effective flags","dependencies":[{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:38.103135145Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:04.789425223Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:04.864230688Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.3","title":"Seed‑oil hinting from tags","description":"# Summary\nProvide a non‑blocking hint when selected fats carry `fat:seed_oil` or `fat:unknown` tags.\n\n# Background\nSeed‑oil exposure is manual but can be hinted by tags to reduce oversight.\n\n# Rationale\nHints support compliance without forcing auto‑flags.\n\n# Scope\n- Detect tags in selected fats.\n- Surface a subtle hint near the seed‑oil control.\n- Do not automatically set the flag.\n\n# Acceptance\n- Hints appear only when relevant tags are present.\n- User choice remains manual.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:43.872042127Z","created_by":"ubuntu","updated_at":"2026-01-13T02:16:01.704102849Z","closed_at":"2026-01-13T02:16:01.704102849Z","close_reason":"Seed-oil hint already implemented via effectiveSegmentFlags + flagHelp warning","dependencies":[{"issue_id":"shredmaxxer-8as.6.3","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:43.873419999Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.3","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:04.939977902Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.4","title":"Undo last action stack","description":"# Summary\nImplement a lightweight undo stack for the most recent logging action (chip toggle, flag change, notes edit).\n\n# Background\nThe spec emphasizes speed and safety; undo reduces fear of mistakes.\n\n# Rationale\nFast logging requires a safety net to encourage taps without hesitation.\n\n# Scope\n- Track the last action and its inverse.\n- Provide a snackbar or toast for immediate undo.\n- Limit to a short history (1–5 actions) to keep memory low.\n\n# Acceptance\n- Users can undo the last action reliably.\n- Undo does not corrupt revisions or timestamps.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:48.352559613Z","created_by":"ubuntu","updated_at":"2026-01-13T02:23:24.574893639Z","closed_at":"2026-01-13T02:23:24.574893639Z","close_reason":"Added undo toast and snapshot restore for last action","dependencies":[{"issue_id":"shredmaxxer-8as.6.4","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:48.353930362Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.4","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.013752731Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.5","title":"Repeat last segment (long‑press copy)","description":"# Summary\nAllow long‑press on a segment to copy the most recent logged segment into it.\n\n# Background\nRepeated meals are common; copying reduces taps.\n\n# Rationale\nThis supports the ≤10s logging rule and encourages consistent logging.\n\n# Scope\n- Identify the most recent logged segment in history.\n- Copy selections + flags + notes into the target segment.\n- Confirm action via subtle toast.\n\n# Acceptance\n- Long‑press duplicates the last logged segment reliably.\n- Copied data respects current roster IDs.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:55.555646413Z","created_by":"ubuntu","updated_at":"2026-01-13T02:29:24.132615216Z","closed_at":"2026-01-13T02:29:24.132615216Z","close_reason":"Added long-press repeat on timeline segments to copy last logged segment with undo toast.","dependencies":[{"issue_id":"shredmaxxer-8as.6.5","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:55.55742569Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.5","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.091450876Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.6","title":"Copy yesterday (segment or whole day)","description":"# Summary\nAdd an overflow action to copy yesterday’s logs into the current day (entire day or selected segments).\n\n# Background\nThe spec calls for copy‑yesterday to reduce daily friction.\n\n# Rationale\nThis supports habitual patterns and fast logging, especially for consistent routines.\n\n# Scope\n- UI action in Today view overflow.\n- Option to copy all segments or selected segments.\n- Confirm before overwriting existing data.\n\n# Acceptance\n- Copy action is explicit and reversible (via undo or confirmation).\n- Copy respects current roster IDs and flags.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:01.059174799Z","created_by":"ubuntu","updated_at":"2026-01-13T02:44:34.892883076Z","closed_at":"2026-01-13T02:44:34.892883076Z","close_reason":"Copy yesterday UI already implemented (segment/all)","dependencies":[{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:21:01.06051192Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.167005452Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:24:05.242317424Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.7","title":"History list uses effective flags (× ⚠ ◎)","description":"# Summary\nUpdate History list badges to use effective collision/seed‑oil/high‑fat meal flags across segments.\n\n# Background\nv4 introduces computed high‑fat meal and collision auto rules; History should reflect the effective values, not raw overrides.\n\n# Rationale\nHistory is a summary surface; it should show the same “truth” as Review.\n\n# Scope\n- Compute effective flags per segment.\n- Show ×, ⚠, ◎ icons if any segment triggers them.\n\n# Acceptance\n- History icons match effective per‑segment flags.\n- Icons update immediately when logs change.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:55.914429801Z","created_by":"ubuntu","updated_at":"2026-01-13T01:23:59.018390583Z","closed_at":"2026-01-13T01:23:59.018390583Z","close_reason":"History uses effective collision/seed-oil/high-fat flags with ◎ icon","dependencies":[{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:27:55.915724768Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:28:35.603412246Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:35.681953695Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7","title":"Weekly Review + Insights","description":"# Summary\nImplement Weekly Review 2.0 outputs, coverage matrix, rotation picks, and the explainable insights rules engine.\n\n# Background\nv4 treats review as a behavior loop rather than a static history. Insights must be explainable and local‑only.\n\n# Intent / Why this exists\nReview is how users adapt the protocol; it should surface actionable variety gaps and avoid overclaiming correlations.\n\n# Scope\n- Weekly counts (P/C/F/μ) and FTN frequency\n- Coverage matrix (days × categories)\n- Rotation picks via LRU\n- Simple correlations with sample size\n- Rules engine with reasons\n\n# Acceptance\n- Review surfaces gaps and suggestions without guilt.\n- Correlations are labeled as observations, not conclusions.\n- Insights include explicit reasons and are dismissible.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:21:06.704600474Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:21.57210136Z","closed_at":"2026-01-13T03:05:21.57210136Z","close_reason":"All Review/Insights child tasks closed (weekly summary, matrix, rotation picks, correlations, insights engine + UI, Today nudge)","dependencies":[{"issue_id":"shredmaxxer-8as.7","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:21:06.706013427Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.1","title":"Weekly aggregates + FTN summary","description":"# Summary\nCompute weekly unique counts for P/C/F/μ and summarize FTN mode frequency.\n\n# Background\nThese summaries provide the baseline signal for variety and adherence.\n\n# Rationale\nThey ground the review in concrete counts, without complex analytics.\n\n# Scope\n- Aggregators over DateKey ranges.\n- Phase‑aware targets (display only).\n\n# Acceptance\n- Counts are unique (set‑based) and accurate.\n- FTN mode summary reflects segment logs.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:12.989396822Z","created_by":"ubuntu","updated_at":"2026-01-13T01:27:20.365090582Z","closed_at":"2026-01-13T01:27:20.365090582Z","close_reason":"Added weekly aggregators + FTN summary helpers with tests","dependencies":[{"issue_id":"shredmaxxer-8as.7.1","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:12.99087741Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:05.315988514Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.2","title":"Coverage matrix (days × categories)","description":"# Summary\nBuild the coverage matrix view showing day‑by‑day presence/counts for P/C/F/μ and flags.\n\n# Background\nThe matrix visualizes consistency and gaps at a glance.\n\n# Rationale\nA compact matrix reinforces the ritual and highlights missing variety without heavy analytics.\n\n# Scope\n- Matrix data model (rows=days, cols=categories + flags).\n- UI table/grid with tap‑to‑drill.\n\n# Acceptance\n- Matrix matches underlying logs.\n- Tapping a cell drills into the correct day/segment.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:17.297556152Z","created_by":"ubuntu","updated_at":"2026-01-13T02:22:43.843526854Z","closed_at":"2026-01-13T02:22:43.843526854Z","close_reason":"Coverage matrix already implemented; added weekly summary matrix helper","dependencies":[{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:17.298868363Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.391540897Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:05.470131291Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.3","title":"Rotation picks via LRU","description":"# Summary\nSuggest least‑recently‑used items per category to increase variety.\n\n# Background\nThe spec calls for rotation picks as a gentle nudge toward diversity.\n\n# Rationale\nLRU picks are easy to compute and explain.\n\n# Scope\n- Compute LRU per category over last N days.\n- Return 1–2 suggestions per category.\n\n# Acceptance\n- Suggestions are deterministic and based on recent logs.\n- UI explains why the pick was suggested (least‑recently‑used).\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:22.065301919Z","created_by":"ubuntu","updated_at":"2026-01-13T02:18:01.381159386Z","closed_at":"2026-01-13T02:18:01.381159386Z","close_reason":"LRU rotation picks helper + tests","dependencies":[{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:22.067004121Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.561732249Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:05.641650907Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.4","title":"Simple correlations with sample sizes","description":"# Summary\nCompute lightweight comparisons (e.g., cravings on collision vs non‑collision days) with sample sizes.\n\n# Background\nv4 calls for small, local‑only correlations without overclaiming.\n\n# Rationale\nObservational summaries can highlight patterns while avoiding pseudo‑science.\n\n# Scope\n- Compare averages across two conditions.\n- Always report sample size and timeframe.\n- Present as “observed in last X days.”\n\n# Acceptance\n- Correlation output is conservative and labeled as observational.\n- UI never implies causation.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:26.794733573Z","created_by":"ubuntu","updated_at":"2026-01-13T02:42:42.180297607Z","closed_at":"2026-01-13T02:42:42.180297607Z","close_reason":"Correlations implemented in domain/correlations.js and rendered in Review (reviewCorrelations) with counts + totals.","dependencies":[{"issue_id":"shredmaxxer-8as.7.4","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:26.796046956Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.4","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:05.714969991Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.5","title":"Explainable insights rules engine","description":"# Summary\nImplement a local rules engine that emits insights with explicit reasons and dismissible UI.\n\n# Background\nv4 forbids AI dependence and requires explainable, on‑device insights.\n\n# Rationale\nUsers need clear, non‑nagging nudges tied to concrete selections or flags.\n\n# Scope\n- Rule evaluation over recent logs and tags.\n- Each insight includes a reason string.\n- Dismissibility per day/week.\n\n# Acceptance\n- Insights cite the triggering condition (e.g., “training logged + no carb:starch at lunch”).\n- Users can dismiss without disabling logging.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:32.187316991Z","created_by":"ubuntu","updated_at":"2026-01-13T02:40:38.578410547Z","closed_at":"2026-01-13T02:40:38.578410547Z","close_reason":"Implemented insights rules engine + dismissal state/persistence; UI hookup via Review tab still pending","dependencies":[{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:32.188604022Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:05.790327985Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:05.866307524Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.6","title":"Review tab UI integration","description":"# Summary\nAdd the Review tab layout and wire it to weekly aggregates, matrix, rotation picks, and insights.\n\n# Background\nv3 has Today/History/Settings; v4 adds Review as a core loop.\n\n# Rationale\nReview is how users interpret their week; it must feel cohesive and calm.\n\n# Scope\n- New Review tab scaffold.\n- Sections for counts, matrix, picks, correlations, insights.\n- Drill‑down navigation to History/Today details.\n\n# Acceptance\n- Review renders with live data.\n- Navigation from Review to specific day/segment works.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:36.751272101Z","created_by":"ubuntu","updated_at":"2026-01-13T02:50:47.009808014Z","closed_at":"2026-01-13T02:50:47.009808014Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:36.752685043Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.94207129Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.2","type":"blocks","created_at":"2026-01-13T00:24:06.016474911Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.3","type":"blocks","created_at":"2026-01-13T00:24:06.090775002Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.4","type":"blocks","created_at":"2026-01-13T00:24:06.165054183Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.5","type":"blocks","created_at":"2026-01-13T00:24:06.255609634Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.334911735Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.7","type":"blocks","created_at":"2026-01-13T00:28:49.135884088Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.7","title":"Week start configuration for Review","description":"# Summary\nAllow users to choose the week start day used by Weekly Review calculations.\n\n# Background\nThe spec calls for configurable week start; different users interpret “week” differently.\n\n# Rationale\nRespecting user preference makes review metrics feel accurate and personal.\n\n# Scope\n- Settings control for week start (e.g., Mon/Sun).\n- Review aggregators use this setting.\n\n# Acceptance\n- Weekly Review reflects the selected week start.\n- Changing week start updates review ranges immediately.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:27:34.541296373Z","created_by":"ubuntu","updated_at":"2026-01-13T02:34:31.951667352Z","closed_at":"2026-01-13T02:34:31.951667352Z","close_reason":"Week start select added to Settings + wired","dependencies":[{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:27:34.542590468Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:35.759724409Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:28:35.83761872Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.8","title":"Issue frequency summary (collision, seed‑oil, high‑fat)","description":"# Summary\nSummarize issue frequency in the Weekly Review (collision days, seed‑oil days, high‑fat meal/day markers).\n\n# Background\nThe spec explicitly calls out collision/seed‑oil frequency and high‑fat patterns as review outputs.\n\n# Rationale\nThese counts provide direct feedback on adherence without complex analytics.\n\n# Scope\n- Count days with any collision.\n- Count days with seed‑oil exposure.\n- Count days with high‑fat meals and/or high‑fat day toggle.\n\n# Acceptance\n- Counts align with effective flag computation.\n- Review UI clearly labels these as frequencies, not judgments.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:50.163759399Z","created_by":"ubuntu","updated_at":"2026-01-13T02:39:48.431624798Z","closed_at":"2026-01-13T02:39:48.431624798Z","close_reason":"Issue frequency summary already computed in domain/weekly.js and rendered in Review UI (reviewIssues chips).","dependencies":[{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:27:50.165325989Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:28:35.915126978Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:28:35.992928904Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.9","title":"Optional Today nudge card (insights surfacing)","description":"# Summary\nOptionally surface one insight on the Today screen as a gentle nudge card.\n\n# Background\nThe spec allows insights primarily in Review, with an optional Today nudge.\n\n# Rationale\nA light nudge can reinforce protocol without turning the app into a nag.\n\n# Scope\n- Settings toggle to enable Today nudges.\n- Show at most one insight with clear reason.\n\n# Acceptance\n- Nudge is off by default.\n- Display is subtle and dismissible.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:29:20.546061869Z","created_by":"ubuntu","updated_at":"2026-01-13T03:06:52.728275285Z","closed_at":"2026-01-13T03:06:52.728275285Z","close_reason":"Today nudge card + settings toggle already wired with dismiss + single insight","dependencies":[{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:29:20.547349821Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.7.5","type":"blocks","created_at":"2026-01-13T00:29:25.621688952Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:29:25.699609456Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8","title":"PWA Reliability + Diagnostics","description":"# Summary\nHarden the PWA app‑shell, update flow, and diagnostics panel for v4 reliability.\n\n# Background\nThe spec requires versioned precache, explicit update UX, and diagnostics for storage/snapshots.\n\n# Intent / Why this exists\nOffline reliability and trust depend on clear update behavior and visibility into storage health.\n\n# Scope\n- Versioned app‑shell precache\n- Update available UX (skipWaiting)\n- Diagnostics panel with storage mode, persist status, version, snapshots\n- Offline font assets (WOFF2) with preload\n\n# Acceptance\n- Updates are visible and user‑controlled.\n- Offline load is reliable.\n- Diagnostics surfaces critical system status.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:21:41.615345709Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:39.3627206Z","closed_at":"2026-01-13T03:05:39.3627206Z","close_reason":"All PWA reliability subtasks closed (precache, update UX, diagnostics, offline fonts, runtime caching)","dependencies":[{"issue_id":"shredmaxxer-8as.8","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:21:41.616599824Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.1","title":"Versioned app‑shell precache","description":"# Summary\nVersion the service worker cache and precache the app shell for reliable offline use.\n\n# Background\nv3 uses a static cache name; v4 requires explicit versioning to manage updates safely.\n\n# Rationale\nVersioned caches prevent stale assets and allow predictable updates.\n\n# Scope\n- Define cache version in SW.\n- Precache HTML/CSS/JS/fonts/icons.\n- Clean up old caches on activate.\n\n# Acceptance\n- New releases update the cache predictably.\n- Offline loads are stable.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:47.711989502Z","created_by":"ubuntu","updated_at":"2026-01-13T01:34:14.673656407Z","closed_at":"2026-01-13T01:34:14.673656407Z","close_reason":"Versioned SW cache + precache full app shell + old cache cleanup","dependencies":[{"issue_id":"shredmaxxer-8as.8.1","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:47.713288316Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.2","title":"Update available UX (skipWaiting)","description":"# Summary\nDetect new service worker versions and present an “Update available” prompt that triggers `skipWaiting` and reload.\n\n# Background\nThe spec forbids silent updates that could break offline use.\n\n# Rationale\nA user‑visible update flow prevents data loss and preserves trust.\n\n# Scope\n- SW message channel to notify clients.\n- UI toast/button to apply update.\n- Controlled reload flow.\n\n# Acceptance\n- Users see an update prompt when a new SW is ready.\n- Update applies only on user action.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:52.004837388Z","created_by":"ubuntu","updated_at":"2026-01-13T01:40:13.161355953Z","closed_at":"2026-01-13T01:40:13.161355953Z","close_reason":"Added update toast + SW skipWaiting message flow","dependencies":[{"issue_id":"shredmaxxer-8as.8.2","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:52.006088658Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.2","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:24:06.410514589Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.3","title":"Diagnostics panel (storage, version, snapshots)","description":"# Summary\nAdd a Diagnostics panel in Settings to surface storage mode, persist status, schema/app version, and snapshot controls.\n\n# Background\nThe spec calls for explicit diagnostics to build trust and support recovery.\n\n# Rationale\nUsers need to see if data is durable and have tools to recover from imports.\n\n# Scope\n- Display storage adapter mode (idb vs localStorage).\n- Show persist status + schema/app version.\n- List snapshots with restore/delete (if allowed).\n- “Create snapshot now” action.\n\n# Acceptance\n- Diagnostics shows accurate runtime status.\n- Snapshot management is functional and safe.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:56.60423147Z","created_by":"ubuntu","updated_at":"2026-01-13T02:38:59.930382593Z","closed_at":"2026-01-13T02:38:59.930382593Z","close_reason":"Diagnostics panel + snapshot controls already wired","dependencies":[{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:56.605484964Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.3.3","type":"blocks","created_at":"2026-01-13T00:24:06.48664927Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.4.2","type":"blocks","created_at":"2026-01-13T00:24:06.57840118Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.3.4","type":"blocks","created_at":"2026-01-13T00:29:15.261102568Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.4","title":"Offline fonts bundle + preload","description":"# Summary\nBundle two WOFF2 fonts (display serif + body) and preload/cache them as part of the app shell.\n\n# Background\nThe spec requires offline fonts for consistent aesthetic and offline resilience.\n\n# Rationale\nBundled fonts ensure the “solar ritual” look survives offline and avoids FOIT/FOUT.\n\n# Scope\n- Add fonts to `assets/fonts/`.\n- Preload in HTML and precache in SW.\n- Update CSS font stacks to use bundled fonts.\n\n# Acceptance\n- App renders with intended fonts offline.\n- No layout shift from missing fonts.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:01.434983838Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:28.690360184Z","closed_at":"2026-01-13T03:04:28.690360184Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.8.4","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:22:01.436281519Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.4","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:24:06.653573591Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.5","title":"Runtime caching policy for optional assets","description":"# Summary\nDefine a conservative runtime caching strategy for non‑shell assets (e.g., images) without risking stale app logic.\n\n# Background\nThe spec allows runtime caching for optional assets while keeping the app shell versioned.\n\n# Rationale\nThis improves offline resilience without the risk of serving stale JS/CSS.\n\n# Scope\n- Cache‑first for static media assets only.\n- Network‑first for navigation requests with offline fallback to app shell.\n\n# Acceptance\n- Core JS/CSS are never served stale via runtime cache.\n- Optional assets load offline when previously fetched.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:28:11.597191439Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:32.264977916Z","closed_at":"2026-01-13T03:04:32.264977916Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.8.5","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:28:11.598656245Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.5","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:28:36.07075105Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9","title":"Privacy Hardening (Optional)","description":"# Summary\nImplement optional privacy features: app lock, privacy blur, and home redaction.\n\n# Background\nv4 keeps local‑first by default but offers optional hardening.\n\n# Intent / Why this exists\nFor users with higher privacy needs, these options provide additional protection without forcing friction on everyone.\n\n# Scope\n- App lock (simple passcode)\n- Privacy blur on background/task switch\n- Home redaction (counts‑only)\n\n# Acceptance\n- Features are off by default.\n- Enabling/disabling is immediate and reversible.\n- No data leaves the device.\n","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-13T00:22:06.07667141Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:19.995254799Z","closed_at":"2026-01-13T03:15:19.995254799Z","close_reason":"All privacy hardening tasks closed (app lock, blur, redaction, encrypted export toggle).","dependencies":[{"issue_id":"shredmaxxer-8as.9","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:22:06.078015316Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.1","title":"App lock passcode","description":"# Summary\nAdd a simple local passcode lock with a lock/unlock screen.\n\n# Background\nSome users want a privacy barrier even on local‑only data.\n\n# Rationale\nPasscode lock protects against casual access without introducing account systems.\n\n# Scope\n- Store passcode hash locally.\n- Lock screen on app open when enabled.\n- Allow disable/change in Settings.\n\n# Acceptance\n- Lock is off by default.\n- Incorrect passcode blocks access.\n- Passcode data never leaves device.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:11.078637925Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:17.15689326Z","closed_at":"2026-01-13T03:15:17.15689326Z","close_reason":"Verified app lock flow already implemented (overlay + passcode hash + toggles).","dependencies":[{"issue_id":"shredmaxxer-8as.9.1","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:11.079875005Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.1","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:06.733051283Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.2","title":"Privacy blur on background","description":"# Summary\nBlur or obscure the UI when the app is backgrounded or task‑switched.\n\n# Background\nPrivacy blur prevents shoulder‑surfing in app switcher thumbnails.\n\n# Rationale\nLightweight privacy gain without persistent friction.\n\n# Scope\n- Listen to `visibilitychange` and apply blur overlay.\n- Remove blur on foreground.\n\n# Acceptance\n- Blur activates when app is backgrounded.\n- Blur is disabled when privacy mode is off.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:15.120191534Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:50.514023324Z","closed_at":"2026-01-13T03:05:50.514023324Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.2","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:15.121398093Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.810732936Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.3","title":"Home redaction (counts‑only)","description":"# Summary\nAllow the Home view to hide labels and notes, showing counts‑only when enabled.\n\n# Background\nSome users want privacy when the app is open in public spaces.\n\n# Rationale\nRedaction provides privacy without disabling logging.\n\n# Scope\n- Settings toggle for redaction.\n- Hide labels/notes on Today view while still showing counts.\n\n# Acceptance\n- Redaction can be toggled instantly.\n- Logging still works normally in redacted mode.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:19.541617397Z","created_by":"ubuntu","updated_at":"2026-01-13T03:07:11.215632222Z","closed_at":"2026-01-13T03:07:11.215632222Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.3","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:19.543179279Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.3","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.889512338Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.4","title":"Encrypted export default toggle","description":"# Summary\nAdd a Settings toggle to make encrypted export the default export format.\n\n# Background\nv4 privacy settings include `exportEncryptedByDefault`.\n\n# Rationale\nSome users always want encrypted backups; this reduces friction.\n\n# Scope\n- Toggle in Privacy settings.\n- Export button respects default choice.\n\n# Acceptance\n- Default export option persists across sessions.\n- Users can still choose plain JSON explicitly.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:24.376148752Z","created_by":"ubuntu","updated_at":"2026-01-13T03:10:21.822563738Z","closed_at":"2026-01-13T03:10:21.822563738Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.4","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:24.377366043Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.4","depends_on_id":"shredmaxxer-8as.4.6","type":"blocks","created_at":"2026-01-13T00:24:06.96863021Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-96v","title":"Review correlations (cravings/energy vs flags)","description":"Add simple local-only correlation summaries in Review (avg cravings vs collision/seed-oil days, avg energy vs FTN strict/off).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:30:38.208720193Z","created_by":"ubuntu","updated_at":"2026-01-13T02:32:21.353096429Z","closed_at":"2026-01-13T02:32:21.353096429Z","close_reason":"Added Review correlations domain + UI"}
{"id":"shredmaxxer-9pc","title":"Roster search helpers","description":"# Summary\nProvide small, testable search utilities for roster items (label + aliases) to support typeahead UI.\n\n# Scope\n- Normalize query and candidate strings.\n- Score matches (startsWith \u003e includes).\n- Option to exclude archived items by default.\n\n# Acceptance\n- Search returns stable, deterministic ordering.\n- Unit tests cover label + alias matching and archived filtering.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:32:56.961404878Z","created_by":"ubuntu","updated_at":"2026-01-13T01:34:15.796860886Z","closed_at":"2026-01-13T01:34:15.796860886Z","close_reason":"Added roster search helpers + tests"}
{"id":"shredmaxxer-f1g","title":"Review summary UI (unique counts + FTN modes)","description":"Add Review summary block showing weekly unique counts and FTN mode totals; display phase guidance label.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:28:25.370582077Z","created_by":"ubuntu","updated_at":"2026-01-13T02:30:09.030669528Z","closed_at":"2026-01-13T02:30:09.030669528Z","close_reason":"Review summary UI already wired (summary, phase, issues)"}
{"id":"shredmaxxer-i1y","title":"Import merge helpers (v4)","description":"# Summary\nCreate merge helpers for v4 import that resolve day logs and segment conflicts deterministically.\n\n# Scope\n- Compare day/segment by (rev, tsLast) for winner-takes-segment.\n- Provide optional union strategy for item arrays.\n- Merge rosters by id with optional label-dedupe hooks.\n\n# Acceptance\n- Deterministic merge rules documented in code.\n- Helper functions are unit-tested for key scenarios.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:13:05.474733236Z","created_by":"ubuntu","updated_at":"2026-01-13T01:14:16.33086216Z","closed_at":"2026-01-13T01:14:16.33086216Z","close_reason":"Added import merge helpers + tests"}
{"id":"shredmaxxer-juz","title":"Wire storage adapter into app.js","status":"closed","priority":0,"issue_type":"task","assignee":"SilverRiver","created_at":"2026-01-13T02:15:08.433573242Z","created_by":"ubuntu","updated_at":"2026-01-13T02:20:22.058295312Z","closed_at":"2026-01-13T02:20:22.058295312Z","close_reason":"Storage adapter successfully wired into app.js. IndexedDB-first persistence now active with localStorage fallback. All save operations updated to use async persist functions. Boot sequence handles async state initialization. Tested and committed.","dependencies":[{"issue_id":"shredmaxxer-juz","depends_on_id":"shredmaxxer-8as.3","type":"blocks","created_at":"2026-01-13T02:15:16.197573219Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-m0e","title":"CSV export helper","description":"# Summary\nProvide CSV export helpers that serialize v4 logs into a day-by-day CSV with per-segment item labels and issue flags.\n\n# Scope\n- Map item IDs to labels via rosters.\n- Compute effective collision/high-fat flags using tag heuristics.\n- Output header + rows with stable DateKey ordering.\n\n# Acceptance\n- CSV includes per-segment item lists and daily toggles/signals.\n- Deterministic ordering and test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T01:34:51.656277979Z","created_by":"ubuntu","updated_at":"2026-01-13T01:36:07.551053368Z","closed_at":"2026-01-13T01:36:07.551053368Z","close_reason":"Added CSV export helper + tests"}
{"id":"shredmaxxer-qtc","title":"Import parser wrapper (validate + legacy detect)","description":"# Summary\nProvide an import parser that decodes JSON text and routes it through v4 validation, returning structured errors and legacy flags for the UI flow.\n\n# Scope\n- parse JSON text safely (return errors on parse failures).\n- call `validateImportPayload` to validate v4 payloads.\n- surface `legacy` + `version` flags for migration path.\n\n# Acceptance\n- Invalid JSON returns a readable error without throwing.\n- Valid v4 payload returns ok + payload.\n- Legacy payload returns ok=false + legacy flag.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:11:44.451723012Z","created_by":"ubuntu","updated_at":"2026-01-13T01:12:36.926894561Z","closed_at":"2026-01-13T01:12:36.926894561Z","close_reason":"Added import parser wrapper + tests"}
{"id":"shredmaxxer-tgc","title":"LocalStorage fallback adapter","description":"# Summary\\nProvide a localStorage-based StorageAdapter as the v4 fallback when IndexedDB is unavailable.\\n\\n# Scope\\n- Implement adapter API mirroring idbAdapter: loadState/saveDay/saveSettings/saveRosters/saveMeta/listSnapshots/saveSnapshot/restoreSnapshot.\\n- Use a single v4 key for serialized state + separate snapshot list or embed snapshots.\\n- Preserve non-destructive behavior and avoid legacy migration here.\\n\\n# Acceptance\\n- Adapter can round-trip v4 state to localStorage without errors.\\n- API matches idbAdapter for drop-in use.\\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:10:02.267680887Z","created_by":"ubuntu","updated_at":"2026-01-13T01:10:50.518717071Z","closed_at":"2026-01-13T01:10:50.518717071Z","close_reason":"Added localStorage fallback adapter"}
{"id":"shredmaxxer-vp0","title":"Roster migration helper (labels → IDs)","description":"# Summary\nAdd a pure helper that migrates legacy roster label arrays to v4 ID-based rosters and converts logs accordingly.\n\n# Scope\n- Build roster items from legacy rosters + labels found in logs\n- Apply conservative default tags when labels match defaults\n- Convert segment arrays from labels to IDs (per category)\n- Return updated rosters, logs, and label→id maps\n\n# Acceptance\n- Missing labels in logs generate new roster items (no data loss)\n- Conversion is deterministic and preserves order where possible\n- Module is isolated and unit-tested","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:29:42.310405439Z","created_by":"ubuntu","updated_at":"2026-01-13T01:29:51.617707271Z","closed_at":"2026-01-13T01:29:51.617707271Z","close_reason":"Added migration helper + tests"}
{"id":"shredmaxxer-z6w","title":"Export helpers (JSON payload)","description":"# Summary\nAdd helper functions to build v4 JSON export payloads with exportedAt/appVersion metadata.\n\n# Scope\n- Build plain JSON export object: `{...state, exportedAt, appVersion}`.\n- Provide string serialization helper for downloads.\n\n# Acceptance\n- Exports include timestamp and optional appVersion.\n- Helpers are unit-tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:15:07.906665731Z","created_by":"ubuntu","updated_at":"2026-01-13T01:15:47.302947016Z","closed_at":"2026-01-13T01:15:47.302947016Z","close_reason":"Added export helpers + tests"}
{"id":"shredmaxxer-znx","title":"Import flow helper (pre-import snapshot + merge/replace)","description":"# Summary\nAdd a pure import flow helper that parses/validates input, creates pre-import snapshots, and applies merge or replace semantics.\n\n# Scope\n- Accept JSON text or payload\n- Validate v4 payloads\n- Create pre-import snapshot\n- Merge (default) or replace\n- Expose merge helpers for logs/state\n\n# Acceptance\n- Returns structured result with nextState + snapshot metadata\n- Merge uses rev/tsLast precedence for day/segment\n- Replace returns imported state verbatim","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:32:15.544433502Z","created_by":"ubuntu","updated_at":"2026-01-13T01:32:20.104166154Z","closed_at":"2026-01-13T01:32:20.104166154Z","close_reason":"Added import flow module + tests"}
