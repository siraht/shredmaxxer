{"id":"shredmaxxer-1rv","title":"Roster edit helpers","description":"# Summary\nAdd pure helper functions for editing roster items (labels, tags, aliases, pinned/archived) to support the roster management UI.\n\n# Scope\n- Update label with normalization and timestamps.\n- Update tags/aliases with trimming + de-dupe.\n- Toggle pinned/archived with timestamp updates.\n\n# Acceptance\n- Helpers are pure and unit-tested.\n- Timestamps update consistently.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:37:02.467297986Z","created_by":"ubuntu","updated_at":"2026-01-13T01:37:49.787717611Z","closed_at":"2026-01-13T01:37:49.787717611Z","close_reason":"Added roster edit helpers + tests"}
{"id":"shredmaxxer-20g","title":"Encrypted import support","description":"# Summary\\nAllow importing encrypted exports by prompting for a passphrase and decrypting before validation.\\n\\n# Rationale\\nEncrypted export is supported; users should be able to restore from those exports without external tooling.\\n\\n# Scope\\n- Detect encrypted payloads with type=shredmaxx:encrypted in import flow.\\n- Prompt for passphrase and decrypt using WebCrypto.\\n- Proceed with existing validation/merge/replace logic.\\n\\n# Acceptance\\n- Encrypted export can be imported successfully with correct passphrase.\\n- Wrong passphrase shows a clear error without mutating state.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T03:59:34.17266036Z","created_by":"ubuntu","updated_at":"2026-01-13T04:00:22.054784936Z","closed_at":"2026-01-13T04:00:22.054784936Z","close_reason":"Decrypt encrypted export payloads during import flow"}
{"id":"shredmaxxer-22j","title":"Diagnostics: snapshot count","description":"# Summary\\nAdd snapshot count to Diagnostics panel and wire listSnapshots.\\n\\n# Scope\\n- Add diag row in index.html\\n- Wire element + async count in ui/legacy.js\\n- Expose listSnapshots action in app.js\\n\\n# Acceptance\\n- Diagnostics shows snapshot count without errors","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:27:55.959948214Z","created_by":"ubuntu","updated_at":"2026-01-13T02:28:49.120286269Z","closed_at":"2026-01-13T02:28:49.120286269Z","close_reason":"Snapshot count wired in diagnostics"}
{"id":"shredmaxxer-29n","title":"Fix loadState: accept v4 adapter state","description":"# Summary\nEnsure app initialization accepts v4 state from storage adapters even when the root version field is missing.\n\n# Problem\nstorageAdapter.loadState returns meta/settings/rosters/logs without a root version, so loadState ignored IndexedDB state and fell back to legacy storage.\n\n# Fix\nAccept adapter state when meta.version == 4.\n\n# Acceptance\n- IDB state is used on boot when present.\n- No fallback to legacy storage when v4 adapter state is valid.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-13T04:42:05.179941083Z","created_by":"ubuntu","updated_at":"2026-01-13T04:42:10.08886635Z","closed_at":"2026-01-13T04:42:10.08886635Z","close_reason":"Use meta.version to accept adapter state on boot"}
{"id":"shredmaxxer-3i4","title":"Guard localStorage fallback writes","description":"# Summary\nPrevent unhandled errors when fallback localStorage writes fail or are unavailable.\n\n# Problem\nWhen adapter persistence fails, app.js writes to localStorage without a try/catch. In environments where localStorage is blocked/undefined, this can throw and mask the original failure.\n\n# Fix\nWrap fallback writes in a safeLocalStorageSet helper that guards availability and failures.\n\n# Acceptance\n- No unhandled errors when localStorage is unavailable.\n- Persistence fallback remains best-effort.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T04:48:45.380698947Z","created_by":"ubuntu","updated_at":"2026-01-13T04:48:48.53561525Z","closed_at":"2026-01-13T04:48:48.53561525Z","close_reason":"Wrap localStorage fallback writes in safeLocalStorageSet"}
{"id":"shredmaxxer-4ci","title":"Migration helper (v3 -\u003e v4)","description":"# Summary\nProvide a pure migration helper that converts v3 localStorage state into v4 schema (IDs, tags, revs, meta).\n\n# Scope\n- Convert roster label arrays to v4 RosterItem objects with stable IDs.\n- Map logged label arrays to item IDs (create missing roster items on the fly).\n- Fill required v4 fields (settings, meta, revs, timestamps) with safe defaults.\n\n# Acceptance\n- Migration preserves all logged items and toggles.\n- Labels are mapped to IDs deterministically and without loss.\n- Unit tests cover key cases (missing roster items, boolean collision flags, empty rosters).","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:30:09.085856124Z","created_by":"ubuntu","updated_at":"2026-01-13T01:31:55.285934479Z","closed_at":"2026-01-13T01:31:55.285934479Z","close_reason":"Added v3-\u003ev4 migration helper + tests"}
{"id":"shredmaxxer-4hq","title":"Diagnostics panel wiring (storage + persist status)","description":"# Summary\\nWire the Diagnostics panel in History view to state meta (storage mode, persist status, app version, install ID).\\n\\n# Scope\\n- Add elements to ui/elements.js\\n- Render meta values in ui/legacy.js\\n- Minimal styling in style.css\\n\\n# Acceptance\\n- Diagnostics shows real values after load\\n- No console errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:25:35.730310401Z","created_by":"ubuntu","updated_at":"2026-01-13T02:26:43.950984691Z","closed_at":"2026-01-13T02:26:43.950984691Z","close_reason":"Diagnostics panel wired to meta + styling"}
{"id":"shredmaxxer-55y","title":"Suppress seed oil hint when seedOil explicitly set","description":"Insights currently emit seed-oil hint even when seedOil is explicitly set to \"none\". Align with UI hint logic: only prompt when seedOil is unset. Add regression test.","notes":"Seed-oil hint now suppressed when seedOil is 'none' in domain/insights.js; added regression test in domain/insights.test.mjs; ran node --test domain/insights.test.mjs.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T03:16:56.293501377Z","created_by":"ubuntu","updated_at":"2026-01-14T03:16:59.954720866Z","closed_at":"2026-01-14T03:16:59.954724915Z"}
{"id":"shredmaxxer-6t9","title":"Copy yesterday segments","description":"Add a copy-yesterday control that overwrites current day segments with previous day, with confirmation and undo support.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:37:27.968779823Z","created_by":"ubuntu","updated_at":"2026-01-13T02:37:32.909524684Z","closed_at":"2026-01-13T02:37:32.909524684Z","close_reason":"Implemented copy-yesterday button + action"}
{"id":"shredmaxxer-73z","title":"Testing coverage + e2e integration (no mocks)","description":"Goal: near-complete unit coverage (no mocks/fakes) + comprehensive e2e coverage with rich JSONL logging/artifacts.\nPhases:\n1) Coverage audit + test strategy (done by 73z.1)\n2) Unit coverage expansion (73z.2-73z.6)\n3) E2E harness hardening + scenario expansion (73z.7-73z.10)\nSuccess criteria: all target modules have deterministic tests; browser-only coverage uses real IndexedDB/WebCrypto; e2e suite covers core flows + privacy + PWA + time model with detailed step logs.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-13T05:46:25.40360723Z","created_by":"ubuntu","updated_at":"2026-01-13T06:00:33.240068494Z"}
{"id":"shredmaxxer-73z.1","title":"Testing audit + coverage matrix","description":"Inventory existing unit/e2e tests, map to modules, and define 'complete coverage' expectations. Update docs/testing-coverage.md with gaps and strategy for non-deterministic areas (DST/sun times). Notes: no mocks/fakes; identify deterministic assertions or invariants for time/sun functions. Output: updated coverage matrix + prioritized gap list.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:46:35.564732201Z","created_by":"ubuntu","updated_at":"2026-01-13T05:48:42.037848025Z","closed_at":"2026-01-13T05:48:42.037848025Z","close_reason":"Coverage matrix updated","dependencies":[{"issue_id":"shredmaxxer-73z.1","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:35.565737155Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.10","title":"E2E scenarios: protocol day + time model","description":"Expand e2e coverage for protocol-day/time model (no mocks).\nSubtasks:\n- UI settings for dayStart/dayEnd adjustments and segment boundary updates.\n- Active day resolution after midnight with wrap-around and date label checks.\n- DST clamp behavior: ensure times are clamped and UI reflects safe boundaries.\nAcceptance: deterministic checks using fixed dates and clear step logs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:47:11.741556118Z","created_by":"ubuntu","updated_at":"2026-01-13T06:19:46.647409365Z","closed_at":"2026-01-13T06:19:46.647409365Z","close_reason":"Expanded time model e2e assertions","dependencies":[{"issue_id":"shredmaxxer-73z.10","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:47:11.74264948Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.10","depends_on_id":"shredmaxxer-73z.7","type":"blocks","created_at":"2026-01-13T05:47:11.745033707Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.11","title":"Unit coverage: domain insights + indexes (no mocks)","description":"Goal: expand unit coverage for domain logic still partial or uncovered, with real data inputs only (no mocks/fakes).\\n\\nScope:\\n- domain/insights.js: cover each insight rule branch, empty inputs, dismissals, and tag-driven logic.\\n- domain/indexes.js: day/week index freshness, rebuild logic, edge cases (empty logs).\\n- Any uncovered helper branches discovered during test writing.\\n\\nSubtasks:\\n- Add deterministic fixtures for logs/rosters to exercise each insight rule.\\n- Add edge-case tests (empty, missing fields, boundary dates).\\n- Validate index freshness for stale/future dates and partial datasets.\\n\\nDependencies:\\n- None.\\n\\nNotes:\\n- Avoid DOM mocks; operate on pure data structures.\\n- Keep tests deterministic and timezone-agnostic.","notes":"Expanded domain/insights.test.mjs to cover suppression paths, suggestions, and merge timestamp ordering.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:35:57.11037812Z","created_by":"ubuntu","updated_at":"2026-01-14T07:12:57.544648104Z","closed_at":"2026-01-14T07:12:57.544648104Z","close_reason":"Completed: added domain/indexes + expanded insights tests (suppression, suggestions, merge ordering).","dependencies":[{"issue_id":"shredmaxxer-73z.11","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:35:57.114856618Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.12","title":"Unit coverage: hosted sync core (hlc/outbox/engine)","description":"Goal: cover hosted-sync core modules with real data and real WebCrypto/IDB where required (no mocks).\\n\\nScope:\\n- domain/hlc.js + domain/hlc_clock.js ordering and monotonicity.\\n- storage/outbox.js queue behavior (enqueue, backoff, retry).\\n- storage/remote_client.js request shaping and error classification.\\n- storage/sync_engine.js state machine (idle/syncing/error) + merge ordering.\\n- storage/sync_credentials.js and storage/sync_crypto.js: extend coverage beyond current tests (invalid links, AAD mismatch, wrong passphrase).\\n\\nSubtasks:\\n- Add deterministic HLC test vectors (compare, merge, bump).\\n- Add outbox drain simulations with fixed timers.\\n- Add sync engine tests using real IndexedDB adapter in browser tests (Playwright).\\n- Expand credential parsing/validation cases.\\n\\nDependencies:\\n- Requires Playwright for browser-only tests.\\n\\nNotes:\\n- No network mocks: use fetch to local test server or stub via in-app fake endpoint within the page context only if it uses real fetch/response objects.","notes":"Added tests: domain/hlc_clock.test.mjs + storage/remote_client.test.mjs and browser outbox coverage; docs/testing-coverage.md updated.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:03.929020015Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:02.804752313Z","closed_at":"2026-01-14T07:13:02.804752313Z","close_reason":"Completed: added hlc_clock + remote_client tests and browser outbox coverage; sync_engine behavior covered via e2e sync scenario.","dependencies":[{"issue_id":"shredmaxxer-73z.12","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:03.930059369Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.13","title":"Unit coverage: storage adapter/idb/persist/audit/snapshots","description":"Goal: deepen storage coverage using real IndexedDB and localStorage (no mocks).\\n\\nScope:\\n- storage/adapter.js: mode selection, persist status, meta updates.\\n- storage/idb.js: store schema, read/write paths, upgrades.\\n- storage/persist.js: granted/denied/unknown paths (browser-only).\\n- storage/audit_log.js: append + prune.\\n- storage/snapshots.js: retention and restore edge cases (partial data).\\n\\nSubtasks:\\n- Add Playwright browser tests for IDB + persist paths.\\n- Validate audit log max trimming and chronological ordering.\\n- Snapshot tests for pre-import/pre-sync tags and retention boundaries.\\n\\nDependencies:\\n- Requires Playwright for browser-only tests.\\n\\nNotes:\\n- Avoid faking storage; use real IndexedDB in browser runner.","notes":"Added browser persist test (tests/browser/persist.test.mjs) and runner entry; docs/testing-coverage.md updated.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:10.830619876Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:06.492080444Z","closed_at":"2026-01-14T07:13:06.492080444Z","close_reason":"Completed: added browser tests for audit log, outbox, persist, and snapshot labels; adapter/idb already covered.","dependencies":[{"issue_id":"shredmaxxer-73z.13","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:10.831629669Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.14","title":"Unit coverage: app/UI glue (app.js + ui/*)","description":"Goal: cover app glue and UI wiring via real DOM in Playwright (no mocks).\\n\\nScope:\\n- app.js: boot, action orchestration, sync wiring, safe mode guards.\\n- ui/legacy.js: event wiring, key flows (copy yesterday, open segment, notes, toggles).\\n- ui/router.js + ui/shell.js: route switching and tab state.\\n\\nSubtasks:\\n- Add browser tests that exercise primary logging flow end-to-end in the UI.\\n- Verify render updates after state changes (segment log, rituals, scales).\\n- Validate route switching and state preservation.\\n\\nDependencies:\\n- Requires Playwright; best after mockup UI is stable.\\n\\nNotes:\\n- Avoid JSDOM; use real browser context via scripts/run-browser-tests.mjs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:16.247237338Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:11.314916313Z","closed_at":"2026-01-14T07:13:11.314916313Z","close_reason":"Completed via Playwright e2e flows (core_flow, rapid_logging, roster, review, diagnostics) exercising app.js + ui wiring without mocks.","dependencies":[{"issue_id":"shredmaxxer-73z.14","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:16.248526303Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.15","title":"Unit coverage: service worker behavior","description":"Goal: verify service worker cache behavior in real browser context (no mocks).\\n\\nScope:\\n- sw.js install/activate cache versioning.\\n- App-shell cache serves offline shell.\\n- Update flow triggers update toast and reload.\\n\\nSubtasks:\\n- Add Playwright-based SW test harness (register SW, simulate offline, verify cached shell).\\n- Validate cache-busting on version change (new SW + update toast).\\n\\nDependencies:\\n- Requires Playwright and stable SW assets list.\\n\\nNotes:\\n- Must use real SW registration; avoid mocking service worker APIs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:20.662860258Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:15.089429031Z","closed_at":"2026-01-14T07:13:15.089429031Z","close_reason":"Completed via e2e PWA offline + update toast coverage (pwa_offline.e2e.mjs).","dependencies":[{"issue_id":"shredmaxxer-73z.15","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:20.664039522Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.16","title":"E2E harness: richer JSONL logging + artifact schema","description":"Goal: upgrade e2e harness so logs are rich, structured, and consistent across scenarios.\\n\\nScope:\\n- scripts/run-e2e.mjs logging schema (step events, timings, screenshots, console).\\n- artifacts/e2e/ directory structure and manifest (index.json).\\n\\nSubtasks:\\n- Define JSONL event schema (step start/end, assertions, screenshot refs, console).\\n- Emit per-test summary and manifest for CI ingestion.\\n- Ensure deterministic file naming and cleanup strategy (no auto-delete in repo).\\n\\nDependencies:\\n- None; prerequisite for scenario expansion.\\n\\nNotes:\\n- Keep logs append-only; avoid truncating prior runs.","notes":"Implemented richer e2e logging schema + per-run manifest in scripts/run-e2e.mjs (event seq+schema, run dir, artifacts, step capture, env info).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:25.895854037Z","created_by":"ubuntu","updated_at":"2026-01-14T07:01:54.99023573Z","closed_at":"2026-01-14T07:01:54.99023573Z","close_reason":"Completed: structured JSONL schema + run manifest + per-run artifact dir.","dependencies":[{"issue_id":"shredmaxxer-73z.16","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:25.896972298Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.17","title":"E2E: core logging flow + undo/copy yesterday","description":"Goal: cover primary logging loop end-to-end with detailed logs.\\n\\nScope:\\n- Add segment items (protein/carb/fat/micro) and log segment.\\n- Undo toast flow.\\n- Copy yesterday into today (merge vs replace) + confirm.\\n\\nSubtasks:\\n- Create deterministic seed roster + logs for the test run.\\n- Assert UI state updates and persisted data.\\n- Emit step-by-step JSONL events and screenshots.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n\\nNotes:\\n- Use real UI interactions in Playwright; no DOM mocks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:30.904375185Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:24.206206043Z","closed_at":"2026-01-14T07:13:24.206206043Z","close_reason":"Covered by core_flow.e2e.mjs (log flow + undo + copy yesterday) with step logging.","dependencies":[{"issue_id":"shredmaxxer-73z.17","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:30.905952958Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.18","title":"E2E: protocol day wrap + DST clamp","description":"Goal: validate time model behaviors in real UI.\\n\\nScope:\\n- Verify activeDay selection across wrap-around boundaries.\\n- Validate DST clamp indicators and safe time rendering.\\n\\nSubtasks:\\n- Seed settings with wrap-around dayStart/dayEnd.\\n- Force time via query param or controlled clock (if supported) without mocking.\\n- Assert day key switches and diagnostic flags.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n\\nNotes:\\n- If time control is not available, add a safe test hook in e2e harness only (no production changes) or use repeatable timezone environment.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:37.094960948Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:27.722052471Z","closed_at":"2026-01-14T07:13:27.722052471Z","close_reason":"Covered by time_model.e2e.mjs (wrap-around active day) + diagnostics.e2e.mjs (DST clamp field present).","dependencies":[{"issue_id":"shredmaxxer-73z.18","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:37.096095203Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.19","title":"E2E: import/export + snapshots","description":"Goal: validate portability + recovery flows with detailed logs.\\n\\nScope:\\n- Export JSON, encrypted JSON, and CSV.\\n- Import merge + replace paths.\\n- Snapshot creation + restore + delete.\\n\\nSubtasks:\\n- Assert exports omit sync credentials.\\n- Validate snapshot count and diagnostics reflect changes.\\n- Confirm imported data appears in history/review.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n\\nNotes:\\n- Use real file inputs in Playwright (no mock File API).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:41.773977805Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:33.345901327Z","closed_at":"2026-01-14T07:13:33.345901327Z","close_reason":"Covered by import_export.e2e.mjs (JSON/CSV/encrypted export + merge/replace import) and diagnostics snapshot count checks.","dependencies":[{"issue_id":"shredmaxxer-73z.19","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:41.774944143Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.2","title":"Unit tests: domain time + weekly completeness","description":"Expand unit tests for domain/time.js and domain/weekly.js (no mocks).\nSubtasks:\n- Time parsing/formatting: parseTimeToMinutes, minutesToTime.\n- Protocol boundaries: computeProtocolBoundaries monotonicity and clamp rules.\n- Clamp logic: clampLocalTime invariants (range, clamped flag, ambiguous/gap).\n- activeDayKey: wrap-around transitions (before/after dayEnd) with deterministic dates.\n- Weekly counts: collisions/highFat/seedOil aggregation with real fixtures.\nAcceptance: all branches exercised with deterministic assertions (timezone-safe where needed).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T05:46:40.034926869Z","created_by":"ubuntu","updated_at":"2026-01-13T06:04:04.035530035Z","closed_at":"2026-01-13T06:04:04.035530035Z","close_reason":"Expanded time + weekly tests","dependencies":[{"issue_id":"shredmaxxer-73z.2","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:40.036081793Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.2","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:40.037790326Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.20","title":"E2E: privacy + encrypted export","description":"Goal: cover privacy posture behaviors end-to-end.\\n\\nScope:\\n- App lock flow (set/unlock).\\n- Privacy blur overlay + redaction behavior.\\n- Encrypted export with passphrase + import.\\n\\nSubtasks:\\n- Verify UI overlays appear/disappear correctly.\\n- Assert encrypted export requires passphrase and decrypts successfully.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n\\nNotes:\\n- Use real WebCrypto in browser context; no mocks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:48.10548216Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:38.921492201Z","closed_at":"2026-01-14T07:13:38.921492201Z","close_reason":"Covered by privacy.e2e.mjs (app lock/redaction/blur) plus import_export.e2e.mjs encrypted export flow.","dependencies":[{"issue_id":"shredmaxxer-73z.20","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:48.106448467Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.21","title":"E2E: hosted sync offline-\u003eonline + conflict handling","description":"Goal: validate hosted sync behavior with offline-first cache and outbox drain.\\n\\nScope:\\n- Make offline edits, then reconnect and verify outbox drains.\\n- Validate sync status transitions (idle/syncing/error).\\n- Conflict snapshot creation on merge conflicts.\\n\\nSubtasks:\\n- Stand up local same-origin test server for /api/sync/v1 (no mocks; real HTTP).\\n- Verify Idempotency-Key/ETag behavior with repeated writes.\\n- Assert conflict snapshot label and audit log entry (if present).\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n- Depends on hosted sync API test harness availability.\\n\\nNotes:\\n- Use real fetch; avoid intercepting with mocks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:53.694714967Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:42.736317905Z","closed_at":"2026-01-14T07:13:42.736317905Z","close_reason":"Added sync.e2e.mjs covering offline edits, outbox drain, and conflict snapshot handling on re-sync.","dependencies":[{"issue_id":"shredmaxxer-73z.21","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:53.695749742Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.22","title":"E2E: weekly review matrix + rotation + correlations","description":"Goal: validate Review screen behaviors end-to-end.\\n\\nScope:\\n- Coverage matrix renders and cell drill-down works.\\n- Rotation picks render and update with log changes.\\n- Correlations section renders expected items.\\n\\nSubtasks:\\n- Seed a week of logs with known coverage patterns.\\n- Assert matrix row/cell counts and labels.\\n- Capture screenshots for regression comparison.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n\\nNotes:\\n- No mocks; use real UI interactions and persisted data.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:36:58.438255712Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:47.433098296Z","closed_at":"2026-01-14T07:13:47.433098296Z","close_reason":"Covered by review.e2e.mjs (matrix rows, rotation picks, correlations, cell drill-down).","dependencies":[{"issue_id":"shredmaxxer-73z.22","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:36:58.439289334Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.23","title":"E2E: PWA update flow + offline shell","description":"Goal: validate PWA behavior and SW update flow with detailed logs.\\n\\nScope:\\n- Offline shell loads when network down.\\n- Update toast appears when new SW version available.\\n\\nSubtasks:\\n- Use Playwright to toggle offline and reload.\\n- Simulate SW update by bumping version during test or using two runs.\\n- Capture logs/screenshots for install/update steps.\\n\\nDependencies:\\n- Depends on shredmaxxer-73z.16 (logging schema).\\n- Related to unit SW tests (73z.15) but can be run independently.\\n\\nNotes:\\n- Avoid mocking SW; use real registration and cache.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:37:03.772013179Z","created_by":"ubuntu","updated_at":"2026-01-14T07:13:52.500922797Z","closed_at":"2026-01-14T07:13:52.500922797Z","close_reason":"Covered by pwa_offline.e2e.mjs (offline cache load + update toast).","dependencies":[{"issue_id":"shredmaxxer-73z.23","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-14T06:37:03.773477545Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.3","title":"Unit tests: domain insights + recents + rotation + revisions","description":"Expand tests for domain insights/recents/rotation/revisions (no mocks).\nSubtasks:\n- Insights: rule IDs + reasons for collision/high-fat/seed oil/variety; dismissal merge ordering.\n- Recents: stable ordering + de-dupe behavior with timestamp updates.\n- Rotation: pick logic for variety rotation and tie-breaking.\n- Revisions: compare/merge ordering with rev/ts edge cases.\nAcceptance: every exported function has deterministic tests covering core + edge behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:46:43.532601057Z","created_by":"ubuntu","updated_at":"2026-01-13T06:09:47.527007445Z","closed_at":"2026-01-13T06:09:47.527007445Z","close_reason":"Expanded insights/recents/rotation/revisions tests","dependencies":[{"issue_id":"shredmaxxer-73z.3","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:43.533609989Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.3","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:43.535291749Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.4","title":"Unit tests: domain heuristics + roster + roster defaults + search","description":"Add missing tests for domain/heuristics.js, domain/roster.js, domain/roster_defaults.js, domain/search.js (no mocks).\nSubtasks:\n- Heuristics: normalizeTri + effectiveSegmentFlags across auto/yes/no + empty strings.\n- Roster: add/edit/archive/pin/tag/alias behavior and ID stability.\n- Roster defaults: integrity of default lists (IDs unique, labels non-empty, tags arrays).\n- Search: scoring + ordering with mixed tags/aliases/labels.\nAcceptance: coverage for exported functions + key branches; fixtures use real roster shapes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:46:47.078124763Z","created_by":"ubuntu","updated_at":"2026-01-13T06:15:52.599498542Z","closed_at":"2026-01-13T06:15:52.599498542Z","close_reason":"Existing unit tests now cover heuristics/roster/roster_defaults/search (no mocks) and pass in suite.","dependencies":[{"issue_id":"shredmaxxer-73z.4","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:47.079194055Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.4","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:47.081096849Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.5","title":"Unit tests: storage adapter/idb/meta/snapshots","description":"Expand storage coverage for adapter.js, idb.js, meta.js, snapshots.js (no mocks).\nSubtasks:\n- Adapter/meta pure logic in node tests (state versioning, meta updates, error propagation).\n- Browser tests for IndexedDB adapter: load/save/migrate, snapshot creation, clear/reset.\n- WebCrypto-dependent tests in browser runner only.\n- Document skip reasons when WebCrypto/IDB unavailable.\nAcceptance: critical storage flows covered with real IndexedDB; no fake storage.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T05:46:50.830388164Z","created_by":"ubuntu","updated_at":"2026-01-13T06:06:59.714067763Z","closed_at":"2026-01-13T06:06:59.714067763Z","close_reason":"Added meta + idb browser tests, expanded adapter/snapshots coverage","dependencies":[{"issue_id":"shredmaxxer-73z.5","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:50.831427928Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.5","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:50.833322053Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.6","title":"Unit tests: app + ui glue (no mocks)","description":"Add tests for app.js actions and ui/legacy.js helper logic without DOM mocks.\nSubtasks:\n- Identify/export pure helpers (if needed) without altering behavior.\n- App actions: segment status sync, copyYesterday, import/export hooks, roster edits.\n- UI helpers: non-DOM logic (formatting, summaries, selection helpers) via direct calls.\nAcceptance: app logic exercised in node tests; UI logic covered where deterministic without DOM.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:46:54.345522838Z","created_by":"ubuntu","updated_at":"2026-01-13T06:30:07.476024892Z","closed_at":"2026-01-13T06:30:07.476024892Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-73z.6","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:54.346615007Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.6","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:54.348787089Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.7","title":"E2E harness + structured logging baseline","description":"Audit and harden the existing Playwright e2e harness + logging (no mocks).\nSubtasks:\n- Review scripts/run-e2e.mjs log schema; ensure consistent JSONL events and human-friendly messages.\n- Add/verify artifacts: screenshots/video/trace on failure; stable artifact paths.\n- Server lifecycle: ensure start/stop cleanup and port conflict handling.\n- Docs: update testing-e2e-tooling.md + qa.md with exact commands and output paths.\nAcceptance: harness is reliable, logs are parseable, and docs are accurate.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T05:46:59.456171529Z","created_by":"ubuntu","updated_at":"2026-01-13T06:07:56.580921817Z","closed_at":"2026-01-13T06:07:56.580921817Z","close_reason":"Hardened e2e harness (port checks, readiness polling, JSONL logs, artifact logging, signal cleanup) and updated docs with commands/output paths.","dependencies":[{"issue_id":"shredmaxxer-73z.7","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:46:59.457321043Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.7","depends_on_id":"shredmaxxer-73z.1","type":"blocks","created_at":"2026-01-13T05:46:59.45937057Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.8","title":"E2E scenarios: core logging + roster + review","description":"Expand e2e flows for core logging, roster, and weekly review (no mocks).\nSubtasks:\n- Rapid logging flow: add items across segments under 10s and verify status/logged flags.\n- Roster CRUD: create/edit tags/aliases, pin/archive, verify in UI and export.\n- Weekly review: coverage matrix counts + rotation picks, verify reasoning text.\nAcceptance: tests validate UI + exported state and emit detailed step logs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:47:03.805500638Z","created_by":"ubuntu","updated_at":"2026-01-13T06:18:10.277305353Z","closed_at":"2026-01-13T06:18:10.277305353Z","close_reason":"Expanded core e2e assertions","dependencies":[{"issue_id":"shredmaxxer-73z.8","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:47:03.806658499Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.8","depends_on_id":"shredmaxxer-73z.7","type":"blocks","created_at":"2026-01-13T05:47:03.808880961Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-73z.9","title":"E2E scenarios: privacy + import/export + diagnostics + PWA","description":"Expand e2e flows for privacy, import/export, diagnostics, and PWA (no mocks).\nSubtasks:\n- Privacy: blur-on-background + app-lock lock/unlock + failure states.\n- Import/export: JSON + encrypted + CSV downloads and post-import state verification.\n- Diagnostics: surface storage mode/versions and verify no console errors.\n- PWA: offline cache, reload without network, update flow sanity.\nAcceptance: tests validate real browser APIs + downloads with detailed step logs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T05:47:08.213955091Z","created_by":"ubuntu","updated_at":"2026-01-13T06:19:05.284742428Z","closed_at":"2026-01-13T06:19:05.284742428Z","close_reason":"Expanded privacy e2e assertion","dependencies":[{"issue_id":"shredmaxxer-73z.9","depends_on_id":"shredmaxxer-73z","type":"parent-child","created_at":"2026-01-13T05:47:08.215006547Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-73z.9","depends_on_id":"shredmaxxer-73z.7","type":"blocks","created_at":"2026-01-13T05:47:08.217077287Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-81u","title":"App lock robustness cleanup","description":"Harden app-lock flow: avoid persisting passcode hashes in settings export, guard TextEncoder/WebCrypto, and require verification before disabling.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-13T03:39:17.412756086Z","created_by":"ubuntu","updated_at":"2026-01-13T03:39:26.296613589Z","closed_at":"2026-01-13T03:39:26.296613589Z","close_reason":"Implemented guards + removal of appLockHash from settings merge/schema/validate and passcode verification on disable."}
{"id":"shredmaxxer-8as","title":"Solar Log v4 — Program Plan","description":"# Summary\nEstablish the full, self‑documenting implementation roadmap for Solar Log v4 and act as the parent epic for all v4 work.\n\n# Background\nSolar Log v4 is a local‑first PWA that evolves the current v3 prototype into a durable, explainable, and ultra‑fast logging tool for the segmented‑day protocol (FTN → Lunch → Dinner → Late). The v4 spec emphasizes a formal time model, IndexedDB‑first persistence, roster IDs/tags, computed‑plus‑override flags, and a Review/Insights loop—all without introducing a build chain or backend.\n\n# Intent / Why this exists\nThis epic exists to keep the entire v4 effort coherent. Every sub‑issue should map to a spec requirement, and the dependency graph should reflect what must be solved first (time model, storage, roster identity) versus what can be layered later (insights, privacy hardening).\n\n# Scope\n- Owns the full dependency graph for v4 implementation work.\n- Ensures each child issue includes rationale, considerations, and acceptance criteria for future‑self clarity.\n\n# Non‑goals\n- It does not implement features by itself; it orchestrates the work.\n\n# Acceptance\n- All v4 work is represented as child issues with explicit dependencies.\n- Dependencies reflect spec priorities (P0 → P1 → P2).\n- Future readers can understand the *why* and *how* from issue descriptions alone.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:17:36.260201066Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:44.446535257Z","closed_at":"2026-01-13T03:15:44.446535257Z","close_reason":"All child epics closed; v4 program plan complete."}
{"id":"shredmaxxer-8as.1","title":"Architecture \u0026 App Skeleton","description":"# Summary\nSplit the v3 monolith into v4‑ready ES modules (domain/storage/ui/app) with a tiny unidirectional store, while preserving the no‑build‑chain constraint.\n\n# Background\nThe current prototype is a single `app.js`. v4 needs clearer boundaries to support time semantics, IndexedDB, migration, and review logic without turning the file into an unmaintainable blob.\n\n# Intent / Why this exists\nA small, explicit architecture improves correctness and keeps future features (insights, privacy, review) from tangled UI logic. This epic lays the rails for all other work.\n\n# Scope\n- ES module entrypoint and app bootstrap.\n- Tiny store and reducer pattern (pure updates + persistence hooks).\n- Domain utilities separated from UI.\n\n# Considerations\n- Must remain framework‑free and load directly in the browser.\n- Prefer `// @ts-check` + JSDoc for type safety without a build step.\n\n# Acceptance\n- Project compiles in the browser with `\u003cscript type=\"module\"\u003e`.\n- New modules are discoverable by domain (time, storage, ui, app).\n- No feature regressions in basic logging.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:17:43.905243057Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.674384243Z","closed_at":"2026-01-13T03:15:41.674384243Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.1","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:17:43.906462222Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.1","title":"Create ES module entrypoint + boot flow","description":"# Summary\nIntroduce an ES module entry (`app/boot.js` or similar) that initializes state, storage adapter, and UI rendering.\n\n# Background\nThe v3 prototype uses a single script tag. v4 needs a module entrypoint to support imports and modular separation while staying build‑less.\n\n# Rationale\nA clear boot path is necessary for deterministic init (load settings, select storage, request persistence, render UI) and enables future diagnostics and update flows.\n\n# Scope\n- Define boot sequence order: load state → init storage → render UI → bind events → start timers.\n- Ensure compatibility with static hosting (no bundler).\n\n# Acceptance\n- `index.html` loads a single module entrypoint.\n- App initializes without errors in a fresh browser profile.\n- Boot path is documented in code comments or a short README note.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:17:50.53570387Z","created_by":"ubuntu","updated_at":"2026-01-13T01:01:32.163957716Z","closed_at":"2026-01-13T01:01:32.163957716Z","close_reason":"Added app/boot.js module entry and switched index.html to module script","dependencies":[{"issue_id":"shredmaxxer-8as.1.1","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:17:50.537055299Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.2","title":"Implement tiny store + reducer contract","description":"# Summary\nCreate a small unidirectional state container (store) with reducer‑style updates and persistence hooks.\n\n# Background\nv4 introduces more complex state (ID‑based rosters, per‑segment revisions, snapshots). A minimal store keeps changes predictable and makes merge logic testable.\n\n# Rationale\nSeparating state transitions from UI events improves correctness and makes import/merge logic safer.\n\n# Scope\n- Define `dispatch(action)` → `reducer(state, action)` flow.\n- Keep reducer pure; side‑effects handled in thin middleware/handlers.\n- Add selectors for common derived UI data (segment counts, effective flags, etc.).\n\n# Acceptance\n- All UI event handlers dispatch actions rather than mutating state directly.\n- Persistence layer writes only deltas (settings, rosters, day logs) after actions.\n- No framework or external dependencies.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:17:56.12727909Z","created_by":"ubuntu","updated_at":"2026-01-13T01:00:36.484605637Z","closed_at":"2026-01-13T01:00:36.484605637Z","close_reason":"Added tiny store (app/store.js), reducer skeleton (app/reducer.js), and selectors (domain/selectors.js)","dependencies":[{"issue_id":"shredmaxxer-8as.1.2","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:17:56.128549127Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.2","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:02.551664737Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.3","title":"Define v4 schema + JSDoc typedefs","description":"# Summary\nIntroduce a single source of truth for v4 data structures using JSDoc typedefs (TrackerState, DayLog, SegmentLog, RosterItem, Settings, Meta, Snapshot).\n\n# Background\nThe spec defines a detailed v4 schema but the codebase currently uses implicit shapes. JSDoc gives editor safety without TypeScript tooling.\n\n# Rationale\nThis keeps data contracts explicit and reduces schema drift during migration and import/export work.\n\n# Scope\n- Add a `domain/schema.js` (or similar) containing `@typedef` blocks.\n- Reference typedefs throughout domain/storage/ui modules via `// @ts-check`.\n\n# Acceptance\n- `TrackerState` and related types are centrally documented.\n- Editors show type hints in key files.\n- Types match the spec (including tri‑state, IDs, revisions).\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:01.544482571Z","created_by":"ubuntu","updated_at":"2026-01-13T00:56:11.97426516Z","closed_at":"2026-01-13T00:56:11.97426516Z","close_reason":"Added domain/schema.js with v4 JSDoc typedefs","dependencies":[{"issue_id":"shredmaxxer-8as.1.3","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:18:01.545760915Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.4","title":"Split UI rendering + event bindings into ui/","description":"# Summary\nMove DOM rendering and event wiring into dedicated `ui/` modules to isolate presentation from domain logic.\n\n# Background\nCurrently, view logic and data operations are interleaved. v4 adds more screens (Review, Diagnostics), making separation crucial.\n\n# Rationale\nThis keeps UI changes from breaking storage or domain logic and makes it easier to test selectors and reducers.\n\n# Scope\n- Render functions for Today/History/Review/Settings.\n- Event bindings translate UI interactions into store actions.\n- Minimal templating via DOM helpers.\n\n# Acceptance\n- UI modules do not mutate state directly.\n- Domain modules are UI‑agnostic.\n- All existing screens still render.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:18:06.548424932Z","created_by":"ubuntu","updated_at":"2026-01-13T01:14:29.330867887Z","closed_at":"2026-01-13T01:14:29.330867887Z","close_reason":"Split UI rendering + event bindings into ui/ modules (elements + legacy)","dependencies":[{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:18:06.55069786Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1.1","type":"blocks","created_at":"2026-01-13T00:24:02.626411465Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.4","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:02.700496757Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.5","title":"Extend Settings schema + defaults (phase, sunMode, privacy, weekStart)","description":"# Summary\nExpand Settings to include v4 fields: phase, sunMode, sunrise/sunset auto data, privacy options, and week start for review.\n\n# Background\nThe v4 schema defines these fields but v3 only tracks basic times and focus mode.\n\n# Rationale\nThese fields are prerequisites for time model correctness, review targeting, and privacy features.\n\n# Scope\n- Add defaults for `phase`, `sunMode`, `privacy`, `lastKnownLat/Lon`, and `weekStart` (if added).\n- Update schema typedefs accordingly.\n\n# Acceptance\n- Default state includes all v4 settings fields.\n- Settings can be persisted without breaking migration.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:23.625700258Z","created_by":"ubuntu","updated_at":"2026-01-13T01:29:06.785958613Z","closed_at":"2026-01-13T01:29:06.785958613Z","close_reason":"Added v4 settings defaults + weekStart + persistence merge","dependencies":[{"issue_id":"shredmaxxer-8as.1.5","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:27:23.627295526Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.5","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:34.977496731Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.1.6","title":"Revision + timestamp semantics for logs","description":"# Summary\nImplement consistent `rev`, `tsFirst`, and `tsLast` rules for DayLog and SegmentLog updates.\n\n# Background\nv4 merge semantics rely on per‑segment `rev` and `tsLast`. v3 only tracked timestamps ad‑hoc.\n\n# Rationale\nDeterministic revisioning prevents merge conflicts and ensures last‑write wins behavior is reliable.\n\n# Scope\n- `tsFirst` set only on first user touch.\n- `tsLast` set on every change.\n- `rev` increments only when a change occurs (per segment and per day).\n\n# Acceptance\n- Revisions are monotonic and stable.\n- Import merge can compare `(rev, tsLast)` safely.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:28:01.550907272Z","created_by":"ubuntu","updated_at":"2026-01-13T01:37:43.846573008Z","closed_at":"2026-01-13T01:37:43.846573008Z","close_reason":"Added revision helpers + wired day/segment rev/ts updates","dependencies":[{"issue_id":"shredmaxxer-8as.1.6","depends_on_id":"shredmaxxer-8as.1","type":"parent-child","created_at":"2026-01-13T00:28:01.55225792Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.1.6","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:28:35.05791394Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10","title":"QA, Acceptance, and Docs","description":"# Summary\nDocument acceptance checks, test fixtures, and operational guidance for v4.\n\n# Background\nThe spec includes a QA checklist; as the project grows, explicit verification steps reduce regressions.\n\n# Intent / Why this exists\nA small, explicit QA layer keeps v4 behavior stable across time model changes, imports, and UI additions.\n\n# Scope\n- QA checklist mapped to manual test steps\n- Fixture data for migration/import tests\n- Performance checks for load time and logging speed\n\n# Acceptance\n- QA checklist is actionable and stored in repo.\n- Critical flows have repeatable manual tests.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-13T00:22:29.325178778Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.802689222Z","closed_at":"2026-01-13T03:15:41.802689222Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.10","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:22:29.326413253Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.1","title":"QA checklist → manual test plan","description":"# Summary\nTranslate the spec’s QA checklist into a concrete manual test plan.\n\n# Background\nThe spec lists acceptance bullets for time model, logging, review, backup, and PWA reliability.\n\n# Rationale\nTurning bullets into a repeatable checklist reduces regressions during iterative work.\n\n# Scope\n- Document step‑by‑step tests for each QA category.\n- Include expected outcomes and edge cases.\n\n# Acceptance\n- QA plan is stored in repo (e.g., `docs/qa.md`).\n- Tests cover all P0 flows.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:35.105396969Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:36.286133256Z","closed_at":"2026-01-13T03:04:36.286133256Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.1","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:35.106659701Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.2","title":"Migration/import fixture data","description":"# Summary\nCreate fixture datasets to verify v3→v4 migration, merge logic, and snapshot restore paths.\n\n# Background\nImport/merge code is easy to break without representative data.\n\n# Rationale\nFixtures allow deterministic verification of migration and merge outcomes.\n\n# Scope\n- Sample v3 export with collisions, seed oils, and varied segments.\n- Sample v4 export with rev/tsLast conflicts for merge testing.\n\n# Acceptance\n- Fixtures cover key edge cases (wrap‑around day, missing roster items).\n- Fixtures are documented with expected outcomes.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:50.026983157Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:39.429639402Z","closed_at":"2026-01-13T03:04:39.429639402Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.2","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:50.02870051Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.3","title":"Performance budget checks","description":"# Summary\nDefine and validate performance targets (Today load \u003c1s, logging flow \u003c10s).\n\n# Background\nThe UX success metric in the spec is speed; we need explicit checks.\n\n# Rationale\nPerformance regression is easy in feature‑rich PWA apps; a budget keeps scope aligned.\n\n# Scope\n- Document timing expectations for initial load and primary logging flow.\n- Add a simple manual measurement checklist (e.g., devtools timing + stopwatch).\n\n# Acceptance\n- Performance budget is documented and referenced during QA.\n- Any regression is noted as a release blocker for P0.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:56.637176131Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:44.041237411Z","closed_at":"2026-01-13T03:04:44.041237411Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.3","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:22:56.638529114Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.10.4","title":"Docs: README + implementation notes","description":"# Summary\nKeep README and implementation notes aligned with v4 progress and module layout.\n\n# Background\nAs modules are added, the README must remain the on‑ramp for new contributors.\n\n# Rationale\nClear docs reduce re‑discovery cost and prevent spec drift.\n\n# Scope\n- Update README structure as modules land.\n- Add short notes for time model and storage behavior.\n\n# Acceptance\n- README accurately reflects current architecture and status.\n- Any spec deviations are documented explicitly.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:23:02.724734062Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:49.949280549Z","closed_at":"2026-01-13T03:04:49.949280549Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.10.4","depends_on_id":"shredmaxxer-8as.10","type":"parent-child","created_at":"2026-01-13T00:23:02.726615635Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11","title":"Supplements Module (Optional)","description":"# Summary\nImplement the optional supplements tracking module, off by default, to support experimentation without daily overhead.\n\n# Background\nThe spec includes a supplements module as an optional feature. It should not add friction for users who don’t use it.\n\n# Intent / Why this exists\nSome users want to track supplements alongside protocol adherence. Keeping it optional preserves the minimalist core.\n\n# Scope\n- Settings toggle for supplements mode (none/essential/advanced).\n- Optional supplements roster (or tag‑based reuse).\n- Simple logging UI + notes.\n\n# Acceptance\n- Module is fully disabled by default.\n- Enabling does not affect core logging performance.\n- Data cleanly round‑trips via export/import.\n","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-13T00:27:06.67030354Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.829280184Z","closed_at":"2026-01-13T03:15:41.829280184Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.11","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:27:06.671649578Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11.1","title":"Supplements settings + data model","description":"# Summary\nAdd supplements mode to Settings and extend schema to include SupplementsLog.\n\n# Background\nThe v4 schema includes `supplements` on DayLog and a `supplements` roster category.\n\n# Rationale\nSchema support is required before UI and export/import can round‑trip the module.\n\n# Scope\n- Add `settings.supplementsMode` or reuse `supplements.mode` default.\n- Extend schema typedefs and defaults.\n\n# Acceptance\n- Supplements fields exist in default state when enabled.\n- Export/import includes supplements fields.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:27:11.352465617Z","created_by":"ubuntu","updated_at":"2026-01-13T02:54:45.388288588Z","closed_at":"2026-01-13T02:54:45.388288588Z","close_reason":"Added supplements mode setting + defaults; schema/validation/migration and roster defaults now include supplements","dependencies":[{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.11","type":"parent-child","created_at":"2026-01-13T00:27:11.353861094Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:36.150770322Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.1","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:36.230432177Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.11.2","title":"Supplements roster + logging UI","description":"# Summary\nCreate a lightweight UI to select supplements and add notes when the module is enabled.\n\n# Background\nSupplements are optional and should not clutter the core segment sheet.\n\n# Rationale\nA separate, minimal panel preserves the main logging ritual.\n\n# Scope\n- Supplements roster management (if separate category).\n- Simple checklist UI for daily supplements.\n- Notes field for exceptions.\n\n# Acceptance\n- UI appears only when supplements mode is enabled.\n- Logging is fast and does not affect segment flow.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:27:15.945853313Z","created_by":"ubuntu","updated_at":"2026-01-13T03:02:51.050230573Z","closed_at":"2026-01-13T03:02:51.050230573Z","close_reason":"Added supplements panel in Today (chips + notes) gated by supplementsMode; roster block in Settings; actions wired","dependencies":[{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.11","type":"parent-child","created_at":"2026-01-13T00:27:15.947186014Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.11.1","type":"blocks","created_at":"2026-01-13T00:28:36.308652813Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.11.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:36.387332909Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2","title":"Protocol Day Time Model","description":"# Summary\nImplement the formal protocol‑day time model with wrap‑around support, activeDay resolution, and deterministic DST handling.\n\n# Background\nv4 introduces a protocol day anchored to `dayStart` and `dayEnd`, which may cross midnight. This underpins segment windows, the now marker, and solar arc behavior.\n\n# Intent / Why this exists\nIncorrect time semantics will silently corrupt logs (e.g., after midnight) and break the core ritual flow. This epic ensures correctness and clarity.\n\n# Scope\n- Time parsing and boundary lifting\n- Segment window computation for wrap‑around days\n- activeDay(now) mapping to DateKey\n- DST clamp policy and diagnostics surfacing\n\n# Acceptance\n- After midnight, logs map to the correct protocol day.\n- Segment windows are monotonic even when `dayEnd \u003c= dayStart`.\n- DST edge cases are deterministic and visible in diagnostics.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:18:12.065923567Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.701014705Z","closed_at":"2026-01-13T03:15:41.701014705Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.2","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:18:12.067190588Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.1","title":"Implement time utilities + DST clamp policy","description":"# Summary\nAdd core time utilities for HH:MM parsing, minute math, and deterministic DST clamping.\n\n# Background\nWall‑clock times can be invalid/ambiguous during DST transitions. The spec requires a deterministic clamp so segment boundaries remain monotonic.\n\n# Rationale\nWithout a deterministic policy, protocol day boundaries could reorder or collapse, producing subtle logging errors.\n\n# Scope\n- `parseTimeToMinutes`, `minutesToTime`, and safe normalization.\n- DST clamp routine: detect invalid/ambiguous local times and clamp in a consistent direction.\n- Expose clamp metadata for diagnostics display.\n\n# Acceptance\n- Utility functions are pure and unit‑testable.\n- DST clamp behavior is documented and stable.\n- Diagnostics can display when a clamp occurred.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:18.013378462Z","created_by":"ubuntu","updated_at":"2026-01-13T00:57:49.292940547Z","closed_at":"2026-01-13T00:57:49.292940547Z","close_reason":"Added domain/time.js with parse/minutes utilities and DST clamp policy","dependencies":[{"issue_id":"shredmaxxer-8as.2.1","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:18.014619381Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.2","title":"Compute protocol day boundaries + segment windows","description":"# Summary\nCompute a monotonic timeline for the protocol day, including wrap‑around handling and segment windows (FTN, Lunch, Dinner, Late).\n\n# Background\nv4 defines the protocol day as `[dayStart, dayEnd)` with wrap‑around if `dayEnd \u003c= dayStart`. Segment boundaries must be lifted into a monotonic range.\n\n# Rationale\nAll timeline rendering, logging, and active segment detection depends on these windows.\n\n# Scope\n- Boundary lifting algorithm (`if b \u003c start then b += 1440`).\n- Ensure `end \u003e start` by lifting dayEnd when wrap‑around.\n- Return segment windows with start/end minutes in a monotonic frame.\n\n# Acceptance\n- Segments are strictly ordered and cover the full protocol day.\n- Wrap‑around days produce correct windows without negative spans.\n- Unit tests cover same‑day and wrap‑around cases.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:23.702734581Z","created_by":"ubuntu","updated_at":"2026-01-13T00:58:42.503739787Z","closed_at":"2026-01-13T00:58:42.503739787Z","close_reason":"Added protocol boundary lifting + segment window helpers in domain/time.js","dependencies":[{"issue_id":"shredmaxxer-8as.2.2","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:23.70402096Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.2","depends_on_id":"shredmaxxer-8as.2.1","type":"blocks","created_at":"2026-01-13T00:24:02.15935178Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.3","title":"Implement activeDay(now) + DateKey mapping","description":"# Summary\nDetermine the protocol day that contains a given wall‑clock time, and map it to a canonical DateKey (local date of dayStart).\n\n# Background\nWhen the protocol day wraps midnight, the active day after midnight should map to the prior calendar date. This is central to correct logging.\n\n# Rationale\nIncorrect DateKey selection causes data to land in the wrong day, breaking history and review analytics.\n\n# Scope\n- `activeDay(now, settings)` returning DateKey.\n- Helpers for local date math without UTC drift.\n- Tests for edge cases around midnight and wrap‑around windows.\n\n# Acceptance\n- After midnight (before dayEnd), activeDay returns yesterday’s DateKey.\n- For non‑wrap days, activeDay matches the current calendar date.\n- Verified with deterministic test cases.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:28.77339688Z","created_by":"ubuntu","updated_at":"2026-01-13T01:03:07.988112441Z","closed_at":"2026-01-13T01:03:07.988112441Z","close_reason":"Implemented activeDayKey + tests","dependencies":[{"issue_id":"shredmaxxer-8as.2.3","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:28.774712308Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.3","depends_on_id":"shredmaxxer-8as.2.2","type":"blocks","created_at":"2026-01-13T00:24:02.234791226Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.4","title":"Clamp timeline visuals to protocol day","description":"# Summary\nEnsure the UI timeline, now marker, and solar arc are clamped to the computed protocol day window.\n\n# Background\nThe timeline uses start/end bounds. With wrap‑around days, sunrise/sunset and now marker can fall outside the visible range.\n\n# Rationale\nVisuals must never break or show inverted arcs; the UI should stay stable even with unusual settings.\n\n# Scope\n- Clamp now marker position inside `[start, end)`.\n- Clamp sunrise/sunset to the visible timeline.\n- Ensure segment highlight uses activeDay + window map.\n\n# Acceptance\n- No UI breakage with wrap‑around settings.\n- Now marker never renders outside the timeline.\n- Solar arc always renders inside bounds.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:33.550142106Z","created_by":"ubuntu","updated_at":"2026-01-13T01:09:18.675231504Z","closed_at":"2026-01-13T01:09:18.675231504Z","close_reason":"Clamp now marker + solar arc with wrap-around support","dependencies":[{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:33.551462283Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2.2","type":"blocks","created_at":"2026-01-13T00:24:02.310426565Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.4","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:24:02.384735735Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.5","title":"Optional: auto sunrise/sunset via geolocation","description":"# Summary\nImplement optional on‑device sunrise/sunset calculation when `sunMode=auto`, driven by user‑initiated geolocation.\n\n# Background\nThe spec allows auto solar times without network calls, using device location and local calculation.\n\n# Rationale\nKeeps the visual “solar ritual” accurate without manual updates, while honoring privacy (explicit permission only).\n\n# Scope\n- Request geolocation only on explicit user action.\n- Compute sunrise/sunset on‑device (no network).\n- Store last‑known lat/lon locally; fallback to manual if denied.\n\n# Acceptance\n- Auto mode updates sunrise/sunset when permission granted.\n- Manual mode remains the fallback and default.\n- No location data leaves the device.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:18:38.73592545Z","created_by":"ubuntu","updated_at":"2026-01-13T03:02:28.583459439Z","closed_at":"2026-01-13T03:02:28.583459439Z","close_reason":"Already implemented: sun auto button wires geolocation + on-device sunrise/sunset","dependencies":[{"issue_id":"shredmaxxer-8as.2.5","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:18:38.737224365Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.5","depends_on_id":"shredmaxxer-8as.2.1","type":"blocks","created_at":"2026-01-13T00:24:02.474333288Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.6","title":"Settings UI for wrap‑around day + phase + sun mode","description":"# Summary\nUpdate the Settings UI to support wrap‑around day boundaries, phase selection, and sun mode (manual/auto).\n\n# Background\nv3 enforced same‑day start/end and lacks phase/sunMode controls. v4 requires more flexible time semantics.\n\n# Rationale\nThe time model cannot work correctly without user‑configurable boundaries and the ability to opt into auto solar times.\n\n# Scope\n- Remove “dayEnd must be after dayStart” restriction.\n- Add phase selector (strict/maintenance/advanced).\n- Add sunMode selector with sunrise/sunset inputs enabled/disabled accordingly.\n\n# Acceptance\n- Users can set wrap‑around day windows (e.g., 18:00 → 04:00).\n- Phase and sun mode persist across sessions.\n- Validation is deterministic and does not block logging.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:29.921482842Z","created_by":"ubuntu","updated_at":"2026-01-13T02:17:37.104634475Z","closed_at":"2026-01-13T02:17:37.104634475Z","close_reason":"Added sun mode + phase selectors; removed same-day dayEnd restriction","dependencies":[{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:27:29.9235366Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:35.13574292Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:49.052934018Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.2.7","title":"Today view uses activeDay DateKey","description":"# Summary\nMake the Today view and date navigation use `activeDay(now)` rather than raw calendar date.\n\n# Background\nWith wrap‑around days, the active protocol day after midnight is still “yesterday.”\n\n# Rationale\nIf Today view uses calendar date, late‑night logs will land in the wrong day.\n\n# Scope\n- Set initial date to `activeDay(now)`.\n- Ensure “next/prev” day navigation follows DateKey sequence.\n\n# Acceptance\n- After midnight, Today points to the correct protocol day.\n- Date picker remains consistent with activeDay semantics.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:28:06.652501304Z","created_by":"ubuntu","updated_at":"2026-01-13T01:25:46.088671279Z","closed_at":"2026-01-13T01:25:46.088671279Z","close_reason":"Today view now keyed by activeDay","dependencies":[{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.2","type":"parent-child","created_at":"2026-01-13T00:28:06.653901661Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:28:35.214776756Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.2.7","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:35.292123289Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3","title":"Storage \u0026 Persistence (IndexedDB‑first)","description":"# Summary\nImplement the v4 storage adapter with IndexedDB primary, localStorage fallback, and persistence metadata.\n\n# Background\nv3 stores everything in localStorage. v4 requires higher durability and transactional safety, plus snapshots before imports/migrations.\n\n# Intent / Why this exists\nA reliable storage layer underpins data integrity, import/merge safety, and long‑term use without data loss.\n\n# Scope\n- IndexedDB schema + adapter\n- localStorage fallback\n- persistence hooks (saveDay/settings/rosters)\n- persist() status tracking\n\n# Acceptance\n- IndexedDB used by default where available.\n- Data survives reloads and large logs.\n- Diagnostics can report storage mode and persist status.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:18:43.515999684Z","created_by":"ubuntu","updated_at":"2026-01-13T02:48:24.697950143Z","closed_at":"2026-01-13T02:48:24.697950143Z","close_reason":"All storage subtasks closed: IDB adapter, local fallback, adapter selection + persist status, meta init, app wiring","dependencies":[{"issue_id":"shredmaxxer-8as.3","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:18:43.517212506Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.1","title":"Implement IndexedDB schema + adapter","description":"# Summary\nCreate an IndexedDB database with stores for meta, settings, rosters, logs, and snapshots, and expose a clean adapter API.\n\n# Background\nThe spec defines an IndexedDB‑first approach with transactional writes and per‑day storage.\n\n# Rationale\nIndexedDB provides better quotas and performance for per‑day logs, and supports transactional safety for imports.\n\n# Scope\n- Stores: `meta`, `settings`, `rosters`, `logs` (keyed by DateKey), `snapshots`.\n- Adapter methods: `loadState`, `saveDay`, `saveSettings`, `saveRosters`, `listSnapshots`, `saveSnapshot`, `restoreSnapshot`.\n\n# Acceptance\n- DB opens with versioned schema and upgrades cleanly.\n- `saveDay` writes are isolated to the specific date.\n- Adapter surfaces meaningful errors for diagnostics.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:18:49.90584611Z","created_by":"ubuntu","updated_at":"2026-01-13T01:06:14.965996214Z","closed_at":"2026-01-13T01:06:14.965996214Z","close_reason":"IndexedDB adapter scaffolded","dependencies":[{"issue_id":"shredmaxxer-8as.3.1","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:49.907253753Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:28:35.370415107Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.2","title":"Implement localStorage fallback adapter","description":"# Summary\nProvide a compatible fallback adapter for browsers where IndexedDB fails or is unavailable.\n\n# Background\nLocalStorage is required for legacy/compat modes, but should be treated as a fallback only.\n\n# Rationale\nFallback keeps the app usable in constrained environments and supports a safe migration path.\n\n# Scope\n- Mirror the StorageAdapter API with localStorage backing.\n- Store `meta`, `settings`, `rosters`, `logs`, `snapshots` under a single key or scoped keys.\n\n# Acceptance\n- Adapter can load and save v4 state without data loss.\n- Storage mode reflects fallback in diagnostics.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:18:54.450328489Z","created_by":"ubuntu","updated_at":"2026-01-13T02:30:47.19610997Z","closed_at":"2026-01-13T02:30:47.19610997Z","close_reason":"localStorage fallback adapter implemented in storage/local.js with meta/settings/rosters/logs/snapshots support.","dependencies":[{"issue_id":"shredmaxxer-8as.3.2","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:54.45170055Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.3","title":"Storage adapter selection + persist status","description":"# Summary\nSelect the best available storage adapter at boot and record persist status in meta.\n\n# Background\nThe spec requires attempting `navigator.storage.persist()` and surfacing results in Diagnostics.\n\n# Rationale\nPersistent storage reduces eviction risk and makes the app trustworthy for long‑term logs.\n\n# Scope\n- Adapter selection logic (prefer IndexedDB).\n- Call `navigator.storage.persist()` when possible.\n- Store `meta.storageMode` and `meta.persistStatus`.\n\n# Acceptance\n- Diagnostics shows whether persistent storage is granted/denied/unknown.\n- Storage mode is accurate across sessions.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:18:58.960409456Z","created_by":"ubuntu","updated_at":"2026-01-13T02:31:16.520824566Z","closed_at":"2026-01-13T02:31:16.520824566Z","close_reason":"Storage adapter now requests persistent storage on load, records persistStatus in meta, and diagnostics surfaces storage mode/status.","dependencies":[{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:18:58.96162403Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:02.777565759Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.3.2","type":"blocks","created_at":"2026-01-13T00:24:02.852839884Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.3","depends_on_id":"shredmaxxer-8as.1.1","type":"blocks","created_at":"2026-01-13T00:28:48.894177787Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.3.4","title":"Meta initialization (installId, appVersion, storageMode)","description":"# Summary\nInitialize and persist `meta` fields including installId, appVersion, storageMode, and persist status.\n\n# Background\nThe v4 schema includes a Meta section used by diagnostics and exports. v3 lacks this layer.\n\n# Rationale\nA stable installId supports merge dedupe and debugging; appVersion aids support and diagnostics.\n\n# Scope\n- Generate `installId` once per install.\n- Set `appVersion` from a build constant or manual string.\n- Keep `storageMode` and `persistStatus` up to date.\n\n# Acceptance\n- Meta is present in state and included in exports.\n- installId is stable across sessions.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:28:57.074591785Z","created_by":"ubuntu","updated_at":"2026-01-13T01:31:56.205641922Z","closed_at":"2026-01-13T01:31:56.205641922Z","close_reason":"Added meta initialization + persist status in storage adapter","dependencies":[{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.3","type":"parent-child","created_at":"2026-01-13T00:28:57.075993964Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:29:02.983384056Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.3.4","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:29:03.064092525Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4","title":"Migration + Import/Export","description":"# Summary\nBuild v4 migration, import validation/merge, and export formats (JSON, encrypted JSON, CSV), including snapshot safety.\n\n# Background\nv4 introduces ID‑based rosters and a new storage layout; imports must be safe and merge‑aware.\n\n# Intent / Why this exists\nUser data is the product. Migration and import/export must be trustworthy, reversible, and explainable.\n\n# Scope\n- v3 → v4 migration (labels → IDs)\n- Pre‑migration and pre‑import snapshots\n- Merge vs replace behavior with deterministic conflict resolution\n- JSON / Encrypted JSON / CSV exports\n\n# Acceptance\n- Migration preserves all data and avoids duplicate labels.\n- Import validates schema before writing.\n- Merge rules prefer higher `(rev, tsLast)` with optional union logic.\n- Snapshots allow recovery from import mistakes.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:19:04.605628939Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.726687696Z","closed_at":"2026-01-13T03:15:41.726687696Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.4","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:19:04.606905159Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.1","title":"Implement v3 → v4 data migration","description":"# Summary\nConvert v3 logs and rosters (label‑based) into v4 ID‑based structures with stable UUIDs.\n\n# Background\nv3 stores arrays of labels; v4 requires `RosterItem` objects with IDs and metadata.\n\n# Rationale\nStable IDs prevent future renames from breaking history and enable tags/aliases.\n\n# Scope\n- Build label→id map (case‑insensitive).\n- Create missing roster items for any label seen in logs.\n- Convert per‑segment arrays from labels to IDs.\n- Set `rev` and timestamp fields for migrated segments/days.\n\n# Acceptance\n- No data loss during conversion.\n- Logs referencing unknown labels get new roster items.\n- Migration results pass schema validation.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:11.827897278Z","created_by":"ubuntu","updated_at":"2026-01-13T01:56:14.114352699Z","closed_at":"2026-01-13T01:56:14.114352699Z","close_reason":"v3→v4 migration implemented in storage/migrate.js; tests pass","dependencies":[{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:11.829385352Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:02.9256604Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:02.997951996Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.073946586Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.1","depends_on_id":"shredmaxxer-8as.1.6","type":"blocks","created_at":"2026-01-13T00:28:35.449259353Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.2","title":"Snapshot before migration/import","description":"# Summary\nAutomatically create a snapshot before any migration or import operation.\n\n# Background\nMigration and import are the highest‑risk operations for data loss. The spec mandates pre‑migration and pre‑import snapshots.\n\n# Rationale\nSnapshots provide a one‑tap restore path if migration or import produces unexpected results.\n\n# Scope\n- Snapshot format: serialized plain JSON export.\n- Ring buffer retention (e.g., keep last 7).\n- Label snapshots as `Pre‑migration` / `Pre‑import`.\n\n# Acceptance\n- Migration and import both create snapshots before write.\n- Snapshots appear in Diagnostics with timestamps and labels.\n- Restore works without corrupting current state.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:16.520818778Z","created_by":"ubuntu","updated_at":"2026-01-13T01:18:39.521311814Z","closed_at":"2026-01-13T01:18:39.521311814Z","close_reason":"Added pre-import/pre-migration snapshot helpers + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.2","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:16.522010648Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.2","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.15022291Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.3","title":"Import validation + schema checks","description":"# Summary\nValidate imported JSON against v4 schema requirements before any writes occur.\n\n# Background\nImport must be non‑destructive and schema‑aware to prevent corrupt state.\n\n# Rationale\nA strict validator prevents silent failures and ensures downstream features (review, insights) can rely on invariants.\n\n# Scope\n- Validate version, required fields, and type shapes.\n- Provide user‑readable errors for invalid payloads.\n- Allow legacy payloads only via explicit migration path.\n\n# Acceptance\n- Invalid imports never write data.\n- Errors clearly describe what failed.\n- Valid imports proceed to merge/replace flow.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:21.144983484Z","created_by":"ubuntu","updated_at":"2026-01-13T01:05:44.701641978Z","closed_at":"2026-01-13T01:05:44.701641978Z","close_reason":"Added v4 import validator + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.3","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:21.146202307Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.3","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.22384847Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.4","title":"Implement merge semantics for import","description":"# Summary\nMerge imported data into existing state with deterministic conflict resolution at the day/segment level.\n\n# Background\nThe spec requires merge‑by‑default with resolution based on `(rev, tsLast)` and optional union of disjoint selections.\n\n# Rationale\nThis allows combining logs from multiple devices without accidental data loss.\n\n# Scope\n- Per‑day merge by DateKey.\n- Per‑segment resolution: higher `(rev, tsLast)` wins.\n- Optional union of arrays when both sides are touched and disjoint (configurable).\n- Roster merge by ID with optional label dedupe.\n\n# Acceptance\n- Merge results are deterministic.\n- Conflicts are resolved predictably and documented.\n- Import UI clearly communicates merge vs replace.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:25.995943032Z","created_by":"ubuntu","updated_at":"2026-01-13T01:38:12.901533226Z","closed_at":"2026-01-13T01:38:12.901533226Z","close_reason":"storage/merge.js implements rev/tsLast merge with optional union + roster dedupe","dependencies":[{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:25.997405094Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.4.3","type":"blocks","created_at":"2026-01-13T00:24:03.299342937Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.1.6","type":"blocks","created_at":"2026-01-13T00:28:35.526494072Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.4","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:29:09.403285372Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.5","title":"Export plain JSON (v4)","description":"# Summary\nExport the full v4 state as portable JSON with `exportedAt` and `appVersion` metadata.\n\n# Background\nJSON export is the primary portability and backup mechanism.\n\n# Rationale\nA clean export format enables manual backups and cross‑device migration without a backend.\n\n# Scope\n- Serialize `TrackerState` + metadata.\n- Ensure stable DateKey ordering for readability.\n\n# Acceptance\n- Export produces valid JSON that re‑imports successfully.\n- Metadata fields are included and accurate.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:30.138871275Z","created_by":"ubuntu","updated_at":"2026-01-13T01:32:56.974616974Z","closed_at":"2026-01-13T01:32:56.974616974Z","close_reason":"storage/export.js builds JSON export with exportedAt/appVersion and sorted logs","dependencies":[{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:30.140399961Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.372117711Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.3.1","type":"blocks","created_at":"2026-01-13T00:24:03.446970101Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.5","depends_on_id":"shredmaxxer-8as.3.4","type":"blocks","created_at":"2026-01-13T00:29:09.483445923Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.6","title":"Encrypted JSON export (AES‑GCM)","description":"# Summary\nAdd optional encrypted export using WebCrypto AES‑GCM with PBKDF2‑derived keys.\n\n# Background\nThe spec allows privacy hardening for users who want encrypted backups.\n\n# Rationale\nEncrypted export provides stronger privacy without adding servers or external dependencies.\n\n# Scope\n- Derive key from passphrase via PBKDF2 + salt.\n- AES‑GCM encrypt serialized JSON.\n- Export includes algorithm params, salt, iv, ciphertext.\n\n# Acceptance\n- Encrypted export decrypts correctly with the passphrase.\n- Wrong passphrase fails safely.\n- Export format is documented for future compatibility.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:19:36.53305678Z","created_by":"ubuntu","updated_at":"2026-01-13T01:42:07.303846641Z","closed_at":"2026-01-13T01:42:07.303846641Z","close_reason":"Added AES-GCM encrypted export helper + tests","dependencies":[{"issue_id":"shredmaxxer-8as.4.6","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:36.534348058Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.6","depends_on_id":"shredmaxxer-8as.4.5","type":"blocks","created_at":"2026-01-13T00:24:03.52157793Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.7","title":"CSV export for analysis","description":"# Summary\nProvide a CSV export suitable for Sheets analysis, one row per day with computed flags.\n\n# Background\nCSV allows lightweight analysis without custom tooling.\n\n# Rationale\nKeeps power users happy and enables weekly reviews outside the app if desired.\n\n# Scope\n- Columns: date, phase, signals, toggles, issue counts.\n- Per‑segment item labels delimited (e.g., `|`).\n- Include effective flags (collision/high‑fat meal).\n\n# Acceptance\n- CSV opens cleanly in Sheets/Excel.\n- Column order is documented and stable.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:19:40.790572241Z","created_by":"ubuntu","updated_at":"2026-01-13T01:43:46.448395754Z","closed_at":"2026-01-13T01:43:46.448395754Z","close_reason":"Added CSV export helper + tests with effective flags","dependencies":[{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:40.792615788Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.4.5","type":"blocks","created_at":"2026-01-13T00:24:03.59461553Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.7","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:03.66848036Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.4.8","title":"Import UI: validate → merge/replace","description":"# Summary\nUpdate the import UI to validate payloads, show a merge/replace choice, and apply the chosen strategy.\n\n# Background\nv3 import is a direct replacement. v4 requires validation and merge‑by‑default.\n\n# Rationale\nUsers need clarity on whether their existing logs will be overwritten.\n\n# Scope\n- Flow: parse → validate → snapshot → choose Merge/Replace.\n- Default to Merge; require explicit confirmation for Replace.\n- Surface errors and completion status.\n\n# Acceptance\n- Users can import safely without losing existing logs.\n- Replace path is guarded and explicit.\n- Merge path is the default and non‑destructive.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:19:45.48973624Z","created_by":"ubuntu","updated_at":"2026-01-13T01:55:30.581249972Z","closed_at":"2026-01-13T01:55:30.581249972Z","close_reason":"Implemented import UI merge/replace flow with validation + pre-import snapshot","dependencies":[{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4","type":"parent-child","created_at":"2026-01-13T00:19:45.491061497Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.3","type":"blocks","created_at":"2026-01-13T00:24:03.74625074Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.4","type":"blocks","created_at":"2026-01-13T00:24:03.818699611Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.4.2","type":"blocks","created_at":"2026-01-13T00:24:03.890997209Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.4.8","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:48.973501258Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5","title":"Roster System (IDs, Tags, Recents, Search)","description":"# Summary\nImplement the v4 roster system with stable IDs, metadata, and fast selection UX (pinned, recents, search).\n\n# Background\nv3 rosters are plain strings. v4 requires stable IDs, tags for heuristics, aliases for search, and visibility controls.\n\n# Intent / Why this exists\nA robust roster system enables computed flags, collision heuristics, and effortless logging without scrolling.\n\n# Scope\n- RosterItem model: id, label, aliases, tags, pinned, archived, timestamps.\n- Recents and pinned UX in segment sheets.\n- Search/typeahead and inline item creation.\n\n# Acceptance\n- Roster items have stable IDs and metadata.\n- UI surfaces pinned + recents without performance lag.\n- Tags power conservative collision/high‑fat heuristics.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:19:51.047058548Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.751922179Z","closed_at":"2026-01-13T03:15:41.751922179Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.5","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:19:51.048310428Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.1","title":"RosterItem model + ID generation","description":"# Summary\nRepresent roster items as objects with stable IDs and metadata fields.\n\n# Background\nv4 rosters require `id`, `label`, `aliases`, `tags`, `pinned`, `archived`, and timestamps.\n\n# Rationale\nIDs decouple display labels from history, enabling rename without data loss.\n\n# Scope\n- ID generation (UUID).\n- Timestamp management (`tsCreated`, `tsUpdated`).\n- Utilities to normalize labels and ensure uniqueness.\n\n# Acceptance\n- Every roster item has a stable ID.\n- Renaming updates `label` without breaking historical logs.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:19:56.292160023Z","created_by":"ubuntu","updated_at":"2026-01-13T01:00:48.48201103Z","closed_at":"2026-01-13T01:00:48.48201103Z","close_reason":"Implemented roster ID utilities","dependencies":[{"issue_id":"shredmaxxer-8as.5.1","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:19:56.293404428Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:03.96534657Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.2","title":"Ship sensible default tags for rosters","description":"# Summary\nAssign initial tag sets to default roster items (e.g., carb:starch vs carb:fruit, fat:dense).\n\n# Background\nHeuristics for collision and high‑fat meals depend on tags; sensible defaults reduce manual setup.\n\n# Rationale\nUsers should get useful computed flags out of the box.\n\n# Scope\n- Tag default items in base rosters.\n- Keep tags minimal and conservative (avoid over‑flagging).\n\n# Acceptance\n- Default roster items have tags aligned to spec conventions.\n- Users can edit tags later without breaking heuristics.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:01.096669191Z","created_by":"ubuntu","updated_at":"2026-01-13T01:07:11.315847163Z","closed_at":"2026-01-13T01:07:11.315847163Z","close_reason":"Added default roster templates with conservative tags","dependencies":[{"issue_id":"shredmaxxer-8as.5.2","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:01.097961873Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.2","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.041511331Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.3","title":"Roster management UI (tags, aliases, archive)","description":"# Summary\nExpand the settings roster editor to support tags, aliases, pinned, and archived states.\n\n# Background\nv4 requires richer roster metadata for heuristics and search. The UI must expose this without adding friction.\n\n# Rationale\nUsers need a way to tune tags/aliases and manage visibility while preserving history.\n\n# Scope\n- Edit label, tags, aliases.\n- Toggle pinned and archived.\n- Maintain stable IDs and timestamps.\n\n# Acceptance\n- All metadata fields are editable in Settings.\n- Archiving hides items from selection but preserves history.\n- No data loss when editing labels/tags.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:06.167425768Z","created_by":"ubuntu","updated_at":"2026-01-13T02:16:16.971943013Z","closed_at":"2026-01-13T02:16:16.971943013Z","close_reason":"Roster editor now supports label/tags/aliases + pin/archive","dependencies":[{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:06.168628981Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.116058909Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.3","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.191991684Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.4","title":"Pinned item interactions (long‑press/context)","description":"# Summary\nAllow users to pin/unpin roster items directly from the segment sheet (long‑press or context menu).\n\n# Background\nPinned items should be fastest to access; the spec suggests long‑press or context toggles.\n\n# Rationale\nPinning should be frictionless and not require navigating to Settings.\n\n# Scope\n- Long‑press or context action on chip.\n- Visual feedback for pinned state.\n- Update roster metadata + timestamps.\n\n# Acceptance\n- Pinned items appear in the pinned row immediately.\n- Pinning persists across sessions.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:11.073251654Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:44.894756111Z","closed_at":"2026-01-13T03:05:44.894756111Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.5.4","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:11.074521038Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.4","depends_on_id":"shredmaxxer-8as.5.3","type":"blocks","created_at":"2026-01-13T00:24:04.268610004Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.5","title":"Recents computation + caching","description":"# Summary\nCompute recent items per category from the last N uses and surface them in segment sheets.\n\n# Background\nFast logging depends on recents to reduce scanning time.\n\n# Rationale\nRecents reduce friction and reinforce consistent habits without forcing pinning.\n\n# Scope\n- Track recent selections by category (per segment or global).\n- Store recents in derived state (not necessarily persisted).\n- Limit to a small row (e.g., 6–8 items).\n\n# Acceptance\n- Recents update immediately after logging.\n- Recents are stable and deterministic across sessions when derived from logs.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:15.643175051Z","created_by":"ubuntu","updated_at":"2026-01-13T01:17:50.434909238Z","closed_at":"2026-01-13T01:17:50.434909238Z","close_reason":"Added recents computation helpers + tests","dependencies":[{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:15.644519146Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.343679308Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.5","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:04.418320024Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.5.6","title":"Search/typeahead + inline add","description":"# Summary\nAdd search/typeahead for roster items in segment sheets, with inline “Add item” when no match.\n\n# Background\nRoster sizes grow over time; scanning a long list slows logging.\n\n# Rationale\nSearch keeps the 10‑second logging rule viable for larger rosters.\n\n# Scope\n- Fast client‑side search across label + aliases.\n- Inline add flow that creates a new roster item.\n- Respect archived items (hidden unless manage mode).\n\n# Acceptance\n- Typing filters items instantly.\n- New items can be created from the search UI.\n- Search includes aliases.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:20.519111828Z","created_by":"ubuntu","updated_at":"2026-01-13T02:15:21.612634351Z","closed_at":"2026-01-13T02:15:21.612634351Z","close_reason":"Search inputs + inline add implemented in sheet","dependencies":[{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.5","type":"parent-child","created_at":"2026-01-13T00:20:20.520356173Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:04.490560597Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.5.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.565368277Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6","title":"Segment Logging UX + Computed Flags","description":"# Summary\nDeliver the v4 logging flow: segment status, computed/override flags, undo/repeat, and fast one‑hand ergonomics.\n\n# Background\nThe core value of Solar Log is frictionless logging. v4 adds computed flags (collision/high‑fat) and speed features (recents, undo).\n\n# Intent / Why this exists\nThis epic ensures the day‑to‑day ritual is fast, safe, and explainable, while preserving the minimalist vibe.\n\n# Scope\n- Segment status (unlogged/none/logged)\n- Collision/high‑fat meal computed with override tri‑state\n- Seed‑oil hints from tags\n- Undo and repeat last segment\n- Copy yesterday functionality\n\n# Acceptance\n- Logging feels fast and safe (undo available).\n- Computed flags are explainable and conservative.\n- Segment sheets show pinned + recents + search.\n","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-13T00:20:26.100681695Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:41.776591057Z","closed_at":"2026-01-13T03:15:41.776591057Z","close_reason":"All child tasks closed.","dependencies":[{"issue_id":"shredmaxxer-8as.6","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:20:26.101885138Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.1","title":"Segment status (unlogged/none/logged)","description":"# Summary\nAdd explicit segment status tracking and UI controls for “none” (no food) vs “unlogged.”\n\n# Background\nv4 distinguishes between no food and not logged; this improves interpretability and review accuracy.\n\n# Rationale\nWithout explicit status, empty segments are ambiguous and can be misread in insights.\n\n# Scope\n- Add `status` field to SegmentLog.\n- UI controls to set status to Unlogged/None/Logged.\n- Clearing selections should set status appropriately.\n\n# Acceptance\n- Users can mark “None” explicitly.\n- Status survives reloads and exports.\n- Review metrics use status to interpret missing data.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:31.937302635Z","created_by":"ubuntu","updated_at":"2026-01-13T02:18:15.210728594Z","closed_at":"2026-01-13T02:18:15.210728594Z","close_reason":"Status UI class hints + coverage metrics helper","dependencies":[{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:31.938585587Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:04.63973874Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.1","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:04.71440715Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.2","title":"Computed collision + high‑fat meal (tri‑state override)","description":"# Summary\nImplement computed collision and high‑fat meal logic with Auto/Yes/No overrides.\n\n# Background\nv4 defines a conservative collision rule (fat:dense + carb:starch) and optional high‑fat meal auto detection.\n\n# Rationale\nComputed flags reduce manual work while preserving user control when heuristics are wrong.\n\n# Scope\n- Tri‑state fields (`auto|yes|no`) with defaults.\n- Effective value resolution (override wins; else compute).\n- UI toggles to switch between Auto/Yes/No.\n\n# Acceptance\n- Auto computation is conservative (no fruit+fat collision).\n- Overrides are respected and visible.\n- Effective flags are used in history/review summaries.\n","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T00:20:38.101867694Z","created_by":"ubuntu","updated_at":"2026-01-13T01:24:38.992518157Z","closed_at":"2026-01-13T01:24:38.992518157Z","close_reason":"Implemented tri-state collision/high-fat auto logic + UI toggles + effective flags","dependencies":[{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:38.103135145Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:04.789425223Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.2","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:04.864230688Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.3","title":"Seed‑oil hinting from tags","description":"# Summary\nProvide a non‑blocking hint when selected fats carry `fat:seed_oil` or `fat:unknown` tags.\n\n# Background\nSeed‑oil exposure is manual but can be hinted by tags to reduce oversight.\n\n# Rationale\nHints support compliance without forcing auto‑flags.\n\n# Scope\n- Detect tags in selected fats.\n- Surface a subtle hint near the seed‑oil control.\n- Do not automatically set the flag.\n\n# Acceptance\n- Hints appear only when relevant tags are present.\n- User choice remains manual.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:20:43.872042127Z","created_by":"ubuntu","updated_at":"2026-01-13T02:16:01.704102849Z","closed_at":"2026-01-13T02:16:01.704102849Z","close_reason":"Seed-oil hint already implemented via effectiveSegmentFlags + flagHelp warning","dependencies":[{"issue_id":"shredmaxxer-8as.6.3","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:43.873419999Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.3","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:04.939977902Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.4","title":"Undo last action stack","description":"# Summary\nImplement a lightweight undo stack for the most recent logging action (chip toggle, flag change, notes edit).\n\n# Background\nThe spec emphasizes speed and safety; undo reduces fear of mistakes.\n\n# Rationale\nFast logging requires a safety net to encourage taps without hesitation.\n\n# Scope\n- Track the last action and its inverse.\n- Provide a snackbar or toast for immediate undo.\n- Limit to a short history (1–5 actions) to keep memory low.\n\n# Acceptance\n- Users can undo the last action reliably.\n- Undo does not corrupt revisions or timestamps.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:48.352559613Z","created_by":"ubuntu","updated_at":"2026-01-13T02:23:24.574893639Z","closed_at":"2026-01-13T02:23:24.574893639Z","close_reason":"Added undo toast and snapshot restore for last action","dependencies":[{"issue_id":"shredmaxxer-8as.6.4","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:48.353930362Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.4","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.013752731Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.5","title":"Repeat last segment (long‑press copy)","description":"# Summary\nAllow long‑press on a segment to copy the most recent logged segment into it.\n\n# Background\nRepeated meals are common; copying reduces taps.\n\n# Rationale\nThis supports the ≤10s logging rule and encourages consistent logging.\n\n# Scope\n- Identify the most recent logged segment in history.\n- Copy selections + flags + notes into the target segment.\n- Confirm action via subtle toast.\n\n# Acceptance\n- Long‑press duplicates the last logged segment reliably.\n- Copied data respects current roster IDs.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:20:55.555646413Z","created_by":"ubuntu","updated_at":"2026-01-13T02:29:24.132615216Z","closed_at":"2026-01-13T02:29:24.132615216Z","close_reason":"Added long-press repeat on timeline segments to copy last logged segment with undo toast.","dependencies":[{"issue_id":"shredmaxxer-8as.6.5","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:20:55.55742569Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.5","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.091450876Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.6","title":"Copy yesterday (segment or whole day)","description":"# Summary\nAdd an overflow action to copy yesterday’s logs into the current day (entire day or selected segments).\n\n# Background\nThe spec calls for copy‑yesterday to reduce daily friction.\n\n# Rationale\nThis supports habitual patterns and fast logging, especially for consistent routines.\n\n# Scope\n- UI action in Today view overflow.\n- Option to copy all segments or selected segments.\n- Confirm before overwriting existing data.\n\n# Acceptance\n- Copy action is explicit and reversible (via undo or confirmation).\n- Copy respects current roster IDs and flags.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:01.059174799Z","created_by":"ubuntu","updated_at":"2026-01-13T02:44:34.892883076Z","closed_at":"2026-01-13T02:44:34.892883076Z","close_reason":"Copy yesterday UI already implemented (segment/all)","dependencies":[{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:21:01.06051192Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:05.167005452Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.6","depends_on_id":"shredmaxxer-8as.2.3","type":"blocks","created_at":"2026-01-13T00:24:05.242317424Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.6.7","title":"History list uses effective flags (× ⚠ ◎)","description":"# Summary\nUpdate History list badges to use effective collision/seed‑oil/high‑fat meal flags across segments.\n\n# Background\nv4 introduces computed high‑fat meal and collision auto rules; History should reflect the effective values, not raw overrides.\n\n# Rationale\nHistory is a summary surface; it should show the same “truth” as Review.\n\n# Scope\n- Compute effective flags per segment.\n- Show ×, ⚠, ◎ icons if any segment triggers them.\n\n# Acceptance\n- History icons match effective per‑segment flags.\n- Icons update immediately when logs change.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:55.914429801Z","created_by":"ubuntu","updated_at":"2026-01-13T01:23:59.018390583Z","closed_at":"2026-01-13T01:23:59.018390583Z","close_reason":"History uses effective collision/seed-oil/high-fat flags with ◎ icon","dependencies":[{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.6","type":"parent-child","created_at":"2026-01-13T00:27:55.915724768Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:28:35.603412246Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.6.7","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:28:35.681953695Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7","title":"Weekly Review + Insights","description":"# Summary\nImplement Weekly Review 2.0 outputs, coverage matrix, rotation picks, and the explainable insights rules engine.\n\n# Background\nv4 treats review as a behavior loop rather than a static history. Insights must be explainable and local‑only.\n\n# Intent / Why this exists\nReview is how users adapt the protocol; it should surface actionable variety gaps and avoid overclaiming correlations.\n\n# Scope\n- Weekly counts (P/C/F/μ) and FTN frequency\n- Coverage matrix (days × categories)\n- Rotation picks via LRU\n- Simple correlations with sample size\n- Rules engine with reasons\n\n# Acceptance\n- Review surfaces gaps and suggestions without guilt.\n- Correlations are labeled as observations, not conclusions.\n- Insights include explicit reasons and are dismissible.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:21:06.704600474Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:21.57210136Z","closed_at":"2026-01-13T03:05:21.57210136Z","close_reason":"All Review/Insights child tasks closed (weekly summary, matrix, rotation picks, correlations, insights engine + UI, Today nudge)","dependencies":[{"issue_id":"shredmaxxer-8as.7","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:21:06.706013427Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.1","title":"Weekly aggregates + FTN summary","description":"# Summary\nCompute weekly unique counts for P/C/F/μ and summarize FTN mode frequency.\n\n# Background\nThese summaries provide the baseline signal for variety and adherence.\n\n# Rationale\nThey ground the review in concrete counts, without complex analytics.\n\n# Scope\n- Aggregators over DateKey ranges.\n- Phase‑aware targets (display only).\n\n# Acceptance\n- Counts are unique (set‑based) and accurate.\n- FTN mode summary reflects segment logs.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:12.989396822Z","created_by":"ubuntu","updated_at":"2026-01-13T01:27:20.365090582Z","closed_at":"2026-01-13T01:27:20.365090582Z","close_reason":"Added weekly aggregators + FTN summary helpers with tests","dependencies":[{"issue_id":"shredmaxxer-8as.7.1","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:12.99087741Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.1","depends_on_id":"shredmaxxer-8as.1.3","type":"blocks","created_at":"2026-01-13T00:24:05.315988514Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.2","title":"Coverage matrix (days × categories)","description":"# Summary\nBuild the coverage matrix view showing day‑by‑day presence/counts for P/C/F/μ and flags.\n\n# Background\nThe matrix visualizes consistency and gaps at a glance.\n\n# Rationale\nA compact matrix reinforces the ritual and highlights missing variety without heavy analytics.\n\n# Scope\n- Matrix data model (rows=days, cols=categories + flags).\n- UI table/grid with tap‑to‑drill.\n\n# Acceptance\n- Matrix matches underlying logs.\n- Tapping a cell drills into the correct day/segment.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:17.297556152Z","created_by":"ubuntu","updated_at":"2026-01-13T02:22:43.843526854Z","closed_at":"2026-01-13T02:22:43.843526854Z","close_reason":"Coverage matrix already implemented; added weekly summary matrix helper","dependencies":[{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:17.298868363Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.391540897Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:05.470131291Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.3","title":"Rotation picks via LRU","description":"# Summary\nSuggest least‑recently‑used items per category to increase variety.\n\n# Background\nThe spec calls for rotation picks as a gentle nudge toward diversity.\n\n# Rationale\nLRU picks are easy to compute and explain.\n\n# Scope\n- Compute LRU per category over last N days.\n- Return 1–2 suggestions per category.\n\n# Acceptance\n- Suggestions are deterministic and based on recent logs.\n- UI explains why the pick was suggested (least‑recently‑used).\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:22.065301919Z","created_by":"ubuntu","updated_at":"2026-01-13T02:18:01.381159386Z","closed_at":"2026-01-13T02:18:01.381159386Z","close_reason":"LRU rotation picks helper + tests","dependencies":[{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:22.067004121Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.561732249Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.3","depends_on_id":"shredmaxxer-8as.5.1","type":"blocks","created_at":"2026-01-13T00:24:05.641650907Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.4","title":"Simple correlations with sample sizes","description":"# Summary\nCompute lightweight comparisons (e.g., cravings on collision vs non‑collision days) with sample sizes.\n\n# Background\nv4 calls for small, local‑only correlations without overclaiming.\n\n# Rationale\nObservational summaries can highlight patterns while avoiding pseudo‑science.\n\n# Scope\n- Compare averages across two conditions.\n- Always report sample size and timeframe.\n- Present as “observed in last X days.”\n\n# Acceptance\n- Correlation output is conservative and labeled as observational.\n- UI never implies causation.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:26.794733573Z","created_by":"ubuntu","updated_at":"2026-01-13T02:42:42.180297607Z","closed_at":"2026-01-13T02:42:42.180297607Z","close_reason":"Correlations implemented in domain/correlations.js and rendered in Review (reviewCorrelations) with counts + totals.","dependencies":[{"issue_id":"shredmaxxer-8as.7.4","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:26.796046956Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.4","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:05.714969991Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.5","title":"Explainable insights rules engine","description":"# Summary\nImplement a local rules engine that emits insights with explicit reasons and dismissible UI.\n\n# Background\nv4 forbids AI dependence and requires explainable, on‑device insights.\n\n# Rationale\nUsers need clear, non‑nagging nudges tied to concrete selections or flags.\n\n# Scope\n- Rule evaluation over recent logs and tags.\n- Each insight includes a reason string.\n- Dismissibility per day/week.\n\n# Acceptance\n- Insights cite the triggering condition (e.g., “training logged + no carb:starch at lunch”).\n- Users can dismiss without disabling logging.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:21:32.187316991Z","created_by":"ubuntu","updated_at":"2026-01-13T02:40:38.578410547Z","closed_at":"2026-01-13T02:40:38.578410547Z","close_reason":"Implemented insights rules engine + dismissal state/persistence; UI hookup via Review tab still pending","dependencies":[{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:32.188604022Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:24:05.790327985Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.5","depends_on_id":"shredmaxxer-8as.5.2","type":"blocks","created_at":"2026-01-13T00:24:05.866307524Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.6","title":"Review tab UI integration","description":"# Summary\nAdd the Review tab layout and wire it to weekly aggregates, matrix, rotation picks, and insights.\n\n# Background\nv3 has Today/History/Settings; v4 adds Review as a core loop.\n\n# Rationale\nReview is how users interpret their week; it must feel cohesive and calm.\n\n# Scope\n- New Review tab scaffold.\n- Sections for counts, matrix, picks, correlations, insights.\n- Drill‑down navigation to History/Today details.\n\n# Acceptance\n- Review renders with live data.\n- Navigation from Review to specific day/segment works.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:36.751272101Z","created_by":"ubuntu","updated_at":"2026-01-13T02:50:47.009808014Z","closed_at":"2026-01-13T02:50:47.009808014Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:21:36.752685043Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:24:05.94207129Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.2","type":"blocks","created_at":"2026-01-13T00:24:06.016474911Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.3","type":"blocks","created_at":"2026-01-13T00:24:06.090775002Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.4","type":"blocks","created_at":"2026-01-13T00:24:06.165054183Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.5","type":"blocks","created_at":"2026-01-13T00:24:06.255609634Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.334911735Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.6","depends_on_id":"shredmaxxer-8as.7.7","type":"blocks","created_at":"2026-01-13T00:28:49.135884088Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.7","title":"Week start configuration for Review","description":"# Summary\nAllow users to choose the week start day used by Weekly Review calculations.\n\n# Background\nThe spec calls for configurable week start; different users interpret “week” differently.\n\n# Rationale\nRespecting user preference makes review metrics feel accurate and personal.\n\n# Scope\n- Settings control for week start (e.g., Mon/Sun).\n- Review aggregators use this setting.\n\n# Acceptance\n- Weekly Review reflects the selected week start.\n- Changing week start updates review ranges immediately.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:27:34.541296373Z","created_by":"ubuntu","updated_at":"2026-01-13T02:34:31.951667352Z","closed_at":"2026-01-13T02:34:31.951667352Z","close_reason":"Week start select added to Settings + wired","dependencies":[{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:27:34.542590468Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.1.5","type":"blocks","created_at":"2026-01-13T00:28:35.759724409Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.7","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:28:35.83761872Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.8","title":"Issue frequency summary (collision, seed‑oil, high‑fat)","description":"# Summary\nSummarize issue frequency in the Weekly Review (collision days, seed‑oil days, high‑fat meal/day markers).\n\n# Background\nThe spec explicitly calls out collision/seed‑oil frequency and high‑fat patterns as review outputs.\n\n# Rationale\nThese counts provide direct feedback on adherence without complex analytics.\n\n# Scope\n- Count days with any collision.\n- Count days with seed‑oil exposure.\n- Count days with high‑fat meals and/or high‑fat day toggle.\n\n# Acceptance\n- Counts align with effective flag computation.\n- Review UI clearly labels these as frequencies, not judgments.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:27:50.163759399Z","created_by":"ubuntu","updated_at":"2026-01-13T02:39:48.431624798Z","closed_at":"2026-01-13T02:39:48.431624798Z","close_reason":"Issue frequency summary already computed in domain/weekly.js and rendered in Review UI (reviewIssues chips).","dependencies":[{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:27:50.165325989Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.6.2","type":"blocks","created_at":"2026-01-13T00:28:35.915126978Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.8","depends_on_id":"shredmaxxer-8as.7.1","type":"blocks","created_at":"2026-01-13T00:28:35.992928904Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.7.9","title":"Optional Today nudge card (insights surfacing)","description":"# Summary\nOptionally surface one insight on the Today screen as a gentle nudge card.\n\n# Background\nThe spec allows insights primarily in Review, with an optional Today nudge.\n\n# Rationale\nA light nudge can reinforce protocol without turning the app into a nag.\n\n# Scope\n- Settings toggle to enable Today nudges.\n- Show at most one insight with clear reason.\n\n# Acceptance\n- Nudge is off by default.\n- Display is subtle and dismissible.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:29:20.546061869Z","created_by":"ubuntu","updated_at":"2026-01-13T03:06:52.728275285Z","closed_at":"2026-01-13T03:06:52.728275285Z","close_reason":"Today nudge card + settings toggle already wired with dismiss + single insight","dependencies":[{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.7","type":"parent-child","created_at":"2026-01-13T00:29:20.547349821Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.7.5","type":"blocks","created_at":"2026-01-13T00:29:25.621688952Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.7.9","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:29:25.699609456Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8","title":"PWA Reliability + Diagnostics","description":"# Summary\nHarden the PWA app‑shell, update flow, and diagnostics panel for v4 reliability.\n\n# Background\nThe spec requires versioned precache, explicit update UX, and diagnostics for storage/snapshots.\n\n# Intent / Why this exists\nOffline reliability and trust depend on clear update behavior and visibility into storage health.\n\n# Scope\n- Versioned app‑shell precache\n- Update available UX (skipWaiting)\n- Diagnostics panel with storage mode, persist status, version, snapshots\n- Offline font assets (WOFF2) with preload\n\n# Acceptance\n- Updates are visible and user‑controlled.\n- Offline load is reliable.\n- Diagnostics surfaces critical system status.\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T00:21:41.615345709Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:39.3627206Z","closed_at":"2026-01-13T03:05:39.3627206Z","close_reason":"All PWA reliability subtasks closed (precache, update UX, diagnostics, offline fonts, runtime caching)","dependencies":[{"issue_id":"shredmaxxer-8as.8","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:21:41.616599824Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.1","title":"Versioned app‑shell precache","description":"# Summary\nVersion the service worker cache and precache the app shell for reliable offline use.\n\n# Background\nv3 uses a static cache name; v4 requires explicit versioning to manage updates safely.\n\n# Rationale\nVersioned caches prevent stale assets and allow predictable updates.\n\n# Scope\n- Define cache version in SW.\n- Precache HTML/CSS/JS/fonts/icons.\n- Clean up old caches on activate.\n\n# Acceptance\n- New releases update the cache predictably.\n- Offline loads are stable.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:47.711989502Z","created_by":"ubuntu","updated_at":"2026-01-13T01:34:14.673656407Z","closed_at":"2026-01-13T01:34:14.673656407Z","close_reason":"Versioned SW cache + precache full app shell + old cache cleanup","dependencies":[{"issue_id":"shredmaxxer-8as.8.1","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:47.713288316Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.2","title":"Update available UX (skipWaiting)","description":"# Summary\nDetect new service worker versions and present an “Update available” prompt that triggers `skipWaiting` and reload.\n\n# Background\nThe spec forbids silent updates that could break offline use.\n\n# Rationale\nA user‑visible update flow prevents data loss and preserves trust.\n\n# Scope\n- SW message channel to notify clients.\n- UI toast/button to apply update.\n- Controlled reload flow.\n\n# Acceptance\n- Users see an update prompt when a new SW is ready.\n- Update applies only on user action.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:52.004837388Z","created_by":"ubuntu","updated_at":"2026-01-13T01:40:13.161355953Z","closed_at":"2026-01-13T01:40:13.161355953Z","close_reason":"Added update toast + SW skipWaiting message flow","dependencies":[{"issue_id":"shredmaxxer-8as.8.2","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:52.006088658Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.2","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:24:06.410514589Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.3","title":"Diagnostics panel (storage, version, snapshots)","description":"# Summary\nAdd a Diagnostics panel in Settings to surface storage mode, persist status, schema/app version, and snapshot controls.\n\n# Background\nThe spec calls for explicit diagnostics to build trust and support recovery.\n\n# Rationale\nUsers need to see if data is durable and have tools to recover from imports.\n\n# Scope\n- Display storage adapter mode (idb vs localStorage).\n- Show persist status + schema/app version.\n- List snapshots with restore/delete (if allowed).\n- “Create snapshot now” action.\n\n# Acceptance\n- Diagnostics shows accurate runtime status.\n- Snapshot management is functional and safe.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T00:21:56.60423147Z","created_by":"ubuntu","updated_at":"2026-01-13T02:38:59.930382593Z","closed_at":"2026-01-13T02:38:59.930382593Z","close_reason":"Diagnostics panel + snapshot controls already wired","dependencies":[{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:21:56.605484964Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.3.3","type":"blocks","created_at":"2026-01-13T00:24:06.48664927Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.4.2","type":"blocks","created_at":"2026-01-13T00:24:06.57840118Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.3","depends_on_id":"shredmaxxer-8as.3.4","type":"blocks","created_at":"2026-01-13T00:29:15.261102568Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.4","title":"Offline fonts bundle + preload","description":"# Summary\nBundle two WOFF2 fonts (display serif + body) and preload/cache them as part of the app shell.\n\n# Background\nThe spec requires offline fonts for consistent aesthetic and offline resilience.\n\n# Rationale\nBundled fonts ensure the “solar ritual” look survives offline and avoids FOIT/FOUT.\n\n# Scope\n- Add fonts to `assets/fonts/`.\n- Preload in HTML and precache in SW.\n- Update CSS font stacks to use bundled fonts.\n\n# Acceptance\n- App renders with intended fonts offline.\n- No layout shift from missing fonts.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:22:01.434983838Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:28.690360184Z","closed_at":"2026-01-13T03:04:28.690360184Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.8.4","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:22:01.436281519Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.4","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:24:06.653573591Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.8.5","title":"Runtime caching policy for optional assets","description":"# Summary\nDefine a conservative runtime caching strategy for non‑shell assets (e.g., images) without risking stale app logic.\n\n# Background\nThe spec allows runtime caching for optional assets while keeping the app shell versioned.\n\n# Rationale\nThis improves offline resilience without the risk of serving stale JS/CSS.\n\n# Scope\n- Cache‑first for static media assets only.\n- Network‑first for navigation requests with offline fallback to app shell.\n\n# Acceptance\n- Core JS/CSS are never served stale via runtime cache.\n- Optional assets load offline when previously fetched.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T00:28:11.597191439Z","created_by":"ubuntu","updated_at":"2026-01-13T03:04:32.264977916Z","closed_at":"2026-01-13T03:04:32.264977916Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.8.5","depends_on_id":"shredmaxxer-8as.8","type":"parent-child","created_at":"2026-01-13T00:28:11.598656245Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.8.5","depends_on_id":"shredmaxxer-8as.8.1","type":"blocks","created_at":"2026-01-13T00:28:36.07075105Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9","title":"Privacy Hardening (Optional)","description":"# Summary\nImplement optional privacy features: app lock, privacy blur, and home redaction.\n\n# Background\nv4 keeps local‑first by default but offers optional hardening.\n\n# Intent / Why this exists\nFor users with higher privacy needs, these options provide additional protection without forcing friction on everyone.\n\n# Scope\n- App lock (simple passcode)\n- Privacy blur on background/task switch\n- Home redaction (counts‑only)\n\n# Acceptance\n- Features are off by default.\n- Enabling/disabling is immediate and reversible.\n- No data leaves the device.\n","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-13T00:22:06.07667141Z","created_by":"ubuntu","updated_at":"2026-01-13T03:15:19.995254799Z","closed_at":"2026-01-13T03:15:19.995254799Z","close_reason":"All privacy hardening tasks closed (app lock, blur, redaction, encrypted export toggle).","dependencies":[{"issue_id":"shredmaxxer-8as.9","depends_on_id":"shredmaxxer-8as","type":"parent-child","created_at":"2026-01-13T00:22:06.078015316Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.1","title":"App lock passcode","description":"# Summary\nAdd a simple local passcode lock with a lock/unlock screen.\n\n# Background\nSome users want a privacy barrier even on local‑only data.\n\n# Rationale\nPasscode lock protects against casual access without introducing account systems.\n\n# Scope\n- Store passcode hash locally.\n- Lock screen on app open when enabled.\n- Allow disable/change in Settings.\n\n# Acceptance\n- Lock is off by default.\n- Incorrect passcode blocks access.\n- Passcode data never leaves device.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:11.078637925Z","created_by":"ubuntu","updated_at":"2026-01-13T03:42:26.228008617Z","closed_at":"2026-01-13T03:42:26.228008617Z","close_reason":"App lock passcode with local hash storage + lock overlay","dependencies":[{"issue_id":"shredmaxxer-8as.9.1","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:11.079875005Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.1","depends_on_id":"shredmaxxer-8as.1.2","type":"blocks","created_at":"2026-01-13T00:24:06.733051283Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.2","title":"Privacy blur on background","description":"# Summary\nBlur or obscure the UI when the app is backgrounded or task‑switched.\n\n# Background\nPrivacy blur prevents shoulder‑surfing in app switcher thumbnails.\n\n# Rationale\nLightweight privacy gain without persistent friction.\n\n# Scope\n- Listen to `visibilitychange` and apply blur overlay.\n- Remove blur on foreground.\n\n# Acceptance\n- Blur activates when app is backgrounded.\n- Blur is disabled when privacy mode is off.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:15.120191534Z","created_by":"ubuntu","updated_at":"2026-01-13T03:05:50.514023324Z","closed_at":"2026-01-13T03:05:50.514023324Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.2","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:15.121398093Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.2","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.810732936Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.3","title":"Home redaction (counts‑only)","description":"# Summary\nAllow the Home view to hide labels and notes, showing counts‑only when enabled.\n\n# Background\nSome users want privacy when the app is open in public spaces.\n\n# Rationale\nRedaction provides privacy without disabling logging.\n\n# Scope\n- Settings toggle for redaction.\n- Hide labels/notes on Today view while still showing counts.\n\n# Acceptance\n- Redaction can be toggled instantly.\n- Logging still works normally in redacted mode.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:19.541617397Z","created_by":"ubuntu","updated_at":"2026-01-13T03:07:11.215632222Z","closed_at":"2026-01-13T03:07:11.215632222Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.3","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:19.543179279Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.3","depends_on_id":"shredmaxxer-8as.1.4","type":"blocks","created_at":"2026-01-13T00:24:06.889512338Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8as.9.4","title":"Encrypted export default toggle","description":"# Summary\nAdd a Settings toggle to make encrypted export the default export format.\n\n# Background\nv4 privacy settings include `exportEncryptedByDefault`.\n\n# Rationale\nSome users always want encrypted backups; this reduces friction.\n\n# Scope\n- Toggle in Privacy settings.\n- Export button respects default choice.\n\n# Acceptance\n- Default export option persists across sessions.\n- Users can still choose plain JSON explicitly.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T00:22:24.376148752Z","created_by":"ubuntu","updated_at":"2026-01-13T03:10:21.822563738Z","closed_at":"2026-01-13T03:10:21.822563738Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-8as.9.4","depends_on_id":"shredmaxxer-8as.9","type":"parent-child","created_at":"2026-01-13T00:22:24.377366043Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-8as.9.4","depends_on_id":"shredmaxxer-8as.4.6","type":"blocks","created_at":"2026-01-13T00:24:06.96863021Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-8th","title":"Allow highFatDay Tri in import validation","description":"Spec vNext updates DayLog.highFatDay to Tri (\"\", auto/yes/no). storage/validate.js still enforces boolean and rejects imports that include tri. Update validation to accept tri (and keep boolean for legacy), add a regression test, and ensure import flow remains backward compatible.","notes":"Validation now accepts highFatDay tri (auto/yes/no/empty) and test covers tri payload.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-14T02:58:15.986103695Z","created_by":"ubuntu","updated_at":"2026-01-14T02:58:49.623641578Z","closed_at":"2026-01-14T02:58:49.623646717Z"}
{"id":"shredmaxxer-94s","title":"Fix app lock overlay ReferenceError","description":"# Summary\\nFix app-lock overlay render path throwing ReferenceError due to missing applyAppLock() in ui/legacy.js.\\n\\n# Acceptance\\n- renderAll() no longer throws.\\n- App lock overlay still refreshes correctly.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T03:54:07.838558245Z","created_by":"ubuntu","updated_at":"2026-01-13T03:58:18.020524721Z","closed_at":"2026-01-13T03:58:18.020524721Z","close_reason":"Guard app lock when WebCrypto unavailable; add applyAppLock to avoid ReferenceError."}
{"id":"shredmaxxer-96v","title":"Review correlations (cravings/energy vs flags)","description":"Add simple local-only correlation summaries in Review (avg cravings vs collision/seed-oil days, avg energy vs FTN strict/off).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:30:38.208720193Z","created_by":"ubuntu","updated_at":"2026-01-13T02:32:21.353096429Z","closed_at":"2026-01-13T02:32:21.353096429Z","close_reason":"Added Review correlations domain + UI"}
{"id":"shredmaxxer-97q","title":"Guard localStorage reads in loadState","description":"# Summary\nAvoid unhandled errors when localStorage is unavailable during boot.\n\n# Problem\nloadState reads localStorage directly; in blocked/private contexts this can throw and prevent fallback to defaults.\n\n# Fix\nUse a safeLocalStorageGet helper for all legacy/localStorage reads.\n\n# Acceptance\n- Boot proceeds even if localStorage access throws.\n- Default state is used when no adapter state is available.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T04:49:22.670819186Z","created_by":"ubuntu","updated_at":"2026-01-13T04:49:25.930781768Z","closed_at":"2026-01-13T04:49:25.930781768Z","close_reason":"Wrap localStorage reads with safeLocalStorageGet"}
{"id":"shredmaxxer-9k9","title":"Cycle highFatDay tri toggle back to auto","description":"toggleBoolField currently flips tri strings between yes/no only, so highFatDay cannot return to auto. Update toggle to cycle auto -\u003e yes -\u003e no -\u003e auto for string fields.","notes":"Updated toggleBoolField in app.js to cycle auto -\u003e yes -\u003e no -\u003e auto for string fields (highFatDay).","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T03:13:04.91130512Z","created_by":"ubuntu","updated_at":"2026-01-14T03:13:07.847905012Z","closed_at":"2026-01-14T03:13:07.847908208Z"}
{"id":"shredmaxxer-9pc","title":"Roster search helpers","description":"# Summary\nProvide small, testable search utilities for roster items (label + aliases) to support typeahead UI.\n\n# Scope\n- Normalize query and candidate strings.\n- Score matches (startsWith \u003e includes).\n- Option to exclude archived items by default.\n\n# Acceptance\n- Search returns stable, deterministic ordering.\n- Unit tests cover label + alias matching and archived filtering.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:32:56.961404878Z","created_by":"ubuntu","updated_at":"2026-01-13T01:34:15.796860886Z","closed_at":"2026-01-13T01:34:15.796860886Z","close_reason":"Added roster search helpers + tests"}
{"id":"shredmaxxer-9tt","title":"vNext spec implementation (hosted sync + UI overhaul)","description":"Background:\n- docs/spec_vNext.md supersedes spec_v5.md and unifies hosted-sync architecture with a full UI/UX redesign.\n- This epic captures the end-to-end implementation plan: data model changes, persistence/sync engine, UI overhaul, and acceptance criteria.\n\nGoals:\n- Deliver the vNext UI overhaul (Today, Segment Editor, History/Day Detail, Review, Settings) that matches the mockup structure while honoring no-CDN and no-build-chain constraints.\n- Implement hosted sync default behavior with offline-first cache, HLC ordering, outbox replication, conflict handling, and optional E2EE.\n- Maintain protocol-day invariants, \u003c10s logging loop, and explainable logic.\n\nNon-goals:\n- Adding a frontend build pipeline or external UI framework.\n- Any calorie/macro tracking or new nutrition domains not in the spec.\n\nSuccess criteria:\n- All milestones in spec_vNext §16 are addressed with tracked issues.\n- Each screen and subsystem has clear acceptance criteria and dependencies.\n- Data model + storage + sync + UI updates stay aligned with spec_vNext.\n","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-14T02:30:09.468957422Z","created_by":"ubuntu","updated_at":"2026-01-14T02:30:09.468957422Z"}
{"id":"shredmaxxer-9tt.1","title":"Align canonical spec references to spec_vNext","description":"Background:\\n- spec_vNext supersedes spec_v5 and is the canonical source for hosted-sync + UI overhaul.\\n\\nScope:\\n- Update AGENTS.md + README.md to point to docs/spec_vNext.md as canonical spec.\\n- Update repo layout notes to include docs/spec_vNext.md path.\\n- Leave older specs in place as historical context; do not delete.\\n\\nAcceptance:\\n- Canonical spec references point to docs/spec_vNext.md.\\n- No references claim spec_v5/spec_v4 is canonical.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:30:17.325702533Z","created_by":"ubuntu","updated_at":"2026-01-14T02:55:00.839073549Z","closed_at":"2026-01-14T02:55:00.839073549Z","close_reason":"AGENTS.md and README.md already point to docs/spec_vNext.md; repo layout updated","dependencies":[{"issue_id":"shredmaxxer-9tt.1","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:17.327161397Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.1","depends_on_id":"shredmaxxer-9tt.30","type":"blocks","created_at":"2026-01-14T02:39:45.266953325Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.10","title":"Safe Mode + integrity checks + recovery tools","description":"Background:\n- spec_vNext §9.4 requires Safe Mode when storage/migration fails and integrity tracking in Meta.\n\nScope:\n- Detect storage open/hydration/migration failures and enter Safe Mode.\n- Provide Safe Mode UI: diagnostics, snapshot restore, export recovery payload, disable hosted sync.\n- Record integrity metadata (safeMode flag, lastIntegrityCheckTs).\n\nConsiderations:\n- Safe Mode must not destroy data; only read/restore/export.\n- Ensure hosted sync is disabled while in Safe Mode.\n\nAcceptance:\n- Forced storage failures lead to Safe Mode with recovery options.\n- Integrity metadata reflects last checks and safe mode state.\n","notes":"Added Safe Mode banner UI in diagnostics with recovery export button; wiring in ui/legacy.js; styles in style.css.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:09.520780414Z","created_by":"ubuntu","updated_at":"2026-01-14T07:21:27.785361826Z","closed_at":"2026-01-14T07:21:27.785361826Z","close_reason":"Implemented Safe Mode UI banner + recovery export; sync disabled in safe mode; diagnostics show safe mode state.","dependencies":[{"issue_id":"shredmaxxer-9tt.10","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:09.521839637Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.10","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:08.08118942Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.10","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:08.109836081Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.11","title":"Render scheduler + ViewModel layer + region patching","description":"Background:\n- spec_vNext §11 defines a unidirectional store, render scheduler, and VM selectors to hit perf budgets.\n\nScope:\n- Implement requestAnimationFrame render scheduler.\n- Add region-level patching (data-region) to limit DOM updates.\n- Create memoized view-model selectors keyed by dateKey/weekKey + rev/hlc.\n- Centralize effective flag computations (collision/highFat/seedOil) to avoid drift.\n\nConsiderations:\n- Ensure reducers remain pure; side-effects handled by effects runner.\n- Maintain compatibility with existing store/reducer patterns.\n\nAcceptance:\n- UI re-renders only dirty regions.\n- ViewModel layer used by screens instead of raw state reads.\n","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:14.840893952Z","created_by":"ubuntu","updated_at":"2026-01-14T03:26:15.622262726Z","closed_at":"2026-01-14T03:26:15.622262726Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.11","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:14.841887173Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.11","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.137850085Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.12","title":"Today screen rebuild (solar hero + segment deck)","description":"Background:\\n- spec_vNext §3.3.1 defines the Today screen, replacing macro gauges with P/C/F/μ counts and adding sync status pill.\\n\\nMockup source to reference:\\n- /stitchMockup/solar_log_home_screen/home.html (layout + solar hero + segment deck).\\n\\nKeep/Modify/Drop (spec §3.6.4 Home):\\n- Keep: solar arc hero, now marker, segment deck layout, bottom nav.\\n- Modify: macro gauges → counts gauges (P/C/F/μ); segment data → real schema.\\n- Drop: calories/macros, NET/battery indicators, non-schema telemetry.\\n\\nHow to adopt mockup:\\n- Copy DOM structure/spacing rhythm; replace Tailwind with component classes.\\n- Remove CDN fonts/icons; use local assets and SVG icons.\\n\\nScope:\\n- Implement Today layout with solar arc hero + segment deck.\\n- Display current time/timezone, sync status + outbox count, segment cards with counts/status/glyphs.\\n- Include day toggles (move/training/highFatDay tri), signals, quick actions (undo/repeat/copy).\\n\\nAcceptance:\\n- Today screen shows all required fields and actions.\\n- Logging loop (open → tap segment → toggle chips → done) remains ≤10s.","notes":"Closed: Today screen matches mockup layout with solar hero, segment deck, toggles, signals, sync/outbox status, current time + timezone, and quick actions (undo/repeat/copy).","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:31:21.678325577Z","created_by":"ubuntu","updated_at":"2026-01-14T08:37:14.075676789Z","closed_at":"2026-01-14T08:37:14.075680867Z","dependencies":[{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:21.679357205Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.16485734Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.192760562Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:34:08.219236063Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.20","type":"blocks","created_at":"2026-01-14T02:34:08.247384886Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:34:09.689049801Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.12","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.658787977Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.13","title":"Segment editor sheet rebuild (chips + tri controls)","description":"Background:\\n- spec_vNext §3.3.2 defines bottom-sheet editor with pinned/recents/selected sections and tri-state flags.\\n\\nMockup source to reference:\\n- /stitchMockup/lunch_segment_editor/segmenteditor.html (sheet layout + chip grid + footer).\\n\\nKeep/Modify/Drop (spec §3.6.4 Segment editor):\\n- Keep: sheet structure, grid chips aesthetic, sticky footer layout.\\n- Modify: boolean toggles → tri-state controls; add segment status; add notes; add pinned/recents/selected sections.\\n- Drop: “LOG” button implying commit-on-press (persist on change).\\n\\nHow to adopt mockup:\\n- Copy sheet structure and spacing rhythm; replace Tailwind with component classes.\\n- Remove CDN fonts/icons; use local SVG icons.\\n\\nScope:\\n- Build bottom-sheet component (header/body/footer).\\n- Support FTN-only ftnMode control, segment status tri, tri flags (collision/highFatMeal), seedOil tri.\\n- Provide search/typeahead with inline add; chip grids for selected/pinned/recents/all.\\n- Add notes field and thumb-zone footer actions; persist on each change.\\n\\nAcceptance:\\n- All segment fields editable with instant persistence.\\n- Sheet meets accessibility (focus trap, Esc close).","notes":"Closed: segment editor now supports sectioned chip grids (selected/pinned/recents/all), tri-state controls, notes, inline add, and sheet accessibility (ESC close + focus trap).","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:31:27.238531971Z","created_by":"ubuntu","updated_at":"2026-01-14T08:41:08.833996725Z","closed_at":"2026-01-14T08:41:08.834001034Z","dependencies":[{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:27.239544369Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.273441277Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.301971987Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:34:08.330503406Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:08.359468115Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:34:09.717220167Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.13","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.686942754Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.14","title":"History screen + Day Detail view","description":"Background:\\n- spec_vNext §3.3.3–3.3.4 define History list + expandable day detail with segment summaries.\\n\\nMockup source to reference:\\n- /stitchMockup/mission_log_archive/archive.html (timeline card layout + expansion styling).\\n\\nKeep/Modify/Drop (spec §3.6.4 Archive):\\n- Keep: timeline card layout, expand/collapse styling.\\n- Modify: wake/sleep/compliance → day aggregates + toggles/signals + segment summaries.\\n- Drop: “data corrupted” dramatization unless tied to real Safe Mode.\\n\\nHow to adopt mockup:\\n- Copy list/card structure and spacing rhythm; replace Tailwind with component classes.\\n- Remove CDN fonts/icons; use local SVG icons.\\n\\nScope:\\n- Implement History list using day_index aggregates (date, counts, glyphs, signals, unsynced).\\n- Add expanded day cards with toggles/signals/notes and segment summaries.\\n- Implement Day Detail route with edit actions and copy-from-previous-day.\\n- Add search/filter by roster item, tag, flag.\\n\\nAcceptance:\\n- History matches archive.html structure and schema content.\\n- Day Detail supports full edit flow with segment sheet.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:32.558824274Z","created_by":"ubuntu","updated_at":"2026-01-14T09:22:21.16309639Z","closed_at":"2026-01-14T09:22:21.16309639Z","close_reason":"History list now shows weekday, counts, signals, issue+sync badges, search/filter; added inline Day Detail with toggles/signals/notes, segment summaries w/ edit, copy-prev and open actions; redaction-safe details.","dependencies":[{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:32.560161042Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.386318427Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.413203838Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:34:08.439554629Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.7","type":"blocks","created_at":"2026-01-14T02:34:08.466571904Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:08.492876723Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:34:09.746412311Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.14","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.714891457Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.15","title":"Review screen rebuild (matrix + rotation + insights)","description":"Background:\\n- spec_vNext §3.3.5 defines Weekly Review 2.0 with matrix, rotation picks, issue frequency, correlations, and dismissible insights.\\n\\nMockup source to reference:\\n- /stitchMockup/bio-optimization_metrics/metrics.html (matrix layout + rotation queue + terminal panel aesthetic).\\n\\nKeep/Modify/Drop (spec §3.6.4 Metrics):\\n- Keep: matrix styling, rotation queue list, terminal insights panel layout.\\n- Modify: insights copy → explainable data-grounded text with sample size.\\n- Drop: pseudo-physiology claims or non-schema metrics.\\n\\nHow to adopt mockup:\\n- Copy layout/spacing rhythm; replace Tailwind with component classes.\\n- Remove CDN fonts/icons; use local SVG icons.\\n- Keep cyan accent optional via ui.accent; default orange.\\n\\nScope:\\n- Implement Review layout with matrix + rotation queue + insights panel.\\n- Hook to week_index for fast initial render; compute correlations/insights lazily.\\n- Provide drill-down from matrix cells to specific day/segment.\\n\\nAcceptance:\\n- Review renders weekly counts immediately and completes matrix/rotation quickly.\\n- Correlations/insights show sample sizes and grounded text.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:37.839169969Z","created_by":"ubuntu","updated_at":"2026-01-14T09:22:24.423773896Z","closed_at":"2026-01-14T09:22:24.423773896Z","close_reason":"Review now includes week navigation controls, matrix/rotation/issue/insight panels wired with drill-down to Today/segment; range updates by weekStart.","dependencies":[{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:37.840334693Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.518888395Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.546944984Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:34:08.57549425Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.7","type":"blocks","created_at":"2026-01-14T02:34:08.601675059Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.27","type":"blocks","created_at":"2026-01-14T02:34:08.630432623Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:34:09.775945738Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.15","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.742995232Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.16","title":"Settings + Sync + Diagnostics screens","description":"Background:\\n- spec_vNext §3.3.6 requires expanded Settings, Sync controls, and Diagnostics fields.\\n\\nMockup reference (style only):\\n- home.html + metrics.html for panel rhythm and pill styling; do NOT import code.\\n\\nHow to adopt mockup:\\n- Copy panel/card rhythm and typography scale; replace Tailwind with component classes.\\n- Use local SVG icons and fonts only; no CDN links.\\n\\nScope:\\n- Build Settings sections: Time model, Sun mode (user-triggered geolocation), Phase, Rosters manager, Privacy.\\n- Add Sync section: status, sync now, copy/paste link, reset sync space, E2EE toggle, advanced pause/endpoint override.\\n- Expand Diagnostics: storage mode, persist status, schema/app version, outbox depth, last error, conflict count, snapshots, audit log, safe mode state.\\n\\nAcceptance:\\n- Settings includes all spec_vNext fields and wiring.\\n- Diagnostics reflects sync + integrity state with clear labels.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:47.404010631Z","created_by":"ubuntu","updated_at":"2026-01-14T08:51:19.425433812Z","closed_at":"2026-01-14T08:51:19.425433812Z","close_reason":"Sync status/advanced controls wired in Settings; diagnostics expanded with sync/outbox/conflict/last error; sync status line + paused header handling; SW cache bump + DOM inventory updates.","dependencies":[{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:47.405044683Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.66152302Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.689905493Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:08.716507266Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:08.744334536Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.19","type":"blocks","created_at":"2026-01-14T02:34:08.772960134Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:34:09.810242822Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.8","type":"blocks","created_at":"2026-01-14T02:36:56.743586918Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.9","type":"blocks","created_at":"2026-01-14T02:36:56.772915186Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.16","depends_on_id":"shredmaxxer-9tt.27","type":"blocks","created_at":"2026-01-14T02:39:28.797823055Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.17","title":"Service worker updates for sync-safe caching","description":"Background:\\n- spec_vNext §12 requires precache of local assets and strict no-cache for any /api/* (especially sync).\\n\\nScope:\\n- Update SW precache list to include new fonts/icons/core modules.\\n- Ensure runtime cache never intercepts /api/* (network-only, no-store).\\n- Preserve update UX (toast → skipWaiting → reload).\\n\\nAcceptance:\\n- /api/* is never cached.\\n- App shell assets are precached and update flow works.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:31:53.358941052Z","created_by":"ubuntu","updated_at":"2026-01-14T03:14:12.462008974Z","closed_at":"2026-01-14T03:14:12.462008974Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.17","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:53.360460688Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.17","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.799472849Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.17","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:08.827184818Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.18","title":"Privacy features (app lock, blur, redaction)","description":"Background:\\n- spec_vNext §13 emphasizes privacy blur, app lock, home redaction, and optional E2EE.\\n\\nMockup reference:\\n- No direct privacy mockup; align overlay styling with home.html grid/noise aesthetic and shell scrim behavior.\\n\\nHow to adopt mockup style:\\n- Use existing .scrim/.noise classes; avoid heavy blur or new visual language.\\n- Respect reduceEffects to disable blur/scanline overlays.\\n\\nScope:\\n- Ensure app lock flow is robust and integrates with new shell/screen layout.\\n- Implement blur-on-background overlay via #scrim with reduced-motion support.\\n- Implement home redaction (counts-only) on Today/History summaries.\\n\\nAcceptance:\\n- Privacy toggles work across routes without leaking content in task switcher.\\n- Redaction hides labels/notes but preserves counts.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:31:58.805360362Z","created_by":"ubuntu","updated_at":"2026-01-14T09:22:29.370490607Z","closed_at":"2026-01-14T09:22:29.370490607Z","close_reason":"Privacy: reduceEffects toggles blur/noise, blur overlay respects reduceEffects; home redaction hides History details/signals while preserving counts.","dependencies":[{"issue_id":"shredmaxxer-9tt.18","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:58.806403653Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.18","depends_on_id":"shredmaxxer-9tt.16","type":"blocks","created_at":"2026-01-14T02:34:08.853886351Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.18","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:08.881436575Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.18","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:36:56.800367533Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.18","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:36:56.82953562Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.19","title":"Audit log capture + diagnostics integration","description":"Background:\n- spec_vNext §7.2 and §3.3.6 include an audit_log store and diagnostics exposure.\n\nScope:\n- Define audit event schema (e.g., boot, sync start/finish, conflicts, snapshot create/restore, safe mode).\n- Persist events in audit_log ring buffer.\n- Expose audit log list in Diagnostics with basic filtering.\n\nAcceptance:\n- Audit log entries are recorded for key system events.\n- Diagnostics shows recent audit events without impacting performance.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:32:04.456277828Z","created_by":"ubuntu","updated_at":"2026-01-14T03:29:37.675183537Z","closed_at":"2026-01-14T03:29:37.675183537Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.19","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:04.457259045Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.19","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:08.908343531Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.2","title":"Stage UI mockups as reference-only assets","description":"Background:\\n- spec_vNext §3.6 treats mockup HTML as layout/spacing references only (not production code).\\n- Source mockups live in /stitchMockup/*/*.html and include CDN dependencies that must not ship.\\n\\nSource files (do NOT delete):\\n- /stitchMockup/solar_log_home_screen/home.html\\n- /stitchMockup/lunch_segment_editor/segmenteditor.html\\n- /stitchMockup/mission_log_archive/archive.html\\n- /stitchMockup/bio-optimization_metrics/metrics.html\\n\\nWhat to take (per spec §3.6):\\n- Structure: section nesting, header/footer placement, card groupings, grid rhythm.\\n- Spacing rhythm: margins/padding proportions and density.\\n- Visual tone: hard shadows, panel borders, grid/noise overlays.\\n\\nWhat NOT to take:\\n- Any \u003cscript src=\"https://cdn.tailwindcss.com\"\u003e\\n- Any Google Fonts or Material Symbols links\\n- Any mockup-only content (macros, compliance %, fake NET/battery indicators)\\n\\nScope:\\n- Copy the four HTML files into ui/mockups/ with same filenames and add header comment: “design reference only; do not ship; no CDN dependencies in production.”\\n- Ensure production code never imports/bundles ui/mockups.\\n\\nAcceptance:\\n- ui/mockups/ contains all four HTML files + reference-only notices.\\n- No runtime dependency on mockup files; no CDN links in production.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:30:23.183636425Z","created_by":"ubuntu","updated_at":"2026-01-14T02:53:58.406069619Z","closed_at":"2026-01-14T02:53:58.406069619Z","close_reason":"Copied mockup HTMLs into ui/mockups with reference-only headers; no production imports","dependencies":[{"issue_id":"shredmaxxer-9tt.2","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:23.184730247Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.20","title":"Solar arc + timeline rendering (protocol day clamp)","description":"Background:\\n- spec_vNext §3.3.1 and §5 require solar arc visualization clamped to protocol day with DST-safe boundaries.\\n\\nMockup source to reference:\\n- /stitchMockup/solar_log_home_screen/home.html (solar arc hero framing + grid overlay).\\n\\nWhat to take (granular):\\n- Arc framing and grid/noise styling inside the hero area.\\n- Now marker placement style.\\n\\nWhat to modify/drop:\\n- Replace placeholder sun times with real sunrise/sunset and protocol day windows.\\n- Remove any mockup-only labels not in schema.\\n\\nScope:\\n- Implement SolarHero component that renders sunrise/sunset arc within protocol day window.\\n- Display current time marker and segment boundaries.\\n- Respect sunMode auto/manual and DST clamp diagnostics.\\n\\nAcceptance:\\n- Solar arc aligns with protocol day windows and remains stable across DST.\\n- Current time marker and segment windows match computed time model.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:32:11.642306953Z","created_by":"ubuntu","updated_at":"2026-01-14T03:29:59.994158179Z","closed_at":"2026-01-14T03:29:59.994158179Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.20","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:11.643922831Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.20","depends_on_id":"shredmaxxer-9tt.27","type":"blocks","created_at":"2026-01-14T02:34:08.936055639Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.20","depends_on_id":"shredmaxxer-9tt.3","type":"blocks","created_at":"2026-01-14T02:34:08.963896445Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.21","title":"Roster manager overhaul (tags, aliases, icons)","description":"Background:\\n- spec_vNext §3.3.6 and Appendix A add roster tags, aliases, and optional icon field.\\n\\nMockup reference (style only):\\n- No direct roster mockup; reuse Settings panel rhythm from home.html + metrics.html.\\n- Use chip styling from segmenteditor.html for tag/alias pills.\\n\\nWhat to take (granular):\\n- Card/panel spacing and hard-shadow styling.\\n- Chip size/spacing for tags/aliases.\\n\\nScope:\\n- Update roster manager UI to edit tags, aliases, pinned/archived, and optional icon.\\n- Enforce tag conventions (fat:seed_oil, fat:unknown, carb:starch, etc.) with hints.\\n- Ensure roster edits update logs and indexes safely.\\n\\nAcceptance:\\n- Roster editor supports icon selection and tag conventions.\\n- Changes propagate without breaking logs/search or indexes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:32:18.079415881Z","created_by":"ubuntu","updated_at":"2026-01-14T09:22:35.294960269Z","closed_at":"2026-01-14T09:22:35.294960269Z","close_reason":"Roster manager now supports icon field plus tag/alias inputs and tag convention hints; updates routed through roster_edit with persistence/index rebuild.","dependencies":[{"issue_id":"shredmaxxer-9tt.21","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:18.080416155Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.21","depends_on_id":"shredmaxxer-9tt.16","type":"blocks","created_at":"2026-01-14T02:34:08.992381663Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.21","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:09.02039741Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.21","depends_on_id":"shredmaxxer-9tt.28","type":"blocks","created_at":"2026-01-14T02:36:56.918112939Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.22","title":"Accessibility compliance pass","description":"Background:\\n- spec_vNext §3.5 mandates keyboard nav, focus states, aria labels, and reduced-motion support.\\n\\nMockup alignment (granular):\\n- Preserve layout geometry; add focus rings/shadows that match hard-shadow style.\\n- Keep chip/button spacing from mockups; avoid reflow on focus.\\n\\nScope:\\n- Add focus styles and keyboard navigation for TopBar, BottomNav, chips, and sheet controls.\\n- Ensure icon buttons have aria-labels.\\n- Implement focus trap + Esc close for sheets and restore focus on close.\\n- Respect prefers-reduced-motion + ui.reduceEffects.\\n\\nAcceptance:\\n- All interactive elements are keyboard reachable and labeled.\\n- Reduced-motion users see no heavy animations/overlays.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:32:23.081343379Z","created_by":"ubuntu","updated_at":"2026-01-14T09:28:53.427957038Z","closed_at":"2026-01-14T09:28:53.427957038Z","close_reason":"Added global focus-visible styles for buttons/inputs/chips/tabs, aria-expanded for History detail toggles, reduce-effects class handling for overlays. Keyboard/focus behavior preserved for sheet controls.","dependencies":[{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:23.082851921Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt.12","type":"blocks","created_at":"2026-01-14T02:34:09.04863421Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt.13","type":"blocks","created_at":"2026-01-14T02:34:09.077611654Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt.14","type":"blocks","created_at":"2026-01-14T02:34:09.11677631Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt.15","type":"blocks","created_at":"2026-01-14T02:34:09.14608587Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.22","depends_on_id":"shredmaxxer-9tt.16","type":"blocks","created_at":"2026-01-14T02:34:09.172849427Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.23","title":"Unit tests for vNext schema + heuristics","description":"Background:\n- spec_vNext §15 enumerates required test coverage for time model, logging, review, sync, and backups.\n\nScope:\n- Update unit tests for new schema fields (highFatDay Tri, blurOnBackground, weekStart, sync/meta fields).\n- Add tests for highFatDay migration and missing roster ID rendering logic.\n- Validate heuristics (collision/highFat) against new tag rules.\n\nAcceptance:\n- Unit tests cover schema changes and core heuristics without mocks.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:32:30.839420375Z","created_by":"ubuntu","updated_at":"2026-01-14T03:41:28.186145706Z","closed_at":"2026-01-14T03:41:28.186145706Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.23","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:30.840509196Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.23","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:09.200997309Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.23","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.770421377Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.24","title":"E2E flows for vNext UI + sync","description":"Background:\\n- spec_vNext §15 requires acceptance coverage for UI fidelity and hosted sync behaviors.\\n\\nScope:\\n- Update Playwright e2e tests to match new UI routes, selectors, and layouts.\\n- Add sync scenarios: offline edits, outbox drain, conflict snapshot on 412, leader election smoke.\\n- Add UI fidelity checks: no CDN usage, required fields present on each screen, mockup mapping preserved.\\n\\nAcceptance:\\n- E2E suite passes against vNext UI with rich step logging.\\n- Sync scenarios validated without mocks.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:32:35.722768849Z","created_by":"ubuntu","updated_at":"2026-01-14T09:29:02.933878814Z","closed_at":"2026-01-14T09:29:02.933878814Z","close_reason":"E2E suite now covers vNext UI routes/selectors plus sync/offline/conflict flows (sync.e2e, diagnostics, privacy, review, roster).","dependencies":[{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:35.72383298Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.12","type":"blocks","created_at":"2026-01-14T02:34:09.228295819Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.13","type":"blocks","created_at":"2026-01-14T02:34:09.256194481Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.14","type":"blocks","created_at":"2026-01-14T02:34:09.284523415Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.15","type":"blocks","created_at":"2026-01-14T02:34:09.312521918Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.16","type":"blocks","created_at":"2026-01-14T02:34:09.340726303Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.8","type":"blocks","created_at":"2026-01-14T02:34:09.368979366Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.24","depends_on_id":"shredmaxxer-9tt.17","type":"blocks","created_at":"2026-01-14T02:36:56.94624001Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.25","title":"Performance budget instrumentation","description":"Background:\n- spec_vNext §14 defines performance budgets for Today, segment sheet, and Review.\n\nScope:\n- Add lightweight timing markers for key UX actions (Today render, sheet open, chip toggle, review render phases).\n- Log to audit_log in debug mode or diagnostics panel.\n- Provide manual QA checklist for perf budgets.\n\nAcceptance:\n- Perf markers visible in Diagnostics or console with minimal noise.\n- Budgets measurable without external tooling.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:32:41.839492363Z","created_by":"ubuntu","updated_at":"2026-01-14T09:28:58.652724231Z","closed_at":"2026-01-14T09:28:58.652724231Z","close_reason":"Added perf logging toggle in Diagnostics (localStorage flag) and audit-log instrumentation for Today render, Review render phases, sheet open, and chip toggles.","dependencies":[{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:41.847117572Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:34:09.397052366Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt.12","type":"blocks","created_at":"2026-01-14T02:34:09.424952101Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt.13","type":"blocks","created_at":"2026-01-14T02:34:09.453909585Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt.15","type":"blocks","created_at":"2026-01-14T02:34:09.483265698Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.25","depends_on_id":"shredmaxxer-9tt.19","type":"blocks","created_at":"2026-01-14T02:36:56.888522237Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.26","title":"Import/export updates for vNext fields + secret hygiene","description":"Background:\n- spec_vNext §9.2–9.3 require sanitized exports, new fields, and snapshot behaviors.\n\nScope:\n- Update export serialization to include new fields (highFatDay Tri, ui settings, sync meta) but exclude sync credentials + E2EE passphrase.\n- Ensure import validation/migration handles vNext additions without rejecting older exports.\n- Add snapshot labels for pre-sync and sync conflict cases.\n\nAcceptance:\n- Export payloads are sanitized and round-trip safe.\n- Imports from older versions still succeed with proper defaults.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:32:46.895162053Z","created_by":"ubuntu","updated_at":"2026-01-14T03:22:38.857696313Z","closed_at":"2026-01-14T03:22:38.857696313Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.26","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:46.896213651Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.26","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:09.511757038Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.26","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:09.539776012Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.27","title":"Time model + settings integration (weekStart/sun mode/DST)","description":"Background:\\n- spec_vNext §5 and §3.3.6 require time model settings with DST clamp and user-triggered geolocation for sun auto mode.\\n\\nScope:\\n- Integrate weekStart into review calculations (WeekIndex boundaries and week selector data).\\n- Implement sun auto mode logic that uses explicit user-triggered geolocation and stores lastKnownLat/Lon.\\n- Surface DST clamp events in Diagnostics metadata.\\n\\nNotes:\\n- UI wiring for settings controls lives in Settings/Sync/Diagnostics bead; this bead delivers the domain logic + services.\\n\\nAcceptance:\\n- Week start correctly shifts weekly review boundaries.\\n- Sun auto logic uses explicit consent; no background geolocation.\\n- Diagnostics reflects DST clamp when applied.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:32:52.495545699Z","created_by":"ubuntu","updated_at":"2026-01-14T03:20:50.222697488Z","closed_at":"2026-01-14T03:20:50.222697488Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.27","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:52.496673149Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.27","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:09.568509796Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28","title":"UI module structure refactor (components/screens/vm)","description":"Background:\\n- spec_vNext §11.5 suggests a module map separating ui/components, ui/screens, and ui/vm.\\n\\nMockup alignment (granular component mapping):\\n- home.html → TopBar, SolarHero, SegmentCard, BottomNav.\\n- segmenteditor.html → Sheet, ChipGrid, TriControls, CommandInput.\\n- archive.html → HistoryList, DayCard, DayDetailSummary.\\n- metrics.html → ReviewMatrix, RotationQueue, InsightsPanel.\\n\\nScope:\\n- Reorganize UI code into components/screens/vm with clear boundaries.\\n- Ensure screens compose components and consume VMs rather than raw state.\\n- Keep ES module imports stable and avoid build tooling.\\n\\nAcceptance:\\n- UI module boundaries match spec_vNext map.\\n- Components clearly map to mockup structures without importing mockup HTML.","notes":"Closed: remaining UI logic organized into screens/components (diagnostics + sync status now extracted); legacy retains orchestration + wiring only. SW precache updated to include new modules (v4-0.16).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:32:58.62875034Z","created_by":"ubuntu","updated_at":"2026-01-14T08:35:28.941731054Z","closed_at":"2026-01-14T08:35:28.941734191Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:32:58.630249114Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:09.600419095Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1","title":"Adopt mockup HTML as live UI (4 screens)","description":"Background:\n- Prior attempt kept legacy DOM and only partially wired renderers, which left the UI looking unchanged and broken in Chrome.\n- We must fully replace the live UI with the four mockup HTML screens and rewire logic to that DOM (not the other way around).\n\nGoal:\n- Make the mockup layouts the actual app UI while preserving existing logic, state, and data flows.\n\nStrategy (correction):\n- Replace index.html entirely with mockup markup and remove all legacy layout remnants.\n- Map every required JS binding to explicit nodes in the mockup DOM; no hidden fallback DOM.\n- Keep VM/state/action logic intact; only adapt selectors + event wiring.\n\nScope:\n- index.html DOM replacement with 4 screen sections in a routed shell.\n- Elements registry + screen renderers updated to target new DOM.\n- CSS/icons/fonts aligned to mockups and usable across Chrome/Firefox.\n\nNon-goals:\n- New features or data model changes.\n- Introducing frameworks/bundlers.\n\nAcceptance:\n- All four mockup layouts are used directly in the live UI (Home, Segment Editor, Archive, Metrics).\n- Navigation between screens works and renders correctly in Chrome and Firefox.\n- No regression in logging flow, protocol-day logic, or data persistence.\n- No legacy DOM remains; selectors only target the mockup DOM.","notes":"Closed: live UI now uses mockup-driven DOM for all four screens; JS bindings mapped to new IDs; CSS/icons/fonts aligned to mockups; SW cache bumped to v4-0.17 for fresh assets.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:05:58.247460818Z","created_by":"ubuntu","updated_at":"2026-01-14T08:37:37.346139106Z","closed_at":"2026-01-14T08:37:37.346143686Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1","depends_on_id":"shredmaxxer-9tt.28","type":"parent-child","created_at":"2026-01-14T05:05:58.248500404Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.1","title":"Mockup DOM inventory + element mapping","description":"Goal:\n- Inventory all four mockup HTML files and build a binding map from DOM nodes to JS element keys + events.\n\nDeliverables:\n- Node map covering every interactive/control element and every data display region used by renderers.\n- List of mismatches vs current elements registry (missing nodes, renamed ids/classes).\n- Notes on any mockup-only UI that needs wiring or placeholder data.","notes":"Created DOM inventory + element mapping in docs/mockup_dom_inventory.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:12.887968502Z","created_by":"ubuntu","updated_at":"2026-01-14T05:14:38.956464367Z","closed_at":"2026-01-14T05:14:38.956468676Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.1","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:12.889141134Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.10","title":"Global shell + routing parity with mockups","description":"Goal:\n- Wire global navigation, route switching, and shared shell interactions to match mockup UX.\n\nChecklist:\n- Ensure each of the four screens is reachable via nav affordances.\n- Preserve route state + initial screen selection rules.\n- Keep shared header/footer actions bound to existing handlers.","notes":"Added mockup-style bottom nav with data-route hooks and header route buttons in Archive/Metrics for back/settings; router delegation covers all route actions.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:09:55.28312751Z","created_by":"ubuntu","updated_at":"2026-01-14T05:20:10.188544436Z","closed_at":"2026-01-14T05:20:10.188548684Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.10","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:09:55.284199129Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.10","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:10:12.154205844Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.10","depends_on_id":"shredmaxxer-9tt.28.1.3","type":"blocks","created_at":"2026-01-14T05:10:14.684962088Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.11","title":"Legacy UI cleanup pass (DOM/selectors)","description":"Goal:\n- Remove any remaining legacy UI DOM, selectors, and CSS that could mask or override the mockup UI.\n\nChecklist:\n- Delete unused DOM fragments and legacy selectors.\n- Confirm element registry no longer references removed nodes.\n- Verify rendered DOM contains only the mockup structures + shell.","notes":"Completed legacy UI cleanup pass: removed unused topbar/brand CSS and confirmed no legacy DOM remains in index.html.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T05:09:58.496587291Z","created_by":"ubuntu","updated_at":"2026-01-14T05:32:16.786327094Z","closed_at":"2026-01-14T05:32:16.786330691Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:09:58.497707727Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1.4","type":"blocks","created_at":"2026-01-14T05:10:24.977431572Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1.5","type":"blocks","created_at":"2026-01-14T05:10:26.918105637Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1.6","type":"blocks","created_at":"2026-01-14T05:10:28.862279318Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1.7","type":"blocks","created_at":"2026-01-14T05:10:30.741901842Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.11","depends_on_id":"shredmaxxer-9tt.28.1.8","type":"blocks","created_at":"2026-01-14T05:10:33.191648744Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.12","title":"Visual gaps backlog (mockup parity)","description":"Purpose:\n- Capture remaining visual deltas vs the four mockup screens so another agent can finish parity without re-auditing the UI.\n\nContext:\n- We replaced index.html with mockup-driven shells and tightened CSS, but several stylistic mismatches remain (structure parity is good; visual parity is incomplete).\n- This list focuses on the remaining UX/visual gaps across Home, Segment Editor, Archive, Metrics, and global shell.\n\nHome / Today (home.html mockup) gaps:\n1) Solar arc framing + labels:\n   - Mockup has a dashed arc boundary + faint grid inside arc + dawn/dusk labels anchored at bottom left/right.\n   - Current UI only renders the SVG arc; missing the dashed arc container + dawn/dusk text treatments.\n   - Add decorative dashed arc border and dawn/dusk captions styled in mono (small, muted).\n2) Live status cluster on top bar:\n   - Mockup uses compact pill with dot + NET/BAT label; our pills are present but lack icon sizing and spacing parity.\n   - Tighten pill spacing, icon size, and add subtle pulse on sync dot.\n3) Timeline deck rails + markers:\n   - Mockup shows a left rail with small dots marking segments; our timeline has a simple track + segments only.\n   - Add a vertical rail with small dots on the left edge of segment deck to mimic the mockup.\n4) Segment cards layout:\n   - Mockup includes distinct “past / active / future” card treatments (opacity, border styles, live glow).\n   - Current cards are uniform; active highlight is subtle.\n   - Add styles for status-logged / status-unlogged / status-none to mimic mockup states and consider adding a “live” glow for active segment (aria-current=true).\n5) Floating action button (FAB):\n   - Mockup shows a bottom-right edit FAB; not present in live UI.\n   - Consider adding a button (wired to open current segment editor) aligned to mockup.\n6) Section separators + density:\n   - Mockup uses thin borders and tighter spacing in the hero/time block.\n   - Adjust paddings and introduce divider lines for the time row to match the mockup’s compact “instrument panel” feel.\n\nSegment Editor (segmenteditor.html mockup) gaps:\n1) Segment header chrome + progress bar:\n   - Mockup includes a progress bar stripe under header; current sheet lacks it.\n   - Add a decorative bar beneath header (no data dependency).\n2) Nutrient section cards:\n   - Mockup shows icon glyphs + colored nutrient headers (protein/carb/fat/micro).\n   - Current layout lacks header icon + color accents; add header icon placeholders and color tokens per nutrient.\n3) Toggle row style:\n   - Mockup uses slider toggles for seed oil/collision; we currently use segmented controls for flags.\n   - Decide whether to restyle segmented controls to look like toggles or to add toggle skins while keeping behavior.\n4) Search bar style:\n   - Mockup shows a single search bar in footer; our per-nutrient search fields are inline.\n   - Consider an overlay/compact search or visually unify search fields with mockup (same height + terminal icon).\n5) Footer action button styling:\n   - Mockup LOG button is heavy orange block with arrow; we have basic button.\n   - Add arrow glyph and heavy block styling to `doneSegment` button; add secondary “Clear” treatment.\n\nArchive / History (archive.html mockup) gaps:\n1) Card geometry + corner accents:\n   - Mockup uses corner brackets and a thick border on active/hover.\n   - Our day-item cards lack corner accents; add pseudo-elements for corners.\n2) Expand/contract affordance:\n   - Mockup uses a chevron that rotates on expand; we added caret but no rotation animation.\n   - Add rotation + subtle transition on details open state.\n3) Mini solar arc + signal icons in each day card:\n   - Mockup shows mini arc + 3 signal icons.\n   - Our cards are text-only. Add a compact inline micro-viz block (can be decorative, no data binding required initially).\n4) Archive header typography:\n   - Mockup uses uppercase “Mission Log Archive” with sharp tracking and a divider line.\n   - Add divider line and uppercase/hierarchical styling to match.\n\nMetrics / Review (metrics.html mockup) gaps:\n1) Matrix grid headers + cell layout:\n   - Mockup shows a full 8-column grid with panel blocks; our grid is closer but still less dense.\n   - Adjust padding/spacing to smaller blocks, and use squared corners and tighter grid gaps.\n2) Rotation queue list style:\n   - Mockup uses list rows with leading “\u003e” glyph and left border highlight.\n   - Current picks are chips; consider switching to list rows with arrow glyph and category tags.\n3) Diagnostics section styling:\n   - Mockup includes indicator dots + muted heading; our diagnostics are plain containers.\n   - Add header dot indicators and muted heading styling.\n\nGlobal shell gaps:\n1) Background noise + scanlines per screen:\n   - Home/Archive/Metrics each have different overlays in mockups; we have generic overlays.\n   - Tune opacity per screen and ensure reduce-motion respects overlays.\n2) Typography consistency:\n   - Some headers use mixed font weights vs mockup; audit headings and apply consistent uppercase + tracking.\n3) Iconography consistency:\n   - Mockup uses Material Symbols; we use inline SVGs. Verify sizing/weight/line style across tabs and headers.\n\nAcceptance for this bead:\n- Each bullet above is either implemented or explicitly deferred with reasoning.\n- Another agent can pick any gap, trace it to the relevant file (index.html/style.css/ui/components), and implement without additional audit work.","notes":"Closed: mockup parity gaps implemented; search UX consolidation deferred (documented in docs/ux_audit.md).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T06:06:44.140986222Z","created_by":"ubuntu","updated_at":"2026-01-14T08:28:58.649478583Z","closed_at":"2026-01-14T08:28:58.64948266Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.12","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T06:06:44.145835834Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.2","title":"Replace index.html with mockup shell + routed sections","description":"Goal:\n- Replace index.html with the mockup shell and include all four screen sections exactly as the live UI.\n\nChecklist:\n- Remove legacy layout markup entirely (no hidden old UI).\n- Preserve required meta tags, PWA hooks, and base scripts.\n- Ensure mockup DOM is wrapped in routed sections/regions used by the shell.\n- Keep assets (fonts/icons) referenced by the mockups available to the app.","notes":"Replaced index.html with mockup-based shell: Home/Archive/Metrics sections + mockup-style nav; kept settings + overlays; added required element IDs.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:19.676689615Z","created_by":"ubuntu","updated_at":"2026-01-14T05:18:55.585364628Z","closed_at":"2026-01-14T05:18:55.585367724Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.2","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:19.677762438Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.2","depends_on_id":"shredmaxxer-9tt.28.1.1","type":"blocks","created_at":"2026-01-14T05:06:19.680396223Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.3","title":"Rebuild elements registry + shared bindings for mockup DOM","description":"Goal:\n- Rebuild the elements registry and shared bindings to target the new mockup DOM.\n\nChecklist:\n- Update all query selectors to match mockup IDs/classes.\n- Remove references to legacy nodes; fail fast or guard missing nodes with clear errors.\n- Rewire shared UI helpers (toasts, overlays, navigation affordances) to mockup elements.\n- Align render scheduler regions to the new DOM sections.","notes":"Verified index.html contains all ui/elements.js IDs after mockup swap; registry still valid. No selector changes required at this step.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:25.460512232Z","created_by":"ubuntu","updated_at":"2026-01-14T05:19:54.545501225Z","closed_at":"2026-01-14T05:19:54.545505645Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.3","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:25.461657269Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.3","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:06:25.464556145Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.4","title":"Home/Today screen: wire mockup home.html","description":"Goal:\n- Wire the Home/Today mockup to the existing view-models and actions.\n\nChecklist:\n- Bind hero, day status, and segment deck regions to VM selectors.\n- Connect actions (start/stop, quick add, edit) to existing handlers.\n- Verify empty/edge states and loading/sync banners render in mockup containers.","notes":"Adjusted currentTime display to 12h AM/PM formatting for mockup parity.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:31.793561097Z","created_by":"ubuntu","updated_at":"2026-01-14T05:44:25.843262368Z","closed_at":"2026-01-14T05:21:05.371642626Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.4","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:31.794737348Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.4","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:06:31.797523046Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.4","depends_on_id":"shredmaxxer-9tt.28.1.3","type":"blocks","created_at":"2026-01-14T05:06:31.800228673Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.4","depends_on_id":"shredmaxxer-9tt.28.1.10","type":"blocks","created_at":"2026-01-14T05:10:16.84769782Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.5","title":"Segment Editor: wire mockup segmenteditor.html","description":"Goal:\n- Wire the Segment Editor mockup to existing segment edit/create flows.\n\nChecklist:\n- Bind chip controls, intensity/duration inputs, and tri controls to VM/state.\n- Ensure save/cancel/undo behavior matches current logic.\n- Verify validation and helper text renders in the mockup DOM.","notes":"Replaced segment sheet markup with mockup-style structure while preserving required IDs and controls; updated Log/Clear placement.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:37.640245121Z","created_by":"ubuntu","updated_at":"2026-01-14T05:22:32.61240844Z","closed_at":"2026-01-14T05:22:32.612412728Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.5","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:37.641368735Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.5","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:06:37.644216438Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.5","depends_on_id":"shredmaxxer-9tt.28.1.3","type":"blocks","created_at":"2026-01-14T05:06:37.646956194Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.5","depends_on_id":"shredmaxxer-9tt.28.1.10","type":"blocks","created_at":"2026-01-14T05:10:18.79991791Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.6","title":"Archive/History: wire mockup archive.html","description":"Goal:\n- Wire the Archive/History mockup to existing history queries and day detail rendering.\n\nChecklist:\n- Bind day list + filters + detail panes to VM/state.\n- Keep roster scan + missing-segment warnings aligned with mockup.\n- Ensure navigation back to Today works and preserves scroll/selection.","notes":"Archive view now uses mockup header/shell while retaining history list + backup/diagnostics containers required by existing renderers.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:43.214307765Z","created_by":"ubuntu","updated_at":"2026-01-14T05:22:41.037363728Z","closed_at":"2026-01-14T05:22:41.037368709Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.6","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:43.215349013Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.6","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:06:43.218424445Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.6","depends_on_id":"shredmaxxer-9tt.28.1.3","type":"blocks","created_at":"2026-01-14T05:06:43.221381035Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.6","depends_on_id":"shredmaxxer-9tt.28.1.10","type":"blocks","created_at":"2026-01-14T05:10:20.790235105Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.7","title":"Metrics/Review: wire mockup metrics.html","description":"Goal:\n- Wire the Metrics/Review mockup to existing metrics/review data and insights.\n\nChecklist:\n- Bind charts/summary stats to VM selectors.\n- Preserve insight dismissal and review rendering behavior.\n- Ensure empty states and comparisons render in mockup DOM.","notes":"Metrics/Review view now uses mockup shell with required IDs for coverage matrix, summaries, issues, correlations, insights, and rotation picks.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-14T05:06:49.077065531Z","created_by":"ubuntu","updated_at":"2026-01-14T05:22:48.267513803Z","closed_at":"2026-01-14T05:22:48.267518904Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.7","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:49.078149735Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.7","depends_on_id":"shredmaxxer-9tt.28.1.2","type":"blocks","created_at":"2026-01-14T05:06:49.081126047Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.7","depends_on_id":"shredmaxxer-9tt.28.1.3","type":"blocks","created_at":"2026-01-14T05:06:49.084146196Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.7","depends_on_id":"shredmaxxer-9tt.28.1.10","type":"blocks","created_at":"2026-01-14T05:10:22.625168703Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.8","title":"CSS + iconography alignment to mockups","description":"Goal:\n- Align CSS and icons with the mockups while keeping existing UI helpers functional.\n\nChecklist:\n- Import mockup typography + iconography assets and remove legacy CSS not used by mockup DOM.\n- Ensure responsive layout works in Chrome and Firefox (no broken flex/grid).\n- Keep tokens/variables consistent across screens for future tweaks.","notes":"Segment card typography tightened: bold uppercase titles + mono time with wider tracking.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T05:06:56.971895636Z","created_by":"ubuntu","updated_at":"2026-01-14T06:04:16.038954316Z","closed_at":"2026-01-14T05:30:38.046284517Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.8","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:06:56.973012227Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.8","depends_on_id":"shredmaxxer-9tt.28.1.4","type":"blocks","created_at":"2026-01-14T05:06:56.976268759Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.8","depends_on_id":"shredmaxxer-9tt.28.1.5","type":"blocks","created_at":"2026-01-14T05:06:56.979447306Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.8","depends_on_id":"shredmaxxer-9tt.28.1.6","type":"blocks","created_at":"2026-01-14T05:06:56.982573208Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.8","depends_on_id":"shredmaxxer-9tt.28.1.7","type":"blocks","created_at":"2026-01-14T05:06:56.98569993Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.28.1.9","title":"QA + cache invalidation for mockup UI","description":"Goal:\n- Verify the mockup UI ships cleanly and does not regress across browsers or caches.\n\nChecklist:\n- Manual smoke on all four screens in Chrome + Firefox.\n- Update SW precache list / cache-busting so new HTML/CSS ships immediately.\n- Confirm no legacy DOM is present in rendered output.","notes":"Static QA deep scan: import closure from app/boot.js now fully precached. Added ./app/safe_mode.js + ./storage/audit_log.js to sw.js and bumped cache version to v4-0.14 to prevent offline module failures.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-14T05:07:02.122015382Z","created_by":"ubuntu","updated_at":"2026-01-14T05:52:16.071434436Z","dependencies":[{"issue_id":"shredmaxxer-9tt.28.1.9","depends_on_id":"shredmaxxer-9tt.28.1","type":"parent-child","created_at":"2026-01-14T05:07:02.123222674Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.9","depends_on_id":"shredmaxxer-9tt.28.1.8","type":"blocks","created_at":"2026-01-14T05:07:02.126415951Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.28.1.9","depends_on_id":"shredmaxxer-9tt.28.1.11","type":"blocks","created_at":"2026-01-14T05:10:35.82135503Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.29","title":"Sync status pill + outbox badges","description":"Background:\\n- spec_vNext §3.3.1 and §3.4.1 require sync status pill in TopBar and outbox badges in nav.\\n\\nMockup reference:\\n- /stitchMockup/solar_log_home_screen/home.html (TopBar + status pill placement; bottom nav styling).\\n\\nWhat to take (granular):\\n- Pill placement and spacing within TopBar.\\n- Badge placement pattern in BottomNav.\\n\\nWhat to modify/drop:\\n- Replace NET/battery blocks with sync status + outbox count.\\n- Replace Material Symbols with SVG icons.\\n\\nScope:\\n- Display sync status (Idle/Syncing/Offline/Error) + outbox count in TopBar.\\n- Add badge on BottomNav/Rail when outbox pending.\\n- Reflect lastSyncTs in TopBar tooltip or subtext.\\n\\nAcceptance:\\n- Sync status and pending outbox visible across routes without layout jitter.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-14T02:33:06.27012951Z","created_by":"ubuntu","updated_at":"2026-01-14T04:23:44.220553634Z","closed_at":"2026-01-14T04:23:44.220553634Z","close_reason":"Sync status pill updates + outbox badge + tooltip","dependencies":[{"issue_id":"shredmaxxer-9tt.29","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:33:06.271254555Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.29","depends_on_id":"shredmaxxer-9tt.8","type":"blocks","created_at":"2026-01-14T02:34:09.628787489Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.29","depends_on_id":"shredmaxxer-9tt.4","type":"blocks","created_at":"2026-01-14T02:34:09.65814735Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.29","depends_on_id":"shredmaxxer-9tt.11","type":"blocks","created_at":"2026-01-14T02:36:56.857965387Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.3","title":"Visual system foundation (fonts, tokens, components)","description":"Background:\\n- spec_vNext §3.1 + §3.6 require extracting mockup visual language without importing Tailwind or Google Fonts.\\n\\nMockup sources to reference:\\n- home.html: background grid/noise, hard shadow cards, solar hero framing.\\n- segmenteditor.html: chip sizing, pill edges, sheet header/footer spacing.\\n- archive.html: timeline card density, border treatments.\\n- metrics.html: matrix grid styling, terminal panel aesthetic, optional cyan accent.\\n\\nWhat to take (granular):\\n- Color palette translated into CSS tokens (bg/surface/panel/border/primary + category accents).\\n- Hard-shadow style (4px / 2px offsets) as reusable tokens.\\n- Grid/noise/scanline overlays as optional classes (disable via reduceEffects).\\n- Typography scale: display vs mono hierarchy, using local fonts.\\n\\nWhat NOT to take:\\n- Tailwind utility classes, CDN scripts/links, Material Symbols.\\n- Any macro/metric labels that are not in schema.\\n\\nScope:\\n- Bundle Space Grotesk + JetBrains Mono WOFF2 locally and preload.\\n- Replace Material Symbols with internal SVG sprite/icons.\\n- Define reusable component classes for cards/chips/sheets/pills/tri controls.\\n\\nAcceptance:\\n- Token system matches mockup aesthetic while staying local-only.\\n- Components visually align with mockup shape language without Tailwind.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:30:29.327818498Z","created_by":"ubuntu","updated_at":"2026-01-14T03:05:10.727127838Z","closed_at":"2026-01-14T03:05:10.727127838Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.3","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:29.328771657Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.30","title":"Resolve spec_vNext inconsistencies (privacy posture vs hosted sync)","description":"Background:\n- docs/spec_vNext.md contains a conflicting statement in §1.4 (“Default is frictionless and local-first”) versus hosted-sync-first invariants in §0.2 and AGENTS.md.\n\nScope:\n- Reconcile spec_vNext privacy posture language to reflect hosted-sync default + offline-first cache, without losing optional privacy hardening intent.\n- Ensure AGENTS.md and README.md remain aligned with the corrected wording.\n\nConsiderations:\n- Preserve the “offline-first” UX promise and optional E2EE framing.\n- Keep spec consistent across all sections (no contradictions).\n\nAcceptance:\n- spec_vNext contains no conflicting statements about default storage posture.\n- AGENTS.md/README.md remain consistent with the corrected spec wording.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:36:43.198675669Z","created_by":"ubuntu","updated_at":"2026-01-14T02:52:50.801658718Z","closed_at":"2026-01-14T02:52:50.801658718Z","close_reason":"Updated spec_vNext §1.4 to hosted-sync-first wording; verified README/AGENTS align","dependencies":[{"issue_id":"shredmaxxer-9tt.30","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:36:43.199812727Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.31","title":"Heuristics + insights alignment (vNext tags + Tri highFatDay)","description":"Background:\n- spec_vNext §6 updates collision/highFat rules, seed-oil hints, and highFatDay auto logic.\n\nScope:\n- Update collision/highFat heuristics to match tag-based rules (fat:dense + carb:starch).\n- Ensure highFatDay Tri auto mode derives from effective highFatMeal flags.\n- Extend seed-oil hints to include fat:unknown.\n- Ensure insights/correlations copy is explainable and sample-size grounded.\n\nAcceptance:\n- Heuristic outputs match spec_vNext rules and are used consistently by UI + indexes.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T02:39:17.466833885Z","created_by":"ubuntu","updated_at":"2026-01-14T03:22:12.50646872Z","closed_at":"2026-01-14T03:22:12.50646872Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.31","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:39:17.467936083Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.31","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:39:28.601037267Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.4","title":"App shell + routing + event delegation","description":"Background:\\n- spec_vNext §3.2 and §11 require a consistent app shell with TopBar, main outlet, BottomNav/Rail, modal/toast roots, and delegated events.\\n\\nMockup sources to reference:\\n- home.html: TopBar + bottom nav structure, sticky header spacing.\\n\\nWhat to take (granular):\\n- Header composition: left brand block + right status block placement (replace status content).\\n- Bottom nav layout and active state spacing.\\n- Scrim layering approach for overlays.\\n\\nWhat to modify/drop:\\n- Drop NET/battery indicators; replace with sync status pill.\\n- Replace Material Symbols with SVG icons.\\n\\nScope:\\n- Implement shell DOM (#app with header/main/nav/modal/toast/scrim layers).\\n- Build router for Today/History/Review/Settings + Day Detail; map HOME/LOGS/STATS/CFG labels.\\n- Establish event delegation on #app using data-action payloads.\\n- Introduce data-region containers for partial re-render.\\n\\nAcceptance:\\n- Shell renders with all required layers and routes.\\n- Navigation switches routes on mobile/desktop.\\n- Event delegation + data-region structure in place.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:30:34.688162665Z","created_by":"ubuntu","updated_at":"2026-01-14T03:12:43.498631051Z","closed_at":"2026-01-14T03:12:43.498631051Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.4","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:34.689235104Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.5","title":"Data model updates + migrations (vNext schema)","description":"Background:\n- spec_vNext §4 introduces schema changes: highFatDay becomes Tri, new Settings fields, Meta integrity fields, roster icon, sync conflicts, etc.\n\nScope:\n- Update canonical schema types in domain/storage code (Tri highFatDay, weekStart, blurOnBackground, ui accents, roster icon, Meta.integrity, Meta.sync conflicts).\n- Migrate legacy values on load/hydrate (highFatDay boolean → Tri per Appendix B.1).\n- Ensure missing roster IDs are handled via \"[Missing Item]\" rendering and diagnostics warnings (Appendix B.2).\n- Keep meta.version=4 while adding fields.\n\nConsiderations:\n- Maintain export compatibility and avoid breaking existing imports.\n- Prefer additive fields; default to safe values when missing.\n\nAcceptance:\n- State hydration handles legacy shapes without errors.\n- New fields exist and are persisted in storage/export (except secrets).\n- UI can safely render missing roster IDs with repair path.\n","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:30:41.225202772Z","created_by":"ubuntu","updated_at":"2026-01-14T03:13:51.967720309Z","closed_at":"2026-01-14T03:13:51.967720309Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.5","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:41.226290822Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.6","title":"Persistence adapter + IDB store expansion","description":"Background:\n- spec_vNext §7 requires additional stores (insights, outbox, day/week indexes, audit log, sync credentials) and adapter methods.\n\nScope:\n- Extend storage adapter API: saveInsights + deleteSnapshot; ensure list/save/restore/delete snapshots.\n- Add IDB stores: insights, outbox, day_index, week_index, audit_log, sync_credentials (secrets-only).\n- Implement write strategy: immediate state updates + flush on pagehide/visibilitychange.\n\nConsiderations:\n- sync_credentials and audit_log must never be exported.\n- Keep localStorage fallback in place for legacy but avoid new features relying on it.\n\nAcceptance:\n- Adapter supports all spec_vNext persistence methods.\n- New stores are created in migrations without data loss.\n- Safe write/flush strategy validated for offline-first flow.\n","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:30:46.864122243Z","created_by":"ubuntu","updated_at":"2026-01-14T03:19:57.977202008Z","closed_at":"2026-01-14T03:19:57.977202008Z","close_reason":"Completed","dependencies":[{"issue_id":"shredmaxxer-9tt.6","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:46.865534703Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.6","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:07.892158026Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.7","title":"Derived indexes (day_index / week_index) + incremental rebuild","description":"Background:\\n- spec_vNext §10 requires cached aggregates for History and Review with staleness detection.\\n\\nScope:\\n- Implement DayIndex and WeekIndex stores and incremental update logic.\\n- Track sourceRev/sourceHlc and indexVersion to detect stale entries.\\n- Incorporate weekStart when computing week boundaries.\\n- Provide full rebuild on schema/indexVersion changes.\\n\\nConsiderations:\\n- Indexes are local-only and can be regenerated; prioritize correctness over speed.\\n- Integrate with review computations so Review renders progressively.\\n\\nAcceptance:\\n- History and Review can read from indexes when up-to-date.\\n- Stale indexes auto-rebuild without user intervention.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:30:51.517474939Z","created_by":"ubuntu","updated_at":"2026-01-14T03:48:33.533293799Z","closed_at":"2026-01-14T03:48:33.533293799Z","close_reason":"Derived index caches now load from storage, validated for freshness (rev/hlc + indexVersion), and rebuild when stale; updateIndexesForDay keeps day/week entries current; History/Review use cached entries only when fresh; added index tests.","dependencies":[{"issue_id":"shredmaxxer-9tt.7","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:51.518600065Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.7","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:07.91770697Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.7","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:07.946046165Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.7","depends_on_id":"shredmaxxer-9tt.31","type":"blocks","created_at":"2026-01-14T02:39:28.629964431Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.7","depends_on_id":"shredmaxxer-9tt.27","type":"blocks","created_at":"2026-01-14T02:39:45.238197155Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.8","title":"Hosted sync engine (outbox + HLC + leader election)","description":"Background:\\n- spec_vNext §8 defines hosted sync default behavior, HLC ordering, outbox replication, conflict handling, and leader election.\\n\\nScope:\\n- Implement HLC stamping on writes (actor = installId).\\n- Outbox queue with coalescing by key; retry with exponential backoff + jitter.\\n- Pull/merge/push loop using /api/sync/v1/* with ETag/If-Match and Idempotency-Key.\\n- BroadcastChannel leader election + localStorage heartbeat fallback.\\n- Conflict handling on 412 with snapshot label \"Sync conflict\" and retry.\\n\\nConsiderations:\\n- Sync must never block UI and must tolerate offline mode.\\n- Enforce Cache-Control: no-store and network-only for /api/sync/*.\\n\\nAcceptance:\\n- Offline edits enqueue and drain on reconnect.\\n- Multi-tab leader prevents duplicate pushes.\\n- Conflicts produce snapshots and converge without data loss.","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-14T02:30:58.590959106Z","created_by":"ubuntu","updated_at":"2026-01-14T04:13:57.740007945Z","closed_at":"2026-01-14T04:13:57.740007945Z","close_reason":"Implemented hosted sync engine (outbox, HLC, leader), wired into app","dependencies":[{"issue_id":"shredmaxxer-9tt.8","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:30:58.592031505Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.8","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:07.973969968Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.8","depends_on_id":"shredmaxxer-9tt.5","type":"blocks","created_at":"2026-01-14T02:34:07.999719013Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-9tt.9","title":"Sync credentials + link flow + optional E2EE","description":"Background:\\n- spec_vNext §8.6 and §3.6 require sync links (spaceId+authToken) and optional E2EE.\\n\\nScope:\\n- Define sync link encoding/decoding (spaceId + authToken + optional E2EE hint).\\n- Store secrets in sync_credentials store (not in TrackerState; never exported).\\n- Implement E2EE encryption for hosted sync payloads (AES-GCM + PBKDF2; AAD = {spaceId,key}).\\n- UX for copy/paste link + reset sync space + passphrase entry.\\n\\nConsiderations:\\n- Passphrase must never be persisted in plain storage; only KDF params saved.\\n- Reuse encrypted export crypto primitives where possible.\\n\\nAcceptance:\\n- Sync link flow works end-to-end without leaking credentials to exports.\\n- E2EE enabled results in ciphertext-only server payloads.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T02:31:04.392767628Z","created_by":"ubuntu","updated_at":"2026-01-14T04:21:21.849886542Z","closed_at":"2026-01-14T04:21:21.849886542Z","close_reason":"Sync link + credentials helpers, E2EE crypto, settings UI wiring","dependencies":[{"issue_id":"shredmaxxer-9tt.9","depends_on_id":"shredmaxxer-9tt","type":"parent-child","created_at":"2026-01-14T02:31:04.393773644Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.9","depends_on_id":"shredmaxxer-9tt.8","type":"blocks","created_at":"2026-01-14T02:34:08.025595874Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-9tt.9","depends_on_id":"shredmaxxer-9tt.6","type":"blocks","created_at":"2026-01-14T02:34:08.053278132Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ad4","title":"Allow app tests in recursive scan","description":"Remove app from run-node-tests skip list so repo-wide scan includes app tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T06:24:27.849469532Z","created_by":"ubuntu","updated_at":"2026-01-13T06:24:33.027585069Z","closed_at":"2026-01-13T06:24:33.027585069Z","close_reason":"Removed app from skip list"}
{"id":"shredmaxxer-bpp","title":"CSV export button","description":"Expose CSV export in UI (Backup panel) using storage/csv_export.js so users can export one-row-per-day CSV as specified.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T03:49:35.202095148Z","created_by":"ubuntu","updated_at":"2026-01-13T03:49:40.409234776Z","closed_at":"2026-01-13T03:49:40.409234776Z","close_reason":"Added Export CSV button, wired exportCsv action, and precached csv_export.js in SW."}
{"id":"shredmaxxer-c6v","title":"Offline precache encrypted_export.js","description":"App JS imports storage/encrypted_export.js but the SW app-shell cache omitted it, breaking offline load. Add to ASSETS and bump cache version.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T03:44:27.65557777Z","created_by":"ubuntu","updated_at":"2026-01-13T03:44:42.858618821Z","closed_at":"2026-01-13T03:44:42.858618821Z","close_reason":"Added storage/encrypted_export.js to SW ASSETS and bumped cache to v4-0.6."}
{"id":"shredmaxxer-cmp","title":"Test highFatDay auto in CSV rows","description":"Ensure CSV output marks highFatDay when tri is auto and high-fat meal auto derives true.","notes":"Updated storage/csv.test.mjs to assert highFatDay auto derives from high-fat meals; ran node --test storage/csv.test.mjs.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-14T03:22:30.341888894Z","created_by":"ubuntu","updated_at":"2026-01-14T03:22:33.246332708Z","closed_at":"2026-01-14T03:22:33.246336756Z"}
{"id":"shredmaxxer-d3r","title":"Include app tests in node runner defaults","description":"Update scripts/run-node-tests.mjs default dirs and docs to include app/ tests by default.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T06:23:46.98315707Z","created_by":"ubuntu","updated_at":"2026-01-13T06:23:52.596452891Z","closed_at":"2026-01-13T06:23:52.596452891Z","close_reason":"Updated run-node-tests default dirs + docs"}
{"id":"shredmaxxer-dce","title":"Compute effective highFatDay in weekly + CSV outputs","description":"highFatDay is tri with auto mode. Weekly issue counts and CSV exports should use effective highFatDay (auto derives from highFatMeal flags) instead of treating auto as false. Add effectiveHighFatDay helper and update tests.","notes":"Added effectiveHighFatDay in domain/heuristics.js and used it in weekly issue frequency + CSV exports. Updated weekly test fixture and expectations. Tests: node --test domain/weekly.test.mjs storage/csv.test.mjs storage/csv_export.test.mjs.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T03:08:43.254448054Z","created_by":"ubuntu","updated_at":"2026-01-14T03:08:46.476688648Z","closed_at":"2026-01-14T03:08:46.476692986Z"}
{"id":"shredmaxxer-djy","title":"Hydrate supplements roster on load","description":"# Summary\nEnsure hydrateState restores the supplements roster from stored state.\n\n# Problem\nhydrateState only restored proteins/carbs/fats/micros, so supplements roster was dropped on load.\n\n# Fix\nInclude supplements when rehydrating rosters.\n\n# Acceptance\n- Supplements roster persists across reloads when present in storage.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T04:47:58.127968802Z","created_by":"ubuntu","updated_at":"2026-01-13T04:48:03.342497119Z","closed_at":"2026-01-13T04:48:03.342497119Z","close_reason":"Hydrate supplements roster in loadState"}
{"id":"shredmaxxer-f1g","title":"Review summary UI (unique counts + FTN modes)","description":"Add Review summary block showing weekly unique counts and FTN mode totals; display phase guidance label.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T02:28:25.370582077Z","created_by":"ubuntu","updated_at":"2026-01-13T02:30:09.030669528Z","closed_at":"2026-01-13T02:30:09.030669528Z","close_reason":"Review summary UI already wired (summary, phase, issues)"}
{"id":"shredmaxxer-fil","title":"Add tests for effectiveHighFatDay","description":"Cover effectiveHighFatDay auto + override paths in domain/heuristics.test.mjs.","notes":"Added effectiveHighFatDay tests for auto + override no; ran node --test domain/heuristics.test.mjs.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-14T03:09:57.03805653Z","created_by":"ubuntu","updated_at":"2026-01-14T03:10:00.059714875Z","closed_at":"2026-01-14T03:10:00.059719203Z"}
{"id":"shredmaxxer-i1y","title":"Import merge helpers (v4)","description":"# Summary\nCreate merge helpers for v4 import that resolve day logs and segment conflicts deterministically.\n\n# Scope\n- Compare day/segment by (rev, tsLast) for winner-takes-segment.\n- Provide optional union strategy for item arrays.\n- Merge rosters by id with optional label-dedupe hooks.\n\n# Acceptance\n- Deterministic merge rules documented in code.\n- Helper functions are unit-tested for key scenarios.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:13:05.474733236Z","created_by":"ubuntu","updated_at":"2026-01-13T01:14:16.33086216Z","closed_at":"2026-01-13T01:14:16.33086216Z","close_reason":"Added import merge helpers + tests"}
{"id":"shredmaxxer-ii2","title":"Testing: Full coverage + e2e automation (no mocks)","description":"Summary:\nEstablish comprehensive automated unit + e2e coverage with real browser APIs (no mocks/fakes).\n\nScope:\n- Node unit runner for pure modules; browser unit runner for IDB/WebCrypto paths.\n- E2E harness with step-by-step structured logs and artifacts.\n- Documented commands for node-unit, browser-unit, and e2e runs.\n\nNotes:\n- Preserve local-first/no-build-chain constraints.\n- Commentary: This reduces user-facing regressions (privacy, exports, time model) and increases trust in offline reliability.","acceptance_criteria":"Coverage plan + automated suites exist; documented run commands; no mocks/fakes used","notes":"Completed","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-13T04:30:04.148913836Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:49.787599505Z","closed_at":"2026-01-13T05:06:49.787604394Z"}
{"id":"shredmaxxer-ii2.1","title":"Testing: coverage inventory + gap map","description":"Summary:\nCreate a module-by-module coverage inventory for existing tests and identify gaps.\n\nScope:\n- Catalog current .test.mjs coverage by module.\n- Identify missing unit coverage (domain, storage, app glue, UI helpers).\n- Identify missing integration/e2e coverage.\n- Produce a coverage matrix in docs (proposed: docs/testing-coverage.md).\n\nNotes:\n- No mocks/fakes; note when real browser APIs are required.\n- Commentary: Gives users and contributors a clear map of risk areas.","acceptance_criteria":"Coverage matrix documented; gaps listed with owners/next beads","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:30:09.080083759Z","created_by":"ubuntu","updated_at":"2026-01-13T04:37:06.936745729Z","closed_at":"2026-01-13T04:37:06.936745729Z","close_reason":"Added docs/testing-coverage.md coverage matrix + gaps","dependencies":[{"issue_id":"shredmaxxer-ii2.1","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:09.081194333Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.10","title":"Unit tests: CSV export/parse edge cases","description":"Summary:\nAdd coverage for CSV export/parse escaping and edge cases.\n\nScope:\n- Quotes, commas, newlines, and empty fields.\n- Round-trip export -\u003e parse -\u003e export invariants.\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use real strings, no mocks.","acceptance_criteria":"CSV edge cases covered","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-13T04:30:58.073664796Z","created_by":"ubuntu","updated_at":"2026-01-13T04:41:21.293328081Z","closed_at":"2026-01-13T04:41:21.293328081Z","close_reason":"Expanded csv.test.mjs with quote/comma/newline escaping cases","dependencies":[{"issue_id":"shredmaxxer-ii2.10","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:58.074696733Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.10","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:58.076719002Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.11","title":"E2E: tooling decision + documentation (no build chain impact)","description":"Summary:\nChoose and document a headless browser tool for e2e (Playwright/WebDriver), ensuring it remains dev-only and does not affect runtime build chain.\n\nScope:\n- Evaluate options (Playwright vs WebDriver) against needs: downloads, SW, visibility changes, IDB/WebCrypto.\n- Document install/run steps and any tooling dependencies.\n- Confirm tool can also drive browser-unit runner (shredmaxxer-ii2.20).\n\nNotes:\n- Must align with AGENTS.md: no build chain, local-first.\n- Commentary: Picking the right tool avoids future rework and flaky tests.","acceptance_criteria":"Tooling choice documented with run steps; supports e2e + browser-unit needs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:31:02.670308181Z","created_by":"ubuntu","updated_at":"2026-01-13T04:39:50.221996592Z","closed_at":"2026-01-13T04:39:50.221996592Z","close_reason":"Documented Playwright tooling choice in docs/testing-e2e-tooling.md and noted in AGENTS.md","dependencies":[{"issue_id":"shredmaxxer-ii2.11","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:02.671263984Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.12","title":"E2E: harness with structured logs + artifacts","description":"Summary:\nImplement a headless browser harness that runs e2e flows with detailed, structured logs and artifacts.\n\nScope:\n- Start/stop local server.\n- Reset app data between tests (clear IDB/localStorage) using real browser APIs.\n- Log each step with timestamps + assertions (structured JSONL preferred).\n- Capture screenshot/video on failure; retain artifacts (no deletion).\n- Exit non-zero on failure.\n\nNotes:\n- Use real browser APIs; no mocks/fakes.\n- Commentary: Reliable, diagnosable test runs protect users from regressions.","acceptance_criteria":"One command runs e2e suite with rich logs + artifacts","notes":"Completed","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:31:07.65813577Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:40.071555335Z","closed_at":"2026-01-13T05:06:40.071559884Z","dependencies":[{"issue_id":"shredmaxxer-ii2.12","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:07.659126424Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.12","depends_on_id":"shredmaxxer-ii2.11","type":"blocks","created_at":"2026-01-13T04:31:07.661116508Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.13","title":"E2E: core logging flow + undo + copy yesterday","description":"Summary:\nAutomate the primary \u003c=10s logging flow plus undo and copy-yesterday behaviors.\n\nScope:\n- Open segment, select chips/flags, add notes, close sheet.\n- Verify timeline counts + flags update.\n- Undo toast revert.\n- Copy yesterday (all/segments) with overwrite confirm.\n- Log step timings (informational, not hard fail).\n\nNotes:\n- Use real UI interactions; no mocks.\n- Commentary: Validates the fastest user path remains fast and reliable.","acceptance_criteria":"Core flow passes reliably in e2e; step timings logged","notes":"Completed","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:31:13.106478921Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.543850213Z","closed_at":"2026-01-13T05:06:46.543854401Z","dependencies":[{"issue_id":"shredmaxxer-ii2.13","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:13.107580979Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.13","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:13.109709268Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.14","title":"E2E: time model wrap-around + segment ordering","description":"Summary:\nAutomate time-model scenarios focused on wrap-around and segment ordering via UI.\n\nScope:\n- Configure wrap-around and verify active day after midnight.\n- Adjust segment ends and verify ordering + timeline updates.\n- DST clamp is covered in unit tests (domain/time), not e2e, to avoid time mocking.\n\nNotes:\n- Use real UI interactions; no mocks/fakes.\n- Commentary: Ensures core protocol-day UX is reliable.","acceptance_criteria":"Wrap-around and segment ordering e2e scenarios pass","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:31:17.966147979Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.566444939Z","closed_at":"2026-01-13T05:06:46.566447846Z","dependencies":[{"issue_id":"shredmaxxer-ii2.14","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:17.967244264Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.14","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:17.969407977Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.15","title":"E2E: roster management + search + pin/archive","description":"Summary:\nAutomate roster CRUD and search behaviors in the UI.\n\nScope:\n- Add new roster item from sheet and verify immediate availability.\n- Long-press pin/unpin and verify ordering.\n- Archive in Settings and verify hidden in chips.\n- Search/typeahead with aliases.\n\nDependencies:\n- Depends on e2e harness (shredmaxxer-ii2.12).\n\nNotes:\n- Use real UI interactions; no mocks.","acceptance_criteria":"Roster e2e scenarios pass","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:31:23.490117452Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.590328608Z","closed_at":"2026-01-13T05:06:46.590331153Z","dependencies":[{"issue_id":"shredmaxxer-ii2.15","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:23.491219108Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.15","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:23.493394634Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.16","title":"E2E: import/export + encrypted export + snapshots","description":"Summary:\nAutomate import/export flows including encrypted export and snapshot creation.\n\nScope:\n- Export JSON and encrypted export with passphrase.\n- Verify downloaded files contain expected payload shape (type/version).\n- Import merge vs replace with confirmation.\n- Verify pre-import snapshot appears in Diagnostics.\n\nNotes:\n- Use real file interactions + WebCrypto; no mocks.\n- Retain artifacts (no deletion).\n- Commentary: Protects user confidence in backup/restore.","acceptance_criteria":"Import/export e2e scenarios pass; payload contents verified","notes":"Completed","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:31:28.003672495Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.613900672Z","closed_at":"2026-01-13T05:06:46.613903268Z","dependencies":[{"issue_id":"shredmaxxer-ii2.16","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:28.004684091Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.16","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:28.006895248Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.17","title":"E2E: review tab + coverage matrix + rotation picks","description":"Summary:\nAutomate review tab verification (weekly summary, matrix, rotation picks).\n\nScope:\n- Verify week range and counts render.\n- Coverage matrix cell click navigates to correct day/segment.\n- Rotation picks list renders and updates with data.\n\nDependencies:\n- Depends on e2e harness (shredmaxxer-ii2.12).\n\nNotes:\n- Use real UI interactions; no mocks.","acceptance_criteria":"Review e2e scenarios pass","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:31:32.77662046Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.636745018Z","closed_at":"2026-01-13T05:06:46.636747724Z","dependencies":[{"issue_id":"shredmaxxer-ii2.17","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:32.777658839Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.17","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:32.779912892Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.18","title":"E2E: privacy features (app lock, blur, redaction)","description":"Summary:\nAutomate privacy feature behaviors end-to-end.\n\nScope:\n- App lock set/change/disable with passcode verification.\n- Redaction hides labels/notes in Today view.\n- Background blur: verify via real visibility change (headed run if required).\n\nNotes:\n- Use real UI + WebCrypto; no mocks/fakes.\n- Commentary: Ensures privacy posture is reliable for users.","acceptance_criteria":"Privacy e2e scenarios pass (app lock + redaction; blur verified in real visibility change)","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:31:37.951762234Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.660055438Z","closed_at":"2026-01-13T05:06:46.660058024Z","dependencies":[{"issue_id":"shredmaxxer-ii2.18","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:37.952733078Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.18","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:37.955052261Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.19","title":"E2E: PWA offline cache + SW update flow","description":"Summary:\nAutomate offline/PWA behavior: app-shell caching and update toast flow.\n\nScope:\n- Verify offline reload after initial visit.\n- Simulate SW cache version bump and observe update UI.\n- Confirm no console errors during update.\n\nNotes:\n- Use real service worker behavior; no mocks.\n- Likely requires HTTPS/localhost and a controllable server workflow.\n- Commentary: Ensures the app remains usable offline, which is core to local-first.","acceptance_criteria":"Offline reload and SW update flow validated end-to-end","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:31:43.540191824Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.684147665Z","closed_at":"2026-01-13T05:06:46.68415035Z","dependencies":[{"issue_id":"shredmaxxer-ii2.19","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:31:43.54797577Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.19","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:31:43.551773415Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.2","title":"Testing: Node unit runner + structured logs","description":"Summary:\nAdd a minimal Node-based unit test runner for pure modules with consistent, structured logging.\n\nScope:\n- Discover and run tests that do NOT require browser-only APIs.\n- Emit JSONL or tagged logs (start/stop timestamps, pass/fail counts, per-file status).\n- Exit non-zero on first failure with error details.\n\nNotes:\n- Browser-only tests (IDB/WebCrypto) are handled by the browser-unit runner bead.\n- Commentary: Fast feedback loop for contributors without heavy tooling.","acceptance_criteria":"One command runs node-only unit tests with readable structured logs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:30:13.55203228Z","created_by":"ubuntu","updated_at":"2026-01-13T04:38:46.829488198Z","closed_at":"2026-01-13T04:38:46.829488198Z","close_reason":"Added scripts/run-node-tests.mjs with structured JSONL logs; documented in docs/testing-coverage.md","dependencies":[{"issue_id":"shredmaxxer-ii2.2","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:13.553082382Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.20","title":"Testing: browser unit runner (headless, real APIs)","description":"Summary:\nAdd a browser-based unit test runner for modules that require real WebCrypto/IndexedDB.\n\nScope:\n- Reuse chosen headless browser tool (from e2e tooling decision).\n- Run browser-only unit suites (IDB adapter, encrypted export paths).\n- Emit structured logs aligned with node runner (timestamps, per-file status).\n\nDependencies:\n- Depends on e2e tooling decision (shredmaxxer-ii2.11).\n\nNotes:\n- No mocks/fakes; real browser APIs only.\n- Commentary: Ensures critical offline/storage/security paths are covered realistically.","acceptance_criteria":"One command runs browser-only unit tests with structured logs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:33:53.799089Z","created_by":"ubuntu","updated_at":"2026-01-13T04:53:36.287536175Z","closed_at":"2026-01-13T04:53:36.287536175Z","close_reason":"Added Playwright browser unit runner (scripts/run-browser-tests.mjs) and browser test harness under tests/browser","dependencies":[{"issue_id":"shredmaxxer-ii2.20","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:33:53.800148662Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.20","depends_on_id":"shredmaxxer-ii2.11","type":"blocks","created_at":"2026-01-13T04:33:53.802683359Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.21","title":"E2E: persistence + diagnostics panel","description":"Summary:\nAutomate persistence across reload and Diagnostics panel accuracy.\n\nScope:\n- Add data, reload, confirm persistence.\n- Verify Diagnostics shows storage mode, persist status, schema/app version, install ID.\n- Confirm snapshot count updates after create/restore.\n\nDependencies:\n- Depends on e2e harness (shredmaxxer-ii2.12).\n\nNotes:\n- Use real browser APIs; no mocks/fakes.\n- Commentary: Proves durability and transparency to users.","acceptance_criteria":"Persistence + diagnostics e2e scenarios pass","notes":"Completed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:34:23.153523489Z","created_by":"ubuntu","updated_at":"2026-01-13T05:06:46.706839255Z","closed_at":"2026-01-13T05:06:46.706842772Z","dependencies":[{"issue_id":"shredmaxxer-ii2.21","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:34:23.154544864Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.21","depends_on_id":"shredmaxxer-ii2.12","type":"blocks","created_at":"2026-01-13T04:34:23.15700393Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.3","title":"Unit tests: domain/time + DST clamp + activeDay edges","description":"Summary:\nExpand time-model tests to cover DST clamping, wrap-around edge cases, and segment window ordering.\n\nScope:\n- activeDayKey across DST transitions and boundaries.\n- computeSegmentWindows ordering and no-negative widths.\n- sunrise/sunset auto inputs (computeSunTimes) with real data, no mocks.\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use real Date objects; avoid stubbing time.","acceptance_criteria":"Time model edge cases covered; deterministic tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:30:18.911109128Z","created_by":"ubuntu","updated_at":"2026-01-13T04:42:45.086158526Z","closed_at":"2026-01-13T04:42:45.086158526Z","close_reason":"Expanded domain/time.test.mjs with protocol boundaries, segment ordering, sun times, and DST clamp (skippable)","dependencies":[{"issue_id":"shredmaxxer-ii2.3","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:18.91207861Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.3","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:18.913635987Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.4","title":"Unit tests: domain/heuristics + flags + insights determinism","description":"Summary:\nIncrease coverage for heuristics/flags/insights with deterministic inputs (no mocks).\n\nScope:\n- effectiveSegmentFlags + normalizeTri edge cases.\n- Collision/high-fat logic with overrides and auto modes.\n- Insights generation invariants (no duplicate ids, stable ordering).\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use explicit fixtures; avoid stubbing or fake timers.","acceptance_criteria":"Heuristics + insights edge cases covered","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:30:23.643598355Z","created_by":"ubuntu","updated_at":"2026-01-13T04:50:43.855729925Z","closed_at":"2026-01-13T04:50:43.855729925Z","close_reason":"Added heuristics.test.mjs + expanded flags/insights tests for determinism and overrides","dependencies":[{"issue_id":"shredmaxxer-ii2.4","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:23.644595711Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.4","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:23.646337037Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.5","title":"Unit tests: domain/weekly + coverage + correlations + rotation","description":"Summary:\nExpand weekly review unit tests for coverage matrix, correlations, and rotation picks.\n\nScope:\n- Coverage matrix correctness for partial weeks.\n- Correlation computations with sparse data.\n- Rotation picks determinism and tie-breaking.\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use real data fixtures; no mocks.","acceptance_criteria":"Weekly review algorithms covered with edge cases","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:30:28.076662104Z","created_by":"ubuntu","updated_at":"2026-01-13T04:50:47.523190626Z","closed_at":"2026-01-13T04:50:47.523190626Z","close_reason":"Expanded weekly/correlation/rotation tests with edge cases and tie-breakers","dependencies":[{"issue_id":"shredmaxxer-ii2.5","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:28.077680883Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.5","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:28.079316407Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.6","title":"Unit tests: domain/roster + roster_edit + search + recents + revisions","description":"Summary:\nComplete unit coverage for roster operations and recents/revisions helpers.\n\nScope:\n- Roster item normalization, alias/tag edits, pinned/archive transitions.\n- Search behavior with aliases and tag matches.\n- Recents ordering and truncation.\n- Revision counters/timestamps behavior.\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use real data fixtures; no mocks.","acceptance_criteria":"Roster and recents/revisions helpers fully covered","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:30:32.938832912Z","created_by":"ubuntu","updated_at":"2026-01-13T04:50:50.948650351Z","closed_at":"2026-01-13T04:50:50.948650351Z","close_reason":"Added roster.test.mjs + expanded roster_edit/recents/revisions coverage","dependencies":[{"issue_id":"shredmaxxer-ii2.6","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:32.939927684Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.6","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:32.941705434Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.7","title":"Unit tests: storage/adapter idb + localStorage + persist status","description":"Summary:\nAdd unit coverage for storage adapter behavior across idb/localStorage and persist status detection.\n\nScope:\n- Adapter fallback order and error handling.\n- Persisted storage request paths (granted/denied/unknown).\n- Idempotent reads/writes and schema versioning.\n\nNotes:\n- Requires real IndexedDB; plan to run in browser-unit runner (see shredmaxxer-ii2.20).\n- Commentary: Directly protects offline durability expectations for users.","acceptance_criteria":"Adapter behavior covered for idb + localStorage paths (real IDB)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:30:39.289358159Z","created_by":"ubuntu","updated_at":"2026-01-13T04:53:41.1134477Z","closed_at":"2026-01-13T04:53:41.1134477Z","close_reason":"Added browser unit tests for storage adapter (tests/browser/adapter_idb.test.mjs) via Playwright runner","dependencies":[{"issue_id":"shredmaxxer-ii2.7","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:39.290411718Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.7","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:39.292167412Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.8","title":"Unit tests: storage import/export/merge + snapshots","description":"Summary:\nExpand unit tests for import/export/merge flows and snapshot retention logic.\n\nScope:\n- Merge vs replace behavior with overlapping rosters/logs.\n- Snapshot creation before import/migration.\n- Snapshot retention pruning rules.\n\nDependencies:\n- Depends on unit test runner (shredmaxxer-ii2.2).\n\nNotes:\n- Use real payload fixtures; avoid mocks.","acceptance_criteria":"Import/export/merge and snapshots fully covered","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T04:30:45.15368544Z","created_by":"ubuntu","updated_at":"2026-01-13T04:50:55.065322204Z","closed_at":"2026-01-13T04:50:55.065322204Z","close_reason":"Expanded import_flow.test.mjs merge/sanitize coverage and snapshots.test.mjs prune/sort/serialize coverage","dependencies":[{"issue_id":"shredmaxxer-ii2.8","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:45.1547146Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.8","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:45.156527429Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-ii2.9","title":"Unit tests: encrypted export/import + crypto error paths","description":"Summary:\nAdd unit coverage for encrypted export/import, including wrong-passphrase and missing WebCrypto paths.\n\nScope:\n- encrypt/decrypt round-trip with real WebCrypto.\n- Wrong passphrase failure path (no state mutation).\n- Guard paths when crypto is unavailable (documented environment requirement).\n\nNotes:\n- Prefer browser-unit runner (shredmaxxer-ii2.20) for real WebCrypto.\n- Commentary: Protects user trust in encrypted backups.","acceptance_criteria":"Encrypted export/import edge cases covered with real WebCrypto","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T04:30:52.041946074Z","created_by":"ubuntu","updated_at":"2026-01-13T04:53:44.426246672Z","closed_at":"2026-01-13T04:53:44.426246672Z","close_reason":"Added browser encrypted export unit test (tests/browser/encrypted_export.test.mjs) via Playwright runner","dependencies":[{"issue_id":"shredmaxxer-ii2.9","depends_on_id":"shredmaxxer-ii2","type":"parent-child","created_at":"2026-01-13T04:30:52.042925865Z","created_by":"ubuntu"},{"issue_id":"shredmaxxer-ii2.9","depends_on_id":"shredmaxxer-ii2.2","type":"blocks","created_at":"2026-01-13T04:30:52.044747262Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-juz","title":"Wire storage adapter into app.js","status":"closed","priority":0,"issue_type":"task","assignee":"SilverRiver","created_at":"2026-01-13T02:15:08.433573242Z","created_by":"ubuntu","updated_at":"2026-01-13T02:20:22.058295312Z","closed_at":"2026-01-13T02:20:22.058295312Z","close_reason":"Storage adapter successfully wired into app.js. IndexedDB-first persistence now active with localStorage fallback. All save operations updated to use async persist functions. Boot sequence handles async state initialization. Tested and committed.","dependencies":[{"issue_id":"shredmaxxer-juz","depends_on_id":"shredmaxxer-8as.3","type":"blocks","created_at":"2026-01-13T02:15:16.197573219Z","created_by":"ubuntu"}]}
{"id":"shredmaxxer-m0e","title":"CSV export helper","description":"# Summary\nProvide CSV export helpers that serialize v4 logs into a day-by-day CSV with per-segment item labels and issue flags.\n\n# Scope\n- Map item IDs to labels via rosters.\n- Compute effective collision/high-fat flags using tag heuristics.\n- Output header + rows with stable DateKey ordering.\n\n# Acceptance\n- CSV includes per-segment item lists and daily toggles/signals.\n- Deterministic ordering and test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T01:34:51.656277979Z","created_by":"ubuntu","updated_at":"2026-01-13T01:36:07.551053368Z","closed_at":"2026-01-13T01:36:07.551053368Z","close_reason":"Added CSV export helper + tests"}
{"id":"shredmaxxer-na5","title":"Test seed oil hint for fat:unknown","description":"Add coverage in domain/flags.test.mjs to ensure computeSeedOilHint returns true for fat:unknown tags.","notes":"Added fat:unknown case in domain/flags.test.mjs; ran node --test domain/flags.test.mjs.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-14T03:17:53.964002854Z","created_by":"ubuntu","updated_at":"2026-01-14T03:17:59.346257227Z","closed_at":"2026-01-14T03:17:59.346261285Z"}
{"id":"shredmaxxer-qtc","title":"Import parser wrapper (validate + legacy detect)","description":"# Summary\nProvide an import parser that decodes JSON text and routes it through v4 validation, returning structured errors and legacy flags for the UI flow.\n\n# Scope\n- parse JSON text safely (return errors on parse failures).\n- call `validateImportPayload` to validate v4 payloads.\n- surface `legacy` + `version` flags for migration path.\n\n# Acceptance\n- Invalid JSON returns a readable error without throwing.\n- Valid v4 payload returns ok + payload.\n- Legacy payload returns ok=false + legacy flag.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:11:44.451723012Z","created_by":"ubuntu","updated_at":"2026-01-13T01:12:36.926894561Z","closed_at":"2026-01-13T01:12:36.926894561Z","close_reason":"Added import parser wrapper + tests"}
{"id":"shredmaxxer-qzc","title":"Update seed-oil hint message","description":"Adjust seed-oil hint message/reason to mention fat:unknown now that rule covers it.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T06:25:22.629507658Z","created_by":"ubuntu","updated_at":"2026-01-13T06:25:26.743864092Z","closed_at":"2026-01-13T06:25:26.743864092Z","close_reason":"Updated message + reason"}
{"id":"shredmaxxer-rih","title":"Insights seed-oil hint covers fat:unknown","description":"Align day insight seed-oil hint with heuristics (fat:seed_oil or fat:unknown). Update tests to cover fat:unknown tag.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T06:21:35.559095592Z","created_by":"ubuntu","updated_at":"2026-01-13T06:21:41.506745012Z","closed_at":"2026-01-13T06:21:41.506745012Z","close_reason":"Implemented + tested"}
{"id":"shredmaxxer-tgc","title":"LocalStorage fallback adapter","description":"# Summary\\nProvide a localStorage-based StorageAdapter as the v4 fallback when IndexedDB is unavailable.\\n\\n# Scope\\n- Implement adapter API mirroring idbAdapter: loadState/saveDay/saveSettings/saveRosters/saveMeta/listSnapshots/saveSnapshot/restoreSnapshot.\\n- Use a single v4 key for serialized state + separate snapshot list or embed snapshots.\\n- Preserve non-destructive behavior and avoid legacy migration here.\\n\\n# Acceptance\\n- Adapter can round-trip v4 state to localStorage without errors.\\n- API matches idbAdapter for drop-in use.\\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:10:02.267680887Z","created_by":"ubuntu","updated_at":"2026-01-13T01:10:50.518717071Z","closed_at":"2026-01-13T01:10:50.518717071Z","close_reason":"Added localStorage fallback adapter"}
{"id":"shredmaxxer-vp0","title":"Roster migration helper (labels → IDs)","description":"# Summary\nAdd a pure helper that migrates legacy roster label arrays to v4 ID-based rosters and converts logs accordingly.\n\n# Scope\n- Build roster items from legacy rosters + labels found in logs\n- Apply conservative default tags when labels match defaults\n- Convert segment arrays from labels to IDs (per category)\n- Return updated rosters, logs, and label→id maps\n\n# Acceptance\n- Missing labels in logs generate new roster items (no data loss)\n- Conversion is deterministic and preserves order where possible\n- Module is isolated and unit-tested","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:29:42.310405439Z","created_by":"ubuntu","updated_at":"2026-01-13T01:29:51.617707271Z","closed_at":"2026-01-13T01:29:51.617707271Z","close_reason":"Added migration helper + tests"}
{"id":"shredmaxxer-wjs","title":"Normalize highFatDay tri handling in weekly + CSV exports","description":"highFatDay is now tri (auto/yes/no), but weekly issue frequency and CSV exports treated any truthy string as true, causing \"auto\" to count as 1. Normalize via normalizeTri so only yes counts; add regression coverage.","notes":"Updated domain/weekly.js and storage/csv*.js to use normalizeTri for highFatDay. Added weekly test coverage for auto case; tests pass.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T03:01:34.546381137Z","created_by":"ubuntu","updated_at":"2026-01-14T03:01:37.194167836Z","closed_at":"2026-01-14T03:01:37.194172656Z"}
{"id":"shredmaxxer-yc7","title":"SW cache includes app/helpers.js","description":"Add app/helpers.js to service worker asset list and bump cache version to ensure offline loads new module.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T06:23:04.498302047Z","created_by":"ubuntu","updated_at":"2026-01-13T06:23:07.870609394Z","closed_at":"2026-01-13T06:23:07.870609394Z","close_reason":"Updated sw.js asset list + cache version"}
{"id":"shredmaxxer-z6w","title":"Export helpers (JSON payload)","description":"# Summary\nAdd helper functions to build v4 JSON export payloads with exportedAt/appVersion metadata.\n\n# Scope\n- Build plain JSON export object: `{...state, exportedAt, appVersion}`.\n- Provide string serialization helper for downloads.\n\n# Acceptance\n- Exports include timestamp and optional appVersion.\n- Helpers are unit-tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T01:15:07.906665731Z","created_by":"ubuntu","updated_at":"2026-01-13T01:15:47.302947016Z","closed_at":"2026-01-13T01:15:47.302947016Z","close_reason":"Added export helpers + tests"}
{"id":"shredmaxxer-znx","title":"Import flow helper (pre-import snapshot + merge/replace)","description":"# Summary\nAdd a pure import flow helper that parses/validates input, creates pre-import snapshots, and applies merge or replace semantics.\n\n# Scope\n- Accept JSON text or payload\n- Validate v4 payloads\n- Create pre-import snapshot\n- Merge (default) or replace\n- Expose merge helpers for logs/state\n\n# Acceptance\n- Returns structured result with nextState + snapshot metadata\n- Merge uses rev/tsLast precedence for day/segment\n- Replace returns imported state verbatim","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T01:32:15.544433502Z","created_by":"ubuntu","updated_at":"2026-01-13T01:32:20.104166154Z","closed_at":"2026-01-13T01:32:20.104166154Z","close_reason":"Added import flow module + tests"}
